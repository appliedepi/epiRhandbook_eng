<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>48 Version control and collaboration with Github | The Epidemiologist R Handbook</title>
<meta name="author" content="the handbook team">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.15/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><link href="libs/vis-4.20.1/vis.css" rel="stylesheet">
<script src="libs/vis-4.20.1/vis.min.js"></script><script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-1.57.1/plotly-basic-1.57.1.min.js"></script><script src="libs/plotly-cartesian-1.57.1/plotly-cartesian-1.57.1.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">The Epidemiologist R Handbook</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">About this book</li>
<li><a class="" href="editorial-and-technical-notes.html"><span class="header-section-number">1</span> Editorial and technical notes</a></li>
<li><a class="" href="download-handbook-and-data.html"><span class="header-section-number">2</span> Download handbook and data</a></li>
<li class="book-part">Basics</li>
<li><a class="" href="r-basics.html"><span class="header-section-number">3</span> R Basics</a></li>
<li><a class="" href="transition-to-r.html"><span class="header-section-number">4</span> Transition to R</a></li>
<li><a class="" href="suggested-packages-1.html"><span class="header-section-number">5</span> Suggested packages</a></li>
<li><a class="" href="r-projects.html"><span class="header-section-number">6</span> R projects</a></li>
<li><a class="" href="import-and-export.html"><span class="header-section-number">7</span> Import and export</a></li>
<li class="book-part">Data Management</li>
<li><a class="" href="cleaning-data-and-core-functions.html"><span class="header-section-number">8</span> Cleaning data and core functions</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">9</span> Working with dates</a></li>
<li><a class="" href="characters-and-strings.html"><span class="header-section-number">10</span> Characters and strings</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">11</span> Factors</a></li>
<li><a class="" href="pivoting-data.html"><span class="header-section-number">12</span> Pivoting data</a></li>
<li><a class="" href="grouping-data.html"><span class="header-section-number">13</span> Grouping data</a></li>
<li><a class="" href="joining-data.html"><span class="header-section-number">14</span> Joining data</a></li>
<li><a class="" href="de-duplication.html"><span class="header-section-number">15</span> De-duplication</a></li>
<li><a class="" href="iteration-loops-and-lists.html"><span class="header-section-number">16</span> Iteration, loops, and lists</a></li>
<li class="book-part">Analysis</li>
<li><a class="" href="descriptive-tables.html"><span class="header-section-number">17</span> Descriptive tables</a></li>
<li><a class="" href="simple-statistical-tests.html"><span class="header-section-number">18</span> Simple statistical tests</a></li>
<li><a class="" href="univariate-and-multivariable-regression.html"><span class="header-section-number">19</span> Univariate and multivariable regression</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">20</span> Missing data</a></li>
<li><a class="" href="standardization-1.html"><span class="header-section-number">21</span> Standardization</a></li>
<li><a class="" href="moving-averages.html"><span class="header-section-number">22</span> Moving averages</a></li>
<li><a class="" href="time-series-and-outbreak-detection.html"><span class="header-section-number">23</span> Time series and outbreak detection</a></li>
<li><a class="" href="epidemic-modeling.html"><span class="header-section-number">24</span> Epidemic modeling</a></li>
<li><a class="" href="contact-tracing-1.html"><span class="header-section-number">25</span> Contact tracing</a></li>
<li><a class="" href="survey-analysis.html"><span class="header-section-number">26</span> Survey analysis</a></li>
<li><a class="" href="survival-analysis.html"><span class="header-section-number">27</span> Survival analysis</a></li>
<li><a class="" href="gis-basics.html"><span class="header-section-number">28</span> GIS basics</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="tables-for-presentation.html"><span class="header-section-number">29</span> Tables for presentation</a></li>
<li><a class="" href="ggplot-basics.html"><span class="header-section-number">30</span> ggplot basics</a></li>
<li><a class="" href="plot-continuous-data.html"><span class="header-section-number">31</span> Plot continuous data</a></li>
<li><a class="" href="plot-categorical-data.html"><span class="header-section-number">32</span> Plot categorical data</a></li>
<li><a class="" href="ggplot-tips.html"><span class="header-section-number">33</span> ggplot tips</a></li>
<li><a class="" href="epidemic-curves.html"><span class="header-section-number">34</span> Epidemic curves</a></li>
<li><a class="" href="demographic-pyramids-and-likert-scales.html"><span class="header-section-number">35</span> Demographic pyramids and Likert-scales</a></li>
<li><a class="" href="diagrams-and-charts.html"><span class="header-section-number">36</span> Diagrams and charts</a></li>
<li><a class="" href="combinations-analysis.html"><span class="header-section-number">37</span> Combinations analysis</a></li>
<li><a class="" href="heat-plots.html"><span class="header-section-number">38</span> Heat plots</a></li>
<li><a class="" href="transmission-chains.html"><span class="header-section-number">39</span> Transmission chains</a></li>
<li><a class="" href="phylogenetic-trees-1.html"><span class="header-section-number">40</span> Phylogenetic trees</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">41</span> Interactive plots</a></li>
<li class="book-part">Reports and dashboards</li>
<li><a class="" href="reports-with-r-markdown.html"><span class="header-section-number">42</span> Reports with R Markdown</a></li>
<li><a class="" href="organizing-routine-reports.html"><span class="header-section-number">43</span> Organizing routine reports</a></li>
<li><a class="" href="dashboards-with-r-markdown.html"><span class="header-section-number">44</span> Dashboards with R Markdown</a></li>
<li><a class="" href="dashboards-with-shiny.html"><span class="header-section-number">45</span> Dashboards with Shiny</a></li>
<li class="book-part">Miscellaneous</li>
<li><a class="" href="writing-functions-1.html"><span class="header-section-number">46</span> Writing functions</a></li>
<li><a class="" href="directory-interactions.html"><span class="header-section-number">47</span> Directory interactions</a></li>
<li><a class="active" href="version-control-and-collaboration-with-github.html"><span class="header-section-number">48</span> Version control and collaboration with Github</a></li>
<li><a class="" href="common-errors.html"><span class="header-section-number">49</span> Common errors</a></li>
<li><a class="" href="getting-help.html"><span class="header-section-number">50</span> Getting help</a></li>
<li><a class="" href="r-on-network-drives.html"><span class="header-section-number">51</span> R on network drives</a></li>
<li><a class="" href="data-table.html"><span class="header-section-number">52</span> Data Table</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="version-control-and-collaboration-with-github" class="section level1" number="48">
<h1>
<span class="header-section-number">48</span> Version control and collaboration with Github<a class="anchor" aria-label="anchor" href="#version-control-and-collaboration-with-github"><i class="fas fa-link"></i></a>
</h1>
<p>This page presents an overview of using Github to collaborate with others. More extensive tutorials, which informed the writing of this page, can be found at the bottom in the Resources section.</p>
<div id="why-use-github" class="section level2" number="48.1">
<h2>
<span class="header-section-number">48.1</span> Why use Github<a class="anchor" aria-label="anchor" href="#why-use-github"><i class="fas fa-link"></i></a>
</h2>
<p>Github is a website that supports <strong>collaborative projects</strong> with <strong>version control</strong>. Basically, it facilitates:</p>
<ol style="list-style-type: decimal">
<li>Archiving versions with incremental changes so that you can easily revert backwards<br>
</li>
<li>Collaboration so that others can review, comment on, and accept/decline changes<br>
</li>
<li>Having parallel developing/“working” versions with structured ways to integrate the changes after review<br>
</li>
<li>the option to publicly share your code, data, and outputs, and invite feedback from the public</li>
</ol>
<p>Using Github is helpful if working within a team, if you want to have a system for code review, and if you want Github to take care of version control and archiving. Github helps avoid the having many saved versions of scripts and files with various dates stamps.</p>
<p>Github’s value as a collaboration and quality-control tool does come at the cost of some speed - the processes of uploading and reviewing may not be optimal for some teams working in emergency contexts.</p>
</div>
<div id="github-basics" class="section level2" number="48.2">
<h2>
<span class="header-section-number">48.2</span> Github basics<a class="anchor" aria-label="anchor" href="#github-basics"><i class="fas fa-link"></i></a>
</h2>
<div id="what-is-git" class="section level3 unnumbered">
<h3>What is Git?<a class="anchor" aria-label="anchor" href="#what-is-git"><i class="fas fa-link"></i></a>
</h3>
<p><em>Git</em> is a version control software. When you use Github, the software <em>Git</em> on your computer is the engine behind the scenes that tracks changes, branches (versions), merges, and reverting. <strong>To use Github with your R work, you must first install <em>Git</em> from <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a>.</strong></p>
<p>In typical use, you rarely have to interact directly with Git. You can interact with it through RStudio or Github Desktop. However, Git has its own language of commands, which can be typed into either a command line terminal (or an application like Git Bash for Windows), or can also be typed into the RStudio “Terminal” pane (a tab adjacent to the R Console).</p>
<p>As noted below, you may <em>occasionally</em> have to write Git commands into a terminal such as the RStudio terminal. To learn Git commands see this online <a href="learngitbranching.js.org">interactive tutorial</a>, or the later section on <a href="version-control-and-collaboration-with-github.html#git">Git</a>.</p>
</div>
<div id="what-is-github" class="section level3 unnumbered">
<h3>What is Github?<a class="anchor" aria-label="anchor" href="#what-is-github"><i class="fas fa-link"></i></a>
</h3>
<p><em>Github</em> is a website (<a href="github.com">github.com</a>) that facilitates and enhances the use of Git, including capabilities for code review, issue-tracking, and sharing with the public.</p>
</div>
<div id="github-account" class="section level3 unnumbered">
<h3>Github account<a class="anchor" aria-label="anchor" href="#github-account"><i class="fas fa-link"></i></a>
</h3>
<p>Sign-up for a free account at <a href="github.com">github.com</a>.</p>
<p>You may be requested to set-up two-factor authentication with an app on your phone. Read more in the Github <a href="https://docs.github.com/en/github/authenticating-to-github/securing-your-account-with-two-factor-authentication-2fa">help documents</a>.</p>
</div>
<div id="github-repositories" class="section level3 unnumbered">
<h3>Github repositories<a class="anchor" aria-label="anchor" href="#github-repositories"><i class="fas fa-link"></i></a>
</h3>
<p>A Github repository (“repo”) is like a folder that contains all the sub-folders and files for your project (data, code, images, etc.) and their revision histories. A Github repository aligns nicely with an <em>R Project</em> (see handbook page on <a href="r-projects.html#r-projects">R projects</a>.</p>
<p>To create a new repository, log-in to Github and look for the green button to create a new repository.</p>
<div class="inline-figure"><img src="images/github_new.png" width="276" style="display: block; margin: auto;"></div>
<p>Some general considerations when you open a new repository:</p>
<div id="public-or-private" class="section level4 unnumbered">
<h4>Public or private<a class="anchor" aria-label="anchor" href="#public-or-private"><i class="fas fa-link"></i></a>
</h4>
<p>You must choose if you want your repository to be public (visible to everyone on the internet) or private (only visible to those with permission). This has important implications if your data are sensitive. If your repository is private you will encounter some quotas in advanced special circumstances, such as if you are using Github <em>actions</em> to automatically run your code in the cloud.</p>
</div>
<div id="start-up-files" class="section level4 unnumbered">
<h4>Start-up files<a class="anchor" aria-label="anchor" href="#start-up-files"><i class="fas fa-link"></i></a>
</h4>
<p>All of the below files are offered when you create a new repository, are optional, and you can also add them to your repository at a later stage. They would typically live in the “root” folder of the repository. Brief descriptions are below:</p>
<ul>
<li><p>A <em>README</em> file. This is a file that someone can read to understand why your project exists and what else they should know to use it. It will be empty at first, but you can complete it later.</p></li>
<li><p>A <em>.gitignore</em> file is a text file where each line would contain folders or files that Github should ignore (not track changes). Read more about it and see examples <a href="https://www.freecodecamp.org/news/gitignore-what-is-it-and-how-to-add-to-repo/">here</a>.</p></li>
<li><p>You can choose a <em>license</em> for your work, so that it is not reproduced by others without due acknowledgment. For more information, see the <a href="https://creativecommons.org/licenses/">Creative Commons licenses</a>.</p></li>
</ul>
</div>
</div>
<div id="key-vocabulary" class="section level3 unnumbered">
<h3>Key vocabulary<a class="anchor" aria-label="anchor" href="#key-vocabulary"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>To <em>clone</em> - to create a copy of a Github repository locally on your computer (could manifest as an R project)<br>
</li>
<li>When you have cloned a repository, the project files will then exist in two places:
<ul>
<li>
<em>REMOTE</em> - the versions of your project files that exist online in the Github repository<br>
</li>
<li>
<em>LOCAL</em> - this is a <em>clone</em> of the online repository that exists on your physical computer. This is where you make the actual changes to the files/code.<br>
</li>
</ul>
</li>
<li>
<em>Pull</em> and <em>push</em> - these are how the REMOTE repository syncs changes with the LOCAL repository<br>
</li>
<li>
<em>Branches</em> - these are parallel, alternate versions of your project files
<ul>
<li>The <em>“main” branch</em> is the primary/final/“live” version of your files<br>
</li>
<li>Other branches are made to test changes before they are incorporated into the “main” branch<br>
</li>
</ul>
</li>
<li>A <em>commit</em> - is a trackable unit of changes (the delta) made to your files. For example, perhaps you edit some lines of code and update a related dataset. Once your changes are saved, you can bundle these changes togeher into one “commit”. For version control purposes, you can revert your project back in time based on commits, so it is best to keep them relatively small. You will also attach a brief description of the changes as the “commit message”.<br>
</li>
<li>To <em>merge</em> - To adopt changes from one branch into another (e.g. into “main”), you <em>merge</em> one branch into the other.<br>
</li>
<li>A <em>pull request</em> - (a “PR”) is a request to merge one branch into another. A pull request typically involves multiple commits, which each contain changes to certain files. A pull request usually begins a conversation and review process before the it is accepted and the branch is merged.</li>
</ul>
</div>
</div>
<div id="set-up" class="section level2" number="48.3">
<h2>
<span class="header-section-number">48.3</span> Set-up<a class="anchor" aria-label="anchor" href="#set-up"><i class="fas fa-link"></i></a>
</h2>
<p>Two general approaches to set-up are:</p>
<ul>
<li>Create a new R Project from an existing or new Github repository (<em>preferred</em>), or<br>
</li>
<li>Create a Github repository for an existing R project</li>
</ul>
<div id="new-r-project-from-github-repo" class="section level3 unnumbered">
<h3>New R project from Github repo<a class="anchor" aria-label="anchor" href="#new-r-project-from-github-repo"><i class="fas fa-link"></i></a>
</h3>
<p>This approach involves <em>cloning</em> an existing Github repository to create a new local R project on your computer.</p>
<p>The Github repository could be one that already exists and contains lots of content, but it could also be an empty repository because you are just beginning your work. In this latter case you are essentially creating the Github repo and local R project at the same time.</p>
<ol start="0" style="list-style-type: decimal">
<li><p>(if necessary) create the Github repository (see instructions above). If the repository already exists, this is not necessary.</p></li>
<li><p>Navigate in Github to the repository, click the green “Code” button and copy the HTTPS clone URL (see image below)</p></li>
</ol>
<div class="inline-figure"><img src="images/github_clone.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
<ol start="2" style="list-style-type: decimal">
<li>In RStudio, start a new R project by clicking <em>File &gt; New Project &gt; Version Control &gt; Git</em>
<ul>
<li>When prompted for the “Repository URL”, paste the HTTPS URL from Github (see Step 1)<br>
</li>
<li>Assign the R project a short, informative name<br>
</li>
<li>Designate where the new R Project will be saved locally<br>
</li>
<li>Check “Open in new session” and click “Create project”</li>
</ul>
</li>
</ol>
<p>You are now in a new, local, RStudio project that is a clone of the Github repository. This local project and the Github repository are now linked.</p>
</div>
<div id="new-github-repo-from-existing-r-project" class="section level3 unnumbered">
<h3>New Github repo from existing R project<a class="anchor" aria-label="anchor" href="#new-github-repo-from-existing-r-project"><i class="fas fa-link"></i></a>
</h3>
<p>An alternative setup scenario is that you have an existing R project with content, and you now want to create a Github repository for it.</p>
<ol style="list-style-type: decimal">
<li>Create a new, empty Github repository for the project (see instructions above)<br>
</li>
<li>Create a new local R project that is a clone of the new empty Github repository (see HTTPS instructions above)<br>
</li>
<li>On your computer, copy all the content from your pre-existing R project (codes, data, etc.) into the new empty R project that is a clone of the new Github repository (e.g. use copy and paste).<br>
</li>
<li>In RStudio (the new R project), adding these copied files will register as file changes that are tracked by Git. Therefore, you can bundle these changes as a <em>commit</em> and <em>push</em> them up to Github. Once <em>pushed</em>, the repository on Github will reflect all the files. See the Github workflow section below for details on this process.</li>
</ol>
</div>
<div id="git---rstudio-integration" class="section level3 unnumbered">
<h3>Git - RStudio integration<a class="anchor" aria-label="anchor" href="#git---rstudio-integration"><i class="fas fa-link"></i></a>
</h3>
<p>Once you have cloned a Github repository to a new R project, in RStudio you will now see a “Git” tab. This tab appears in the same RStudio pane as your R Environment:</p>
<div class="inline-figure"><img src="images/Git_console.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
<p>Please note the buttons circled in the image above, as they will be referenced later (from left to right):</p>
<ul>
<li>Button to begin “committing” the saved file changes to the local branch (this will open a new window)<br>
</li>
<li>Blue arrow to <em>pull</em> (update your local version of the branch with any changes made to that branch by others)<br>
</li>
<li>Green arrow to <em>push</em> (send any commits/changes for your local version of the branch to the remote/Github version of the branch)</li>
<li>The Git tab in RStudio<br>
</li>
<li>Button to create a NEW branch using whichever local branch is shown to the right as the base. <em>You almost always want to branch off of the main branch (after you first pull to update the main branch)</em>.<br>
</li>
<li>The branch you are currently working in.<br>
</li>
<li>Below all this, changes you make to code or other files will appear</li>
</ul>
</div>
</div>
<div id="github-workflow" class="section level2" number="48.4">
<h2>
<span class="header-section-number">48.4</span> Github workflow<a class="anchor" aria-label="anchor" href="#github-workflow"><i class="fas fa-link"></i></a>
</h2>
<p>Familiarize yourself to the Github workflow by viewing this interactive example at <a href="https://guides.github.com/introduction/flow/">the Github website</a></p>
<div id="orientation-1" class="section level3 unnumbered">
<h3>Orientation<a class="anchor" aria-label="anchor" href="#orientation-1"><i class="fas fa-link"></i></a>
</h3>
<p>When using Github, your R project files will exist in several dimensions:</p>
<ul>
<li>The files will exist in the <em>online</em> Github repository <strong>and</strong> on your computer in a <em>local</em> version of that repository
<ul>
<li>Remote and local versions are synced by <em>pushing</em> and <em>pulling</em> changes<br>
</li>
</ul>
</li>
<li>The files will also exist as a <em>“main” branch</em> (version), and also in other “working” <em>branches</em>
<ul>
<li>Changes made to working branches can be merged into Main branch</li>
</ul>
</li>
</ul>
</div>
<div id="process-overview" class="section level3 unnumbered">
<h3>Process overview<a class="anchor" aria-label="anchor" href="#process-overview"><i class="fas fa-link"></i></a>
</h3>
<p>Once you have completed the setup (described above), you will have a Github repo that is connected (<em>cloned</em>) to a local R project. The “main” branch (created by default) is the so-called “live” version of <em>all</em> the files. When you want to add/delete/make changes, you begin locally, on your computer, by making a new branch from the “main” branch (like “Make a Copy”). You can then proceed to make changes to the project code, files, etc on your computer. The changes are recorded in this new “working” branch, locally on your computer. When satisfied with your changes, group them together as a <em>commit</em>, and <em>push</em> them up to the working branch’s online version. Then, you can merge the online version of the working branch into the online “main” branch to transfer the changes.</p>
<p>Other team members may be doing the same thing with their own branches, or perhaps contributing commits into your working branch as well. We go through the above process step-by-step in more detail below.</p>
</div>
<div id="visual-aids" class="section level3 unnumbered">
<h3>Visual aids<a class="anchor" aria-label="anchor" href="#visual-aids"><i class="fas fa-link"></i></a>
</h3>
<p>Here is a schematic we’ve developed - it’s in the format of a two-way table so it should help epidemiologists understand…</p>
<div class="inline-figure"><img src="images/github_table.png" width="100%" height="150%" style="display: block; margin: auto;"></div>
<p>Here’s another diagram from <a href="https://build5nines.com/introduction-to-git-version-control-workflow/">this website</a>. Until recently, the term “master” branch was used, but it is now referred to as “main” branch.</p>
<p><img src="images/GitHub-Flow.png" width="100%" height="100%" style="display: block; margin: auto;">
Image <a href="https://build5nines.com/introduction-to-git-version-control-workflow/">source</a></p>
</div>
<div id="step-by-step" class="section level3 unnumbered">
<h3>Step-by-Step<a class="anchor" aria-label="anchor" href="#step-by-step"><i class="fas fa-link"></i></a>
</h3>
<p>Below, we go through an example process step-by-step:</p>
<div id="make-changes" class="section level4 unnumbered">
<h4>Make changes<a class="anchor" aria-label="anchor" href="#make-changes"><i class="fas fa-link"></i></a>
</h4>
<p>To make a change to your files and have it reflected in the online main branch, you can do the following steps. These steps assume you are using Github with RStudio. For the slight variation if you are using Github Desktop instead of RStudio, see the next section.</p>
<div id="create-a-branch" class="section level5 unnumbered">
<h5>Create a branch<a class="anchor" aria-label="anchor" href="#create-a-branch"><i class="fas fa-link"></i></a>
</h5>
<p>Ensure you are in “main” branch, and then click the purple icon to create a new branch (see image above).</p>
<ul>
<li>You will be prompted to name your branch with a one-word descriptive name (can use underscores if needed).<br>
</li>
<li>You will see that locally, you are still in the same R project, but you are no longer working on the “main” branch.<br>
</li>
<li>Once created, the new branch will also appear in the Github website as a branch.</li>
</ul>
</div>
</div>
<div id="make-changes-1" class="section level4 unnumbered">
<h4>Make changes<a class="anchor" aria-label="anchor" href="#make-changes-1"><i class="fas fa-link"></i></a>
</h4>
<p>Now you can edit code, add new files, update datasets, etc.</p>
<p>Every one of these changes is tracked, once the respective file is saved. Changed files will appear in the RStudio Git tab. In the example below, it has been recorded that I modified an R Markdown script called “collaboration.Rmd” and also several PNG images.</p>
<p><img src="images/github_tracking2.png" width="232" style="display: block; margin: auto;">
You might wonder what the yellow, blue, green, and red squares next to the file names represent. Here is a snapshot from the <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">RStudio cheatsheet</a> that explains their meaning. Note that changes with yellow “?” can still be staged, committed, and pushed.</p>
<div class="inline-figure"><img src="images/github_tracking.png" width="90" style="display: block; margin: auto;"></div>
</div>
<div id="commit-changes" class="section level4 unnumbered">
<h4>Commit changes<a class="anchor" aria-label="anchor" href="#commit-changes"><i class="fas fa-link"></i></a>
</h4>
<p>Every bunch of changes that you make that are substantial (e.g. adding or updating a section of code), pause and <em>commit</em> those changes. Think of a commit as a “batch” of changes related to a common purpose. You can always continue to revise a file after having committed changes on it.</p>
<ul>
<li>Press the “Commit” button in the Git tab, which will open a new window (shown below)<br>
</li>
<li>Click on a file name in the upper-left box<br>
</li>
<li>Review the changes you made to that file (highlighted below in green or red)<br>
</li>
<li>“Stage” the file, which will include those changes in the commit. Do this by checking the box next to the file name. Alternatively, you can highlight multiple file names and then click “Stage”<br>
</li>
<li>Write a commit message that is short but descriptive (required)</li>
<li>Press the “Commit” button. A pop-up box will appear showing success or an error message.<br>
</li>
<li>Make more changes and more commits, as many times as you would like</li>
</ul>
<div class="inline-figure"><img src="images/github_commit.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
</div>
<div id="push-changes-up-to-github" class="section level4 unnumbered">
<h4>Push changes up to Github<a class="anchor" aria-label="anchor" href="#push-changes-up-to-github"><i class="fas fa-link"></i></a>
</h4>
<p>“First PULL, then PUSH”</p>
<p><em>PULL</em> - First, click the PULL icon (downward arrow) which updates the branch version on your local computer with any changes that have been made to it in the remote/Github version. PULL often. Don’t hesitate. <em>Always pull before pushing</em>.</p>
<p><em>PUSH</em> - Then, <em>push</em> your commits up to the remote/Github version of your branch by clicking the green “Pull” icon (upward arrow). You may be asked to enter your Github username and password. The first time you are asked, you may need to enter two Git command lines into the <em>Terminal</em>:</p>
<ul>
<li>
<strong>git config –global user.email “<a href="mailto:you@example.com" class="email">you@example.com</a>”</strong> (your Github email address), and<br>
</li>
<li><strong>git config –global user.name “Your Github username”</strong></li>
</ul>
<p>To learn more about how to enter these commands, see the section below on Git commands.</p>
<p><span style="color: darkgreen;"><strong><em>TIP:</em></strong> Asked to provide your password too often? See these chapters 10 &amp; 11 of this <a href="https://happygitwithr.com/credential-caching.html#credential-caching">tutorial</a> to connect to a repository via SSH key (more complicated)</span></p>
</div>
<div id="merge-branch-into-main" class="section level4 unnumbered">
<h4>Merge branch into Main<a class="anchor" aria-label="anchor" href="#merge-branch-into-main"><i class="fas fa-link"></i></a>
</h4>
<p>If you have finished making changes, you can begin the process of merging those changes into the main branch. Depending on your situation, this may be fast, or you may build in deliberate review and approval steps involving teammates.</p>
</div>
<div id="submit-a-pull-request" class="section level4 unnumbered">
<h4>Submit a Pull Request<a class="anchor" aria-label="anchor" href="#submit-a-pull-request"><i class="fas fa-link"></i></a>
</h4>
<p>Once done making changes and commmits, and you have <em>pushed</em> the commits up to the remote Github repository, you can then request that your working branch be merged with the “main” branch.</p>
<ul>
<li>Go to Github repository (online)<br>
</li>
<li>View the tab “Pull Requests” and click the “New pull request” button.<br>
* Select from the drop-down menus to merge your brach into main<br>
* Write a detailed Pull Request comment and click “Create Pull Request”.</li>
</ul>
<p><em>In the image below, the branch “forests” has been selected to be merged into “main”:</em><br><img src="images/github_pull_request2.png" width="100%" height="150%" style="display: block; margin: auto;"></p>
<p>Now you should be able to see the pull request (example image below):</p>
<ul>
<li>Review the tab “Files changed” to see how the “main” branch would change if the branch is merged.<br>
</li>
<li>On the right, you can request a review from members of your team by tagging their Github ID. If you like, you can set the repository settings to require one approving review in order to merge into main.<br>
</li>
<li>Once the pull request is approved you will see a button available to “Merge pull request”. Click this.<br>
</li>
<li>Once completed, delete your branch as explained below</li>
</ul>
<div class="inline-figure"><img src="images/github_pull_request.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
</div>
<div id="delete-your-branch" class="section level4 unnumbered">
<h4>Delete your branch<a class="anchor" aria-label="anchor" href="#delete-your-branch"><i class="fas fa-link"></i></a>
</h4>
<p>Go to the repository on Github and click the button to view all the branches (next to the drop-down to select branches). Now find your branch and click the trash icon next to it. Read more detail on deleting a branch <a href="https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/creating-and-deleting-branches-within-your-repository#deleting-a-branch">here</a></p>
<p>Be sure to also delete the branch locally on your computer. This will not happen automatically.</p>
<ul>
<li>From RStudio, make sure you are in the Main branch</li>
<li>Switch to typing Git commands in the RStudio “Terminal” (the tab adjacent to the R console), and enter this: <strong>git branch -d branch_name</strong> , where “branch_name” is the name of your branch to be deleted<br>
</li>
<li>Refresh your Git tab and this branch should be gone</li>
</ul>
</div>
</div>
</div>
<div id="advanced-github" class="section level2" number="48.5">
<h2>
<span class="header-section-number">48.5</span> Advanced Github<a class="anchor" aria-label="anchor" href="#advanced-github"><i class="fas fa-link"></i></a>
</h2>
<p>UNDER CONSTRUCTION</p>
<div id="resolving-conflicts" class="section level3 unnumbered">
<h3>Resolving conflicts<a class="anchor" aria-label="anchor" href="#resolving-conflicts"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="github-actions" class="section level3 unnumbered">
<h3>Github actions<a class="anchor" aria-label="anchor" href="#github-actions"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="gitignore" class="section level3" number="48.5.1">
<h3>
<span class="header-section-number">48.5.1</span> Gitignore<a class="anchor" aria-label="anchor" href="#gitignore"><i class="fas fa-link"></i></a>
</h3>
<p>File that says what git should ignore (not save to history)
file or pattern . Ones that are really big (500MB) or sensitive (tokens)
CAP size?
.gitignore</p>
<p>.Rproj.use
.RHistory
.RData
phifunc_token (txt file with no extension)
<em>~ (anything followed by tilde)
outputs/ (take lots of space)
data/raw/for_quick_loading
data/clean/final_dat</em></p>
</div>
</div>
<div id="github-desktop" class="section level2" number="48.6">
<h2>
<span class="header-section-number">48.6</span> Github Desktop<a class="anchor" aria-label="anchor" href="#github-desktop"><i class="fas fa-link"></i></a>
</h2>
<p>THIS SECTION IS UNDER CONSTRUCTION</p>
</div>
<div id="git" class="section level2" number="48.7">
<h2>
<span class="header-section-number">48.7</span> Git commands<a class="anchor" aria-label="anchor" href="#git"><i class="fas fa-link"></i></a>
</h2>
<p>THIS SECTION IS UNDER CONSTRUCTION</p>
<div id="recommended-learning" class="section level3 unnumbered">
<h3>Recommended learning<a class="anchor" aria-label="anchor" href="#recommended-learning"><i class="fas fa-link"></i></a>
</h3>
<p>To learn Git commands in an interactive tutorial, please see <a href="https://learngitbranching.js.org/">this website</a>.</p>
</div>
<div id="where-to-enter-commands" class="section level3 unnumbered">
<h3>Where to enter commands<a class="anchor" aria-label="anchor" href="#where-to-enter-commands"><i class="fas fa-link"></i></a>
</h3>
<p><em>Option 1</em> You can open a new Terminal in RStudio. This tab is next to the R Console. If it does not seem to be accepting any text, click the drop-down menu below “Terminal” and select “New terminal”. Type the commands at the blicking space in front of the dollar sign “$”.</p>
<div class="inline-figure"><img src="images/github_terminal.png" width="100%" height="200%" style="display: block; margin: auto;"></div>
<p><em>Option 2</em> You can also open a <em>Shell</em> (a terminal to enter commands) by clicking the blue “gears” icon in the Git tab (near the RStudio Environment). Select “Shell” from the drop-down menu. A new window will open where you can type the commands after the dollar sign “$”.</p>
</div>
<div id="sample-commands" class="section level3 unnumbered">
<h3>Sample commands<a class="anchor" aria-label="anchor" href="#sample-commands"><i class="fas fa-link"></i></a>
</h3>
<p>Below we present a few git commands that are more common. Keep in mind if you use them which branch you is active (checked-out) when you write the command, as that will change the action!</p>
<p>In the commands below, <name> represents a branch name (do not type the &lt; or &gt; symbols). <commit_hash> represents the hash ID of a specific commit. <num> represents a number.</num></commit_hash></name></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Git command</th>
<th>Action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>git branch &lt;name&gt;</code></td>
<td>Create a new branch with the name <name></name>
</td>
</tr>
<tr class="even">
<td><code>git checkout &lt;name&gt;</code></td>
<td>Switch current branch to <name></name>
</td>
</tr>
<tr class="odd">
<td><code>git checkout -b &lt;name&gt;</code></td>
<td>Shortcut to create new branch <em>and</em> switch to it</td>
</tr>
<tr class="even">
<td><code>git switch</code></td>
<td>An alternative to <code>git checkout</code> that is being phased in to Git</td>
</tr>
<tr class="odd">
<td><code>git commit</code></td>
<td>Commit the currently saved changes to the current branch</td>
</tr>
<tr class="even">
<td><code>git branch &lt;name&gt;</code></td>
<td>Make a new branch called <name> as copy of the current branch</name>
</td>
</tr>
<tr class="odd">
<td><code>git merge &lt;name&gt;</code></td>
<td>Merge <name> branch into current branch</name>
</td>
</tr>
<tr class="even">
<td><code>git rebase &lt;name&gt;</code></td>
<td>Append commits from current branch on to <name> branch</name>
</td>
</tr>
</tbody>
</table></div>
<p>^ | Move backwards one commit
~<num> |Move backwards <num> commits
git checkout HEAD~4
git log | see hashes
git checkout <commit_hash>
git checkout <name>; git merge main = Merge main into bugfix</name></commit_hash></num></num></p>
</div>
<div id="revert-mistakes" class="section level3 unnumbered">
<h3>Revert mistakes<a class="anchor" aria-label="anchor" href="#revert-mistakes"><i class="fas fa-link"></i></a>
</h3>
<p>git branch -f main HEAD~3 = Moves by force the main branch to three parents behind HEAD (e.g. HEAD may be in bugFix branch) (other branches may stay where they are)</p>
<p>main^ is the parent commit of main
git checkout main^ = this moves the HEAD to the commit before main’s last commit
HEAD can be used as a relatively reference, e.g. using HEAD^ multiple time to keep moving backwards</p>
<p>git reset | Moves HEAD back “rewriting history” move a branch reference backwards in time to an older commit, as if that commit had never been made in the first place. Works well for local branches on your own machine. But doesn’t work for remote branches that others are using.
git reset HEAD~1 Moves branch backwards from most recent C2 back to C1
to reverse changes and SHARE those reversed changes with others, use git revert</p>
<p>git revert
git revert HEAD makes new commit that is prime e.g. C2 to C2’</p>
<p>git commit</p>
</div>
</div>
<div id="package-management-with-renv" class="section level2" number="48.8">
<h2>
<span class="header-section-number">48.8</span> Package management with <strong>renv</strong><a class="anchor" aria-label="anchor" href="#package-management-with-renv"><i class="fas fa-link"></i></a>
</h2>
<p>UNDER CONSTRUCTION</p>
<p><a href="https://rstudio.github.io/renv/articles/renv.html">Introduction to <strong>renv</strong></a></p>
<!-- ======================================================= -->
</div>
<div id="resources-40" class="section level2" number="48.9">
<h2>
<span class="header-section-number">48.9</span> Resources<a class="anchor" aria-label="anchor" href="#resources-40"><i class="fas fa-link"></i></a>
</h2>
<p>Much of this page was informed by <a href="https://happygitwithr.com/">this “Happy Git with R” website</a> by Jenny Bryan. There is a helpful section of this website that helps you troubleshoot common Git and R-related errors.</p>
<p>The <a href="https://docs.github.com/en/github">Github.com documentation and start guide</a></p>
<p>The RStudio <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">“IDE” cheatsheet</a> which includes tips on Git with RStudio</p>
<p><a href="https://ohi-science.org/news/github-going-back-in-time" class="uri">https://ohi-science.org/news/github-going-back-in-time</a></p>
<p>This website provides an <a href="learngitbranching.js.org">interactive tutorial</a> to learn Git commands</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="directory-interactions.html"><span class="header-section-number">47</span> Directory interactions</a></div>
<div class="next"><a href="common-errors.html"><span class="header-section-number">49</span> Common errors</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#version-control-and-collaboration-with-github"><span class="header-section-number">48</span> Version control and collaboration with Github</a></li>
<li><a class="nav-link" href="#why-use-github"><span class="header-section-number">48.1</span> Why use Github</a></li>
<li>
<a class="nav-link" href="#github-basics"><span class="header-section-number">48.2</span> Github basics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-git">What is Git?</a></li>
<li><a class="nav-link" href="#what-is-github">What is Github?</a></li>
<li><a class="nav-link" href="#github-account">Github account</a></li>
<li><a class="nav-link" href="#github-repositories">Github repositories</a></li>
<li><a class="nav-link" href="#key-vocabulary">Key vocabulary</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#set-up"><span class="header-section-number">48.3</span> Set-up</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#new-r-project-from-github-repo">New R project from Github repo</a></li>
<li><a class="nav-link" href="#new-github-repo-from-existing-r-project">New Github repo from existing R project</a></li>
<li><a class="nav-link" href="#git---rstudio-integration">Git - RStudio integration</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#github-workflow"><span class="header-section-number">48.4</span> Github workflow</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#orientation-1">Orientation</a></li>
<li><a class="nav-link" href="#process-overview">Process overview</a></li>
<li><a class="nav-link" href="#visual-aids">Visual aids</a></li>
<li><a class="nav-link" href="#step-by-step">Step-by-Step</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#advanced-github"><span class="header-section-number">48.5</span> Advanced Github</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#resolving-conflicts">Resolving conflicts</a></li>
<li><a class="nav-link" href="#github-actions">Github actions</a></li>
<li><a class="nav-link" href="#gitignore"><span class="header-section-number">48.5.1</span> Gitignore</a></li>
</ul>
</li>
<li><a class="nav-link" href="#github-desktop"><span class="header-section-number">48.6</span> Github Desktop</a></li>
<li>
<a class="nav-link" href="#git"><span class="header-section-number">48.7</span> Git commands</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#recommended-learning">Recommended learning</a></li>
<li><a class="nav-link" href="#where-to-enter-commands">Where to enter commands</a></li>
<li><a class="nav-link" href="#sample-commands">Sample commands</a></li>
<li><a class="nav-link" href="#revert-mistakes">Revert mistakes</a></li>
</ul>
</li>
<li><a class="nav-link" href="#package-management-with-renv"><span class="header-section-number">48.8</span> Package management with renv</a></li>
<li><a class="nav-link" href="#resources-40"><span class="header-section-number">48.9</span> Resources</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Epidemiologist R Handbook</strong>" was written by the handbook team. It was last built on 2021-05-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
