<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>4 Transition to R | The Epidemiologist R Handbook</title>
<meta name="author" content="the handbook team">
<meta name="description" content="Below, we provide some advice and resources if you are transitioning to R. R was introduced in the late 1990s and has since grown dramatically in scope. Its capabilities are so extensive that...">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content="4 Transition to R | The Epidemiologist R Handbook">
<meta property="og:type" content="book">
<meta property="og:description" content="Below, we provide some advice and resources if you are transitioning to R. R was introduced in the late 1990s and has since grown dramatically in scope. Its capabilities are so extensive that...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4 Transition to R | The Epidemiologist R Handbook">
<meta name="twitter:description" content="Below, we provide some advice and resources if you are transitioning to R. R was introduced in the late 1990s and has since grown dramatically in scope. Its capabilities are so extensive that...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.0/transition.js"></script><script src="libs/bs3compat-0.5.0/tabs.js"></script><script src="libs/bs3compat-0.5.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.28/datatables.js"></script><link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QXDW878QLX');
    </script>
</head>
<body>
<div class="alert alert-info alert-dismissible">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
      <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&amp;A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style_bs4.css">
<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">The Epidemiologist R Handbook</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">About this book</li>
<li><a class="" href="editorial-and-technical-notes.html"><span class="header-section-number">1</span> Editorial and technical notes</a></li>
<li><a class="" href="download-handbook-and-data.html"><span class="header-section-number">2</span> Download handbook and data</a></li>
<li class="book-part">Basics</li>
<li><a class="" href="r-basics.html"><span class="header-section-number">3</span> R Basics</a></li>
<li><a class="active" href="transition-to-r.html"><span class="header-section-number">4</span> Transition to R</a></li>
<li><a class="" href="suggested-packages-1.html"><span class="header-section-number">5</span> Suggested packages</a></li>
<li><a class="" href="r-projects.html"><span class="header-section-number">6</span> R projects</a></li>
<li><a class="" href="import-and-export.html"><span class="header-section-number">7</span> Import and export</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="transition-to-r" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Transition to R<a class="anchor" aria-label="anchor" href="#transition-to-r"><i class="fas fa-link"></i></a>
</h1>
<p>Below, we provide some advice and resources if you are transitioning to R.</p>
<p>R was introduced in the late 1990s and has since grown dramatically in scope. Its capabilities are so extensive that commercial alternatives have reacted to R developments in order to stay competitive! (<a href="https://www.inwt-statistics.com/read-blog/comparison-of-r-python-sas-spss-and-stata.html">read this article comparing R, SPSS, SAS, STATA, and Python</a>).</p>
<p>Moreover, R is much easier to learn than it was 10 years ago. Previously, R had a reputation of being difficult for beginners. It is now much easier with friendly user-interfaces like RStudio, intuitive code like the <strong>tidyverse</strong>, and many tutorial resources.</p>
<p><span style="color: darkgreen;"><strong>Do not be intimidated - come discover the world of R!</strong></span></p>
<div class="inline-figure"><img src="images/transition_door.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
<div id="from-excel" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> From Excel<a class="anchor" aria-label="anchor" href="#from-excel"><i class="fas fa-link"></i></a>
</h2>
<p>Transitioning from Excel directly to R is a very achievable goal. It may seem daunting, but you can do it!</p>
<p>It is true that someone with strong Excel skills can do very advanced activities in Excel alone - even using scripting tools like VBA. Excel is used across the world and is an essential tool for an epidemiologist. However, complementing it with R can dramatically improve and expand your work flows.</p>
<div id="benefits" class="section level3 unnumbered">
<h3>Benefits<a class="anchor" aria-label="anchor" href="#benefits"><i class="fas fa-link"></i></a>
</h3>
<p>You will find that using R offers immense benefits in time saved, more consistent and accurate analysis, reproducibility, shareability, and faster error-correction. Like any new software there is a learning “curve” of time you must invest to become familiar. The dividends will be significant and immense scope of new possibilities will open to you with R.</p>
<p>Excel is a well-known software that can be easy for a beginner to use to produce simple analysis and visualizations with “point-and-click”. In comparison, it can take a couple weeks to become comfortable with R functions and interface. However, R has evolved in recent years to become much more friendly to beginners.</p>
<p>Many Excel workflows rely on memory and on repetition - thus, there is much opportunity for error. Furthermore, generally the data cleaning, analysis methodology, and equations used are hidden from view. It can require substantial time for a new colleague to learn what an Excel workbook is doing and how to troubleshoot it. With R, all the steps are explicitly written in the script and can be easily viewed, edited, corrected, and applied to other datasets.</p>
<p><strong>To begin your transition from Excel to R you must adjust your mindset in a few important ways:</strong></p>
</div>
<div id="tidy-data" class="section level3 unnumbered">
<h3>Tidy data<a class="anchor" aria-label="anchor" href="#tidy-data"><i class="fas fa-link"></i></a>
</h3>
<p>Use machine-readable “tidy” data instead of messy “human-readable” data. These are the three main requirements for “tidy” data, as explained in this tutorial on <a href="https://r4ds.had.co.nz/tidy-data.html">“tidy” data in R</a>:</p>
<ul>
<li>Each variable must have its own column<br>
</li>
<li>Each observation must have its own row<br>
</li>
<li>Each value must have its own cell</li>
</ul>
<p>To Excel users - think of the role that <a href="https://exceljet.net/excel-tables">Excel “tables”</a> play in standardizing data and making the format more predictable.</p>
<p>An example of “tidy” data would be the case linelist used throughout this handbook - each variable is contained within one column, each observation (one case) has it’s own row, and every value is in just one cell. Below you can view the first 50 rows of the linelist:</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-442c59de18499bb6ab54" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-442c59de18499bb6ab54">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2\" data-max=\"13\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1399075200000\" data-max=\"1406419200000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1399939200000\" data-max=\"1407024000000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1400025600000\" data-max=\"1407110400000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"date\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1400371200000\" data-max=\"1410566400000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"67\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"67\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;0-4&quot;,&quot;5-9&quot;,&quot;10-14&quot;,&quot;15-19&quot;,&quot;20-29&quot;,&quot;30-49&quot;,&quot;50-69&quot;,&quot;70+&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;0-4&quot;,&quot;5-9&quot;,&quot;10-14&quot;,&quot;15-19&quot;,&quot;20-24&quot;,&quot;25-29&quot;,&quot;30-34&quot;,&quot;35-39&quot;,&quot;40-44&quot;,&quot;45-49&quot;,&quot;50-54&quot;,&quot;55-59&quot;,&quot;60-64&quot;,&quot;65-69&quot;,&quot;70-74&quot;,&quot;75-79&quot;,&quot;80-84&quot;,&quot;85+&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"-13.2697246824573\" data-max=\"-13.209391925612\" data-scale=\"13\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"8.45171855856465\" data-max=\"8.48802917129884\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"100\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"11\" data-max=\"241\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"20\" data-max=\"24\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"35.9\" data-max=\"38\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"428.994082840237\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["5fe599","8689b7","11f8ea","b8812a","893f25","be99c8","07e3e8","369449","f393b4","1389ca","2978ac","57a565","fc15ef","2eaa9a","bbfa93","c97dd9","f50e8a","3a7673","7f5a01","ddddee","99e8fa","567136","9371a9","bc2adf","403057","8bd1e8","f327be","42e1a9","90e5fe","959170","8ebf6e","e56412","6d788e","a47529","67be4e","da8ecb","148f18","2cb9a5","f5c142","70a9fe","3ad520","062638","c76676","baacc1","497372","23e499","38cc4a","3789ee","c71dcd","6b70f0"],[4,4,2,3,3,3,4,4,4,4,4,4,6,5,6,9,10,8,7,6,7,6,8,6,10,8,6,12,5,8,7,9,11,5,8,5,6,11,7,9,7,8,9,12,13,9,8,10,8,7],["2014-05-08",null,null,"2014-05-04","2014-05-18","2014-05-03","2014-05-22","2014-05-28",null,null,"2014-05-30","2014-05-28","2014-06-14","2014-06-07","2014-06-09",null,null,null,"2014-06-23","2014-06-18","2014-06-24",null,null,"2014-07-03",null,"2014-07-10","2014-06-14",null,"2014-06-18","2014-06-29","2014-07-02","2014-07-12","2014-07-12","2014-06-13","2014-07-15","2014-06-20",null,null,"2014-07-20",null,"2014-07-12","2014-07-19","2014-07-18","2014-07-18","2014-07-27",null,"2014-07-19","2014-07-26","2014-07-24",null],["2014-05-13","2014-05-13","2014-05-16","2014-05-18","2014-05-21","2014-05-22","2014-05-27","2014-06-02","2014-06-05","2014-06-05","2014-06-06","2014-06-13","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-22","2014-06-23","2014-06-25","2014-06-26","2014-06-28","2014-07-02","2014-07-08","2014-07-09","2014-07-09","2014-07-10","2014-07-12","2014-07-12","2014-07-13","2014-07-13","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-17","2014-07-18","2014-07-19","2014-07-22","2014-07-22","2014-07-24","2014-07-24","2014-07-25","2014-07-25","2014-07-27","2014-07-29","2014-07-30",null,"2014-08-01","2014-08-02","2014-08-03"],["2014-05-15","2014-05-14","2014-05-18","2014-05-20","2014-05-22","2014-05-23","2014-05-29","2014-06-03","2014-06-06","2014-06-07","2014-06-08","2014-06-15","2014-06-17","2014-06-17","2014-06-20","2014-06-19","2014-06-23","2014-06-24","2014-06-27","2014-06-28","2014-06-29","2014-07-03","2014-07-09","2014-07-09","2014-07-11","2014-07-11","2014-07-13","2014-07-14","2014-07-14","2014-07-13","2014-07-14","2014-07-17","2014-07-17","2014-07-18","2014-07-19","2014-07-20","2014-07-20","2014-07-22","2014-07-24","2014-07-26","2014-07-24","2014-07-27","2014-07-25","2014-07-27","2014-07-31","2014-08-01","2014-08-03","2014-08-02","2014-08-02","2014-08-04"],[null,"2014-05-18","2014-05-30",null,"2014-05-29","2014-05-24","2014-06-01","2014-06-07","2014-06-18","2014-06-09","2014-06-15",null,"2014-07-09",null,"2014-06-30","2014-07-11","2014-07-01","2014-06-25","2014-07-06","2014-07-02","2014-07-09","2014-07-07","2014-07-20",null,"2014-07-22","2014-07-16","2014-07-14","2014-07-20","2014-07-16","2014-07-19","2014-07-27","2014-07-19",null,"2014-07-26","2014-08-14","2014-08-01","2014-07-23","2014-08-28","2014-07-28","2014-07-19",null,"2014-08-03",null,null,null,"2014-08-06","2014-08-21","2014-09-13","2014-08-04",null],[null,"Recover","Recover",null,"Recover","Recover","Recover","Death","Recover","Death","Death","Death","Recover","Recover",null,"Recover",null,null,"Death","Death","Recover",null,null,null,"Death",null,"Death","Death",null,"Death","Recover","Death","Recover","Death","Recover",null,"Death","Recover","Recover","Death",null,null,"Death","Death","Death","Death","Recover",null,"Death","Death"],["m","f","m","f","m","f","f","f","m","f","m","m","m","f","f","m","f","f","f","f","m","m","f","m","f","m","m","f","m","f","f","f","m","m","f","m","f","f","f","m","f","m","f","m","m","f","m","f","m","m"],[2,3,56,18,3,16,16,0,61,27,12,42,19,7,7,13,35,17,11,11,19,54,14,28,6,3,31,6,67,14,10,21,20,45,1,12,3,15,20,36,7,13,14,3,10,1,0,20,26,14],["years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years"],[2,3,56,18,3,16,16,0,61,27,12,42,19,7,7,13,35,17,11,11,19,54,14,28,6,3,31,6,67,14,10,21,20,45,1,12,3,15,20,36,7,13,14,3,10,1,0,20,26,14],["0-4","0-4","50-69","15-19","0-4","15-19","15-19","0-4","50-69","20-29","10-14","30-49","15-19","5-9","5-9","10-14","30-49","15-19","10-14","10-14","15-19","50-69","10-14","20-29","5-9","0-4","30-49","5-9","50-69","10-14","10-14","20-29","20-29","30-49","0-4","10-14","0-4","15-19","20-29","30-49","5-9","10-14","10-14","0-4","10-14","0-4","0-4","20-29","20-29","10-14"],["0-4","0-4","55-59","15-19","0-4","15-19","15-19","0-4","60-64","25-29","10-14","40-44","15-19","5-9","5-9","10-14","35-39","15-19","10-14","10-14","15-19","50-54","10-14","25-29","5-9","0-4","30-34","5-9","65-69","10-14","10-14","20-24","20-24","45-49","0-4","10-14","0-4","15-19","20-24","35-39","5-9","10-14","10-14","0-4","10-14","0-4","0-4","20-24","25-29","10-14"],["Other","Missing","St. Mark's Maternity Hospital (SMMH)","Port Hospital","Military Hospital","Port Hospital","Missing","Missing","Missing","Missing","Port Hospital","Military Hospital","Missing","Missing","Other","Port Hospital","Port Hospital","Port Hospital","Missing","Other","Port Hospital","Port Hospital","St. Mark's Maternity Hospital (SMMH)","Missing","Other","Missing","St. Mark's Maternity Hospital (SMMH)","Military Hospital","Port Hospital","Central Hospital","Military Hospital","Central Hospital","Missing","Military Hospital","Other","Missing","Missing","Port Hospital","Port Hospital","Port Hospital","Missing","Central Hospital","Military Hospital","Other","Other","Other","Missing","St. Mark's Maternity Hospital (SMMH)","St. Mark's Maternity Hospital (SMMH)","Missing"],[-13.2157351064963,-13.2152339775486,-13.212910703914,-13.2363711169728,-13.2228638912441,-13.222625321098,-13.2331547837254,-13.2320975453153,-13.2225511595637,-13.2572163655863,-13.2206286746001,-13.253989309478,-13.2385127873491,-13.209391925612,-13.2157278814899,-13.2243437095992,-13.2336087079551,-13.21422143145,-13.2339681355349,-13.2535640411465,-13.2250089377786,-13.2160657166043,-13.2680671272333,-13.2266742923612,-13.2160179088168,-13.2482584611565,-13.2156319199566,-13.2142410663192,-13.2614879104088,-13.2452992638476,-13.2630592726116,-13.2343341712241,-13.2199077448676,-13.2227293309912,-13.2343062806506,-13.218781651651,-13.2483677722899,-13.2097478342339,-13.2680867723786,-13.2587535457526,-13.262635786914,-13.2697246824573,-13.2209026809759,-13.2330734719715,-13.2680923666905,-13.2547212675054,-13.2573683214693,-13.2137356012883,-13.2175973322257,-13.2486407324245],[8.46897295100924,8.45171855856465,8.46481700596819,8.4754761613651,8.46082377490923,8.46183062600728,8.46272931462646,8.46144367534271,8.46191259217774,8.47292327643506,8.48401630165138,8.45837125340844,8.47761705512509,8.47570184950483,8.47779946878972,8.47145134147474,8.47804840685363,8.48528034195779,8.46957530395867,8.45957352078114,8.47404889511544,8.48802917129884,8.473437335922,8.48408263734462,8.46242233645879,8.47026822126572,8.46398447480533,8.4641347894342,8.45623094629607,8.48334624336805,8.47493999153642,8.47832062438022,8.4693933891765,8.48480589906514,8.47121232619015,8.48438437371817,8.48466158574339,8.47714159984428,8.46238127010609,8.45568597813113,8.4632880274758,8.47940722413856,8.46353857052336,8.46178968158864,8.47508713872833,8.45825808128071,8.4532568143863,8.4732571907655,8.47911586641933,8.48480340615605],["f547d6",null,null,"f90f5f","11f8ea","aec8ec","893f25","133ee7",null,null,"996f3a","133ee7","37a6f6","9f6884","4802b1",null,null,null,"a75c7f","8e104d","ab634e",null,null,"b799eb",null,"5d9e4d","a15e13",null,"ea3740","beb26e","567136","894024","36e2e7","a2086d","7baf73","eb2277",null,null,"d6584f",null,"312ecf","52ea64","cfd79c","d145b7","174288",null,"53608c","3b096b","f5c142",null],["other",null,null,"other","other","other","other","other",null,null,"other","other","other","other","other",null,null,null,"other","other","other",null,null,"other",null,"other","other",null,"other","funeral","other","funeral","other","other","other","funeral",null,null,"other",null,"other","other","other","other","other",null,"funeral","other","other",null],[27,25,91,41,36,56,47,0,86,69,67,84,68,44,34,66,78,47,53,47,71,86,53,69,38,46,68,37,100,56,50,57,65,72,29,69,37,48,54,71,47,61,47,35,53,16,13,59,69,67],[48,59,238,135,71,116,87,11,226,174,112,186,174,90,91,152,214,137,117,131,150,241,131,161,80,69,188,66,233,142,110,182,164,214,26,157,39,154,133,168,100,125,123,67,134,31,36,125,183,169],[22,22,21,23,23,21,21,22,22,22,22,22,22,21,23,22,23,21,22,23,21,23,21,24,23,22,24,23,20,24,24,20,24,21,22,21,23,22,23,23,23,22,23,22,22,22,23,22,22,22],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","no","no","no",null,"no","no","no","no","no",null,"no","no","no",null,null,"no","no",null,"no","no",null,null,"no","no",null,"no","no",null,"no","no","no","no","no","no",null],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","no","yes","no",null,"no","no","no","yes","no",null,"no","no","yes",null,null,"no","no",null,"no","no",null,null,"no","no",null,"no","no",null,"no","yes","no","no","no","no",null],["yes",null,null,"no","yes","yes",null,"yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes",null,"yes","yes","yes","yes","yes",null,"yes","yes","yes",null,null,"yes","yes",null,"yes","yes",null,null,"yes","yes",null,"yes","yes",null,"yes","yes","yes","yes","yes","no",null],["no",null,null,"no","no","no",null,"no","no","no","no","no","no","no","no","yes","no","no",null,"no","no","no","no","no",null,"no","no","no",null,null,"no","no",null,"no","no",null,null,"yes","yes",null,"no","no",null,"no","no","no","no","no","no",null],["yes",null,null,"no","yes","yes",null,"yes","yes","no","yes","no","no","no","yes","no","no","no",null,"no","yes","no","no","no",null,"no","no","no",null,null,"no","yes",null,"yes","yes",null,null,"yes","yes",null,"yes","yes",null,"yes","yes","no","yes","yes","yes",null],[36.8,36.9,36.9,36.8,36.9,37.6,37.3,37,36.4,35.9,36.5,36.9,36.5,37.1,36.5,37.3,37,38,38,36,37,36.7,36.9,36.5,37,36.5,37.6,36.6,36.6,36.2,36.4,37.1,37.5,37.5,37.4,36.9,36.4,37.3,37,37.8,36.5,37.5,36.7,37,37.3,36.6,36.5,36.6,37.6,36.8],[null,"09:36","16:48","11:22","12:60","14:13","14:33","09:25","11:16","10:55","16:03","11:14","12:42","11:06","09:10","08:45",null,"15:41","13:34","18:58","12:43","16:33","14:29","07:18","08:11","16:32","16:17","07:32","17:45",null,"13:24","14:43","02:33","11:36","17:28","16:27",null,"20:49",null,"11:38","14:25","13:42","21:22","13:33","19:06","17:14","20:09",null,"10:23","09:09"],[117.1875,71.8184429761563,16.0652496292635,22.4965706447188,71.4144019043841,41.6171224732461,62.0953890870657,0,16.8376536925366,22.7903289734443,53.4119897959184,24.2802636142907,22.4600343506408,54.320987654321,41.0578432556455,28.5664819944598,17.0320552013276,25.0412914912888,38.7172182043977,27.3876813705495,31.5555555555556,14.8069075945662,30.8839811199813,26.6193433895297,59.375,96.6183574879227,19.2394748755093,84.9403122130395,18.4199377406104,27.7722674072605,41.3223140495868,17.2080666586161,24.1671624033314,15.7218971089178,428.994082840237,27.9930220292912,243.261012491782,20.2395007589813,30.527446435638,25.15589569161,47,39.04,31.0661643201798,77.9683671196257,29.5165961238583,166.493236212279,100.308641975309,37.76,20.6037803457852,23.458562375267],[2,1,2,2,1,1,2,1,1,2,2,2,1,0,2,0,1,1,2,2,1,1,1,0,2,1,1,2,1,0,0,2,1,1,2,2,1,0,2,2,0,2,0,0,2,2,null,1,0,1]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>case_id<\/th>\n      <th>generation<\/th>\n      <th>date_infection<\/th>\n      <th>date_onset<\/th>\n      <th>date_hospitalisation<\/th>\n      <th>date_outcome<\/th>\n      <th>outcome<\/th>\n      <th>gender<\/th>\n      <th>age<\/th>\n      <th>age_unit<\/th>\n      <th>age_years<\/th>\n      <th>age_cat<\/th>\n      <th>age_cat5<\/th>\n      <th>hospital<\/th>\n      <th>lon<\/th>\n      <th>lat<\/th>\n      <th>infector<\/th>\n      <th>source<\/th>\n      <th>wt_kg<\/th>\n      <th>ht_cm<\/th>\n      <th>ct_blood<\/th>\n      <th>fever<\/th>\n      <th>chills<\/th>\n      <th>cough<\/th>\n      <th>aches<\/th>\n      <th>vomit<\/th>\n      <th>temp<\/th>\n      <th>time_admission<\/th>\n      <th>bmi<\/th>\n      <th>days_onset_hosp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,8,10,14,15,18,19,20,26,28,29]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p><em>The main reason one encounters non-tidy data is because many Excel spreadsheets are designed to prioritize easy reading by humans, not easy reading by machines/software.</em></p>
<p>To help you see the difference, below are some fictional examples of <strong>non-tidy data</strong> that prioritize <em>human</em>-readability over <em>machine</em>-readability:</p>
<div class="inline-figure"><img src="images/Excel_nonTidy_1.png" width="100%" height="75%" style="display: block; margin: auto;"></div>
<p><em>Problems:</em> In the spreadsheet above, there are <em>merged cells</em> which are not easily digested by R. Which row should be considered the “header” is not clear. A color-based dictionary is to the right side and cell values are represented by colors - which is also not easily interpreted by R (nor by humans with color-blindness!). Furthermore, different pieces of information are combined into one cell (multiple partner organizations working in one area, or the status “TBC” in the same cell as “Partner D”).</p>
<div class="inline-figure"><img src="images/Excel_nonTidy_2.png" width="100%" height="100%" style="display: block; margin: auto;"></div>
<p><em>Problems:</em> In the spreadsheet above, there are numerous extra empty rows and columns within the dataset - this will cause cleaning headaches in R. Furthermore, the GPS coordinates are spread across two rows for a given treatment center. As a side note - the GPS coordinates are in two different formats!</p>
<p>“Tidy” datasets may not be as readable to a human eye, but they make data cleaning and analysis much easier! Tidy data can be stored in various formats, for example “long” or “wide”“(see page on [Pivoting data]), but the principles above are still observed.</p>
</div>
<div id="functions-1" class="section level3 unnumbered">
<h3>Functions<a class="anchor" aria-label="anchor" href="#functions-1"><i class="fas fa-link"></i></a>
</h3>
<p>The R word “function” might be new, but the concept exists in Excel too as <em>formulas</em>. Formulas in Excel also require precise syntax (e.g. placement of semicolons and parentheses). All you need to do is learn a few new functions and how they work together in R.</p>
</div>
<div id="scripts-1" class="section level3 unnumbered">
<h3>Scripts<a class="anchor" aria-label="anchor" href="#scripts-1"><i class="fas fa-link"></i></a>
</h3>
<p>Instead of clicking buttons and dragging cells you will be writing <em>every</em> step and procedure into a “script”.
Excel users may be familiar with “VBA macros” which also employ a scripting approach.</p>
<p><em>The R script consists of step-by-step instructions.</em> This allows any colleague to read the script and easily see the steps you took. This also helps de-bug errors or inaccurate calculations. See the <a href="r-basics.html#r-basics">R basics</a> section on scripts for examples.</p>
<p>Here is an example of an R script:</p>
<div class="inline-figure"><img src="images/example_script.png" width="75%" height="75%" style="display: block; margin: auto;"></div>
</div>
<div id="excel-to-r-resources" class="section level3 unnumbered">
<h3>Excel-to-R resources<a class="anchor" aria-label="anchor" href="#excel-to-r-resources"><i class="fas fa-link"></i></a>
</h3>
<p>Here are some links to tutorials to help you transition to R from Excel:</p>
<ul>
<li>
<a href="https://www.northeastern.edu/graduate/blog/r-vs-excel/">R vs. Excel</a><br>
</li>
<li><a href="https://rstudio-conf-2020.github.io/r-for-excel/">RStudio course in R for Excel users</a></li>
</ul>
</div>
<div id="r-excel-interaction" class="section level3 unnumbered">
<h3>R-Excel interaction<a class="anchor" aria-label="anchor" href="#r-excel-interaction"><i class="fas fa-link"></i></a>
</h3>
<p>R has robust ways to import Excel workbooks, work with the data, export/save Excel files, and work with the nuances of Excel sheets.</p>
<p>It is true that some of the more aesthetic Excel formatting can get lost in translation (e.g. italics, sideways text, etc.). If your work flow requires passing documents back-and-forth between R and Excel while retaining the original Excel formatting, try packages such as <strong>openxlsx</strong>.</p>
</div>
</div>
<div id="from-stata" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> From Stata<a class="anchor" aria-label="anchor" href="#from-stata"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p><strong>Coming to R from Stata</strong></p>
<p>Many epidemiologists are first taught how to use Stata, and it can seem daunting to move into R. However, if you are a comfortable Stata user then the jump into R is certainly more manageable than you might think. While there are some key differences between Stata and R in how data can be created and modified, as well as how analysis functions are implemented – after learning these key differences you will be able to translate your skills.</p>
<p>Below are some key translations between Stata and R, which may be handy as your review this guide.</p>
<p><strong>General notes</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="38%">
<col width="61%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>You can only view and manipulate one dataset at a time</td>
<td>You can view and manipulate multiple datasets at the same time, therefore you will frequently have to specify your dataset within the code</td>
</tr>
<tr class="even">
<td>Online community available through <a href="https://www.statalist.org/">https://www.statalist.org/</a>
</td>
<td>Online community available through <a href="https://community.rstudio.com/">RStudio</a>, <a href="https://stackoverflow.com/questions/tagged/r">StackOverFlow</a>, and <a href="https://www.r-bloggers.com/">R-bloggers</a>
</td>
</tr>
<tr class="odd">
<td>Point and click functionality as an option</td>
<td>Minimal point and click functionality</td>
</tr>
<tr class="even">
<td>Help for commands available by <code>help [command]</code>
</td>
<td>Help available by <code>[function]?</code> or search in the Help pane</td>
</tr>
<tr class="odd">
<td>Comment code using * or /// or /* TEXT */</td>
<td>Comment code using #</td>
</tr>
<tr class="even">
<td>Almost all commands are built-in to Stata. New/user-written functions can be installed as <strong>ado</strong> files using <strong>ssc install</strong> [package]</td>
<td>R installs with <strong>base</strong> functions, but typical use involves installing other packages from CRAN (see page on <a href="r-basics.html#r-basics">R basics</a>)</td>
</tr>
<tr class="odd">
<td>Analysis is usually written in a <strong>do</strong> file</td>
<td>Analysis written in an R script in the RStudio source pane. R markdown scripts are an alternative.</td>
</tr>
</tbody>
</table></div>
<p><strong>Working directory</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Working directories involve absolute filepaths (e.g. “C:/usename/documents/projects/data/”)</td>
<td>Working directories can be either absolute, or relative to a project root folder by using the <strong>here</strong> package (see <a href="import-and-export.html#import-and-export">Import and export</a>)</td>
</tr>
<tr class="even">
<td>See current working directory with <strong>pwd</strong>
</td>
<td>Use <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> or <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> (if using the <strong>here</strong> package), with empty parentheses</td>
</tr>
<tr class="odd">
<td>Set working directory with <strong>cd</strong> “folder location”</td>
<td>Use <code>setwd(“folder location”)</code>, or <code>set_here("folder location)</code> (if using <strong>here</strong> package)</td>
</tr>
</tbody>
</table></div>
<p><strong>Importing and viewing data</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Specific commands per file type</td>
<td>Use <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> from <strong>rio</strong> package for almost all filetypes. Specific functions exist as alternatives (see <a href="import-and-export.html#import-and-export">Import and export</a>)</td>
</tr>
<tr class="even">
<td>Reading in csv files is done by <strong>import delimited</strong> “filename.csv”</td>
<td>Use <code>import("filename.csv")</code>
</td>
</tr>
<tr class="odd">
<td>Reading in xslx files is done by <strong>import excel</strong> “filename.xlsx”</td>
<td>Use <code>import("filename.xlsx")</code>
</td>
</tr>
<tr class="even">
<td>Browse your data in a new window using the command <strong>browse</strong>
</td>
<td>View a dataset in the RStudio source pane using <code>View(dataset)</code>. <em>You need to specify your dataset name to the function in R because multiple datasets can be held at the same time. Note capital “V” in this function</em>
</td>
</tr>
<tr class="odd">
<td>Get a high-level overview of your dataset using <strong>summarize</strong>, which provides the variable names and basic information</td>
<td>Get a high-level overview of your dataset using <code>summary(dataset)</code>
</td>
</tr>
</tbody>
</table></div>
<p><strong>Basic data manipulation</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Dataset columns are often referred to as “variables”</td>
<td>More often referred to as “columns” or sometimes as “vectors” or “variables”</td>
</tr>
<tr class="even">
<td>No need to specify the dataset</td>
<td>In each of the below commands, you need to specify the dataset - see the page on [Cleaning data and core functions] for examples</td>
</tr>
<tr class="odd">
<td>New variables are created using the command <strong>generate</strong> <em>varname</em> =</td>
<td>Generate new variables using the function <code>mutate(varname = )</code>. See page on [Cleaning data and core functions] for details on all the below <strong>dplyr</strong> functions.</td>
</tr>
<tr class="even">
<td>Variables are renamed using <strong>rename</strong> <em>old_name new_name</em>
</td>
<td>Columns can be renamed using the function <code>rename(new_name = old_name)</code>
</td>
</tr>
<tr class="odd">
<td>Variables are dropped using <strong>drop</strong> <em>varname</em>
</td>
<td>Columns can be removed using the function <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> with the column name in the parentheses following a minus sign</td>
</tr>
<tr class="even">
<td>Factor variables can be labeled using a series of commands such as <strong>label define</strong>
</td>
<td>Labeling values can done by converting the column to Factor class and specifying levels. See page on [Factors]. Column names are not typically labeled as they are in Stata.</td>
</tr>
</tbody>
</table></div>
<p><strong>Descriptive analysis</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>STATA</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Tabulate counts of a variable using <strong>tab</strong> <em>varname</em>
</td>
<td>Provide the dataset and column name to <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> such as <code>table(dataset$colname)</code>. Alternatively, use <code>count(varname)</code> from the <strong>dplyr</strong> package, as explained in [Grouping data]</td>
</tr>
<tr class="even">
<td>Cross-tabulaton of two variables in a 2x2 table is done with <strong>tab</strong> <em>varname1 varname2</em>
</td>
<td>Use <code>table(dataset$varname1, dataset$varname2</code> or <code>count(varname1, varname2)</code>
</td>
</tr>
</tbody>
</table></div>
<p>While this list gives an overview of the basics in translating Stata commands into R, it is not exhaustive. There are many other great resources for Stata users transitioning to R that could be of interest:</p>
<ul>
<li>
<a href="https://dss.princeton.edu/training/RStata.pdf" class="uri">https://dss.princeton.edu/training/RStata.pdf</a><br>
</li>
<li>
<a href="https://clanfear.github.io/Stata_R_Equivalency/docs/r_stata_commands.html" class="uri">https://clanfear.github.io/Stata_R_Equivalency/docs/r_stata_commands.html</a><br>
</li>
<li><a href="http://r4stats.com/books/r4stata/" class="uri">http://r4stats.com/books/r4stata/</a></li>
</ul>
</div>
<div id="from-sas" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> From SAS<a class="anchor" aria-label="anchor" href="#from-sas"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p><strong>Coming from SAS to R</strong></p>
<p>SAS is commonly used at public health agencies and academic research fields. Although transitioning to a new language is rarely a simple process, understanding key differences between SAS and R may help you start to navigate the new language using your native language.
Below outlines the key translations in data management and descriptive analysis between SAS and R.</p>
<p><strong>General notes</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Online community available through <a href="https://support.sas.com/en/support-home.html">SAS Customer Support</a>
</td>
<td>Online community available through RStudio, StackOverFlow, and R-bloggers</td>
</tr>
<tr class="even">
<td>Help for commands available by <code>help [command]</code>
</td>
<td>Help available by [function]? or search in the Help pane</td>
</tr>
<tr class="odd">
<td>Comment code using <code>* TEXT ;</code> or <code>/* TEXT */</code>
</td>
<td>Comment code using #</td>
</tr>
<tr class="even">
<td>Almost all commands are built-in. Users can write new functions using SAS macro, SAS/IML, SAS Component Language (SCL), and most recently, procedures <code>Proc Fcmp</code> and <code>Proc Proto</code>
</td>
<td>R installs with <strong>base</strong> functions, but typical use involves installing other packages from CRAN (see page on <a href="r-basics.html#r-basics">R basics</a>)</td>
</tr>
<tr class="odd">
<td>Analysis is usually conducted by writing a SAS program in the Editor window.</td>
<td>Analysis written in an R script in the RStudio source pane. R markdown scripts are an alternative.</td>
</tr>
</tbody>
</table></div>
<p><strong>Working directory</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Working directories can be either absolute, or relative to a project root folder by defining the root folder using <code>%let rootdir=/root path; %include “&amp;rootdir/subfoldername/filename”</code>
</td>
<td>Working directories can be either absolute, or relative to a project root folder by using the <strong>here</strong> package (see <a href="import-and-export.html#import-and-export">Import and export</a>)</td>
</tr>
<tr class="even">
<td>See current working directory with <code>%put %sysfunc(getoption(work));</code>
</td>
<td>Use <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> or <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> (if using the <strong>here</strong> package), with empty parentheses</td>
</tr>
<tr class="odd">
<td>Set working directory with <code>libname “folder location”</code>
</td>
<td>Use <code>setwd(“folder location”)</code>, or <code>set_here("folder location)</code> if using <strong>here</strong> package</td>
</tr>
</tbody>
</table></div>
<p><strong>Importing and viewing data</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Use <code>Proc Import</code> procedure or using <code>Data Step Infile</code> statement.</td>
<td>Use <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> from <strong>rio</strong> package for almost all filetypes. Specific functions exist as alternatives (see <a href="import-and-export.html#import-and-export">Import and export</a>)</td>
</tr>
<tr class="even">
<td>Reading in csv files is done by using <code>Proc Import datafile=”filename.csv” out=work.filename dbms=CSV; run;</code> OR using <a href="http://support.sas.com/techsup/technote/ts673.pdf">Data Step Infile statement</a>
</td>
<td>Use <code>import("filename.csv")</code>
</td>
</tr>
<tr class="odd">
<td>Reading in xslx files is done by using <code>Proc Import datafile=”filename.xlsx” out=work.filename dbms=xlsx; run;</code> OR using <a href="http://support.sas.com/techsup/technote/ts673.pdf">Data Step Infile statement</a>
</td>
<td>Use import(“filename.xlsx”)</td>
</tr>
<tr class="even">
<td>Browse your data in a new window by opening the Explorer window and select desired library and the dataset</td>
<td>View a dataset in the RStudio source pane using View(dataset). You need to specify your dataset name to the function in R because multiple datasets can be held at the same time. Note capital “V” in this function</td>
</tr>
</tbody>
</table></div>
<p><strong>Basic data manipulation</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Dataset columns are often referred to as “variables”</td>
<td>More often referred to as “columns” or sometimes as “vectors” or “variables”</td>
</tr>
<tr class="even">
<td>No special procedures are needed to create a variable. New variables are created simply by typing the new variable name, followed by an equal sign, and then an expression for the value</td>
<td>Generate new variables using the function <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code>. See page on [Cleaning data and core functions] for details on all the below <strong>dplyr</strong> functions.</td>
</tr>
<tr class="odd">
<td>Variables are renamed using <code>rename *old_name=new_name*</code>
</td>
<td>Columns can be renamed using the function <code>rename(new_name = old_name)</code>
</td>
</tr>
<tr class="even">
<td>Variables are kept using <code>**keep**=varname</code>
</td>
<td>Columns can be selected using the function <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> with the column name in the parentheses</td>
</tr>
<tr class="odd">
<td>Variables are dropped using <code>**drop**=varname</code>
</td>
<td>Columns can be removed using the function <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> with the column name in the parentheses following a minus sign</td>
</tr>
<tr class="even">
<td>Factor variables can be labeled in the Data Step using <code>Label</code> statement</td>
<td>Labeling values can done by converting the column to Factor class and specifying levels. See page on [Factors]. Column names are not typically labeled.</td>
</tr>
<tr class="odd">
<td>Records are selected using <code>Where</code> or <code>If</code> statement in the Data Step. Multiple selection conditions are separated using “and” command.</td>
<td>Records are selected using the function <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> with multiple selection conditions separated either by an AND operator (&amp;) or a comma</td>
</tr>
<tr class="even">
<td>Datasets are combined using <code>Merge</code> statement in the Data Step. The datasets to be merged need to be sorted first using <code>Proc Sort</code> procedure.</td>
<td>
<strong>dplyr</strong> package offers a few functions for merging datasets. See page [Joining Data] for details.</td>
</tr>
</tbody>
</table></div>
<p><strong>Descriptive analysis</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="41%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th><strong>SAS</strong></th>
<th><strong>R</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Get a high-level overview of your dataset using <code>Proc Summary</code> procedure, which provides the variable names and descriptive statistics</td>
<td>Get a high-level overview of your dataset using <code>summary(dataset)</code> or <code>skim(dataset)</code> from the <strong>skimr</strong> package</td>
</tr>
<tr class="even">
<td>Tabulate counts of a variable using <code>proc freq data=Dataset; Tables varname; Run;</code>
</td>
<td>See the page on [Descriptive tables]. Options include <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> from <strong>base</strong> R, and <code>tabyl()</code> from <strong>janitor</strong> package, among others. Note you will need to specify the dataset and column name as R holds multiple datasets.</td>
</tr>
<tr class="odd">
<td>Cross-tabulation of two variables in a 2x2 table is done with <code>proc freq data=Dataset; Tables rowvar*colvar; Run;</code>
</td>
<td>Again, you can use <code><a href="https://rdrr.io/r/base/table.html">table()</a></code>, <code>tabyl()</code> or other options as described in the [Descriptive tables] page.</td>
</tr>
</tbody>
</table></div>
<p><strong>Some useful resources:</strong></p>
<p><a href="https://www.amazon.com/SAS-SPSS-Users-Statistics-Computing/dp/1461406846/ref=sr_1_1?dchild=1&amp;gclid=EAIaIQobChMIoqLOvf6u7wIVAhLnCh1c9w_DEAMYASAAEgJLIfD_BwE&amp;hvadid=241675955927&amp;hvdev=c&amp;hvlocphy=9032185&amp;hvnetw=g&amp;hvqmt=e&amp;hvrand=16854847287059617468&amp;hvtargid=kwd-44746119007&amp;hydadcr=16374_10302157&amp;keywords=r+for+sas+users&amp;qid=1615698213&amp;sr=8-1">R for SAS and SPSS Users (2011)</a></p>
<p><a href="https://www.amazon.com/SAS-Management-Statistical-Analysis-Graphics-dp-1466584491/dp/1466584491/ref=dp_ob_title_bk">SAS and R, Second Edition (2014)</a></p>
</div>
<div id="data-interoperability" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Data interoperability<a class="anchor" aria-label="anchor" href="#data-interoperability"><i class="fas fa-link"></i></a>
</h2>
<!-- ======================================================= -->
<p>See the <a href="import-and-export.html#import-and-export">Import and export</a> page for details on how the R package <strong>rio</strong> can import and export files such as STATA .dta files, SAS .xpt and.sas7bdat files, SPSS .por and.sav files, and many others.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-basics.html"><span class="header-section-number">3</span> R Basics</a></div>
<div class="next"><a href="suggested-packages-1.html"><span class="header-section-number">5</span> Suggested packages</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#transition-to-r"><span class="header-section-number">4</span> Transition to R</a></li>
<li>
<a class="nav-link" href="#from-excel"><span class="header-section-number">4.1</span> From Excel</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#benefits">Benefits</a></li>
<li><a class="nav-link" href="#tidy-data">Tidy data</a></li>
<li><a class="nav-link" href="#functions-1">Functions</a></li>
<li><a class="nav-link" href="#scripts-1">Scripts</a></li>
<li><a class="nav-link" href="#excel-to-r-resources">Excel-to-R resources</a></li>
<li><a class="nav-link" href="#r-excel-interaction">R-Excel interaction</a></li>
</ul>
</li>
<li><a class="nav-link" href="#from-stata"><span class="header-section-number">4.2</span> From Stata</a></li>
<li><a class="nav-link" href="#from-sas"><span class="header-section-number">4.3</span> From SAS</a></li>
<li><a class="nav-link" href="#data-interoperability"><span class="header-section-number">4.4</span> Data interoperability</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Epidemiologist R Handbook</strong>" was written by the handbook team. It was last built on 2023-07-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
