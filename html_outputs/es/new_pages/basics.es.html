<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EpiRhandbook en español - 3&nbsp; Fundamentos de R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../new_pages/transition_to_R.es.html" rel="next">
<link href="../new_pages/data_used.es.html" rel="prev">
<link href="../images/Applied_Epi_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QXDW878QLX', { 'anonymize_ip': true});
</script>
<!-- Global site tag (gtag.js) - Google Analytics 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QXDW878QLX');
</script> -->

</head><body class="nav-sidebar floating"><div class="alert alert-info alert-dismissible">
  <!-- <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/"
    class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/"
    class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/"
    class="alert-link">Community Q&A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org"
    class="alert-link">R Help Desk service</a>. -->
</div>

<script>

  // Function to extract the last two characters from the URL path to determine the language, adjusting for .html extension
  function getLanguageFromURL() {
    let path = window.location.pathname;
    
    // Check if the URL ends with .html and remove it
    if (path.endsWith('.html')) {
      path = path.substring(0, path.length - 5);
    }

    // Extract the last two characters for the language code
    const lang = path.substr(-2);
    return lang;
  }

  const language = getLanguageFromURL();
  const supportedLanguages = ['fr', 'es', 'vn', 'jp', 'pt', 'tr', 'ru'];
  const defaultLanguage = 'en';
  const isSupportedLanguage = supportedLanguages.includes(language);

  // Translations for the content
  const translations = {
    en: '<strong>Need help learning R?</strong> Enroll in Applied Epi\'s <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.',
    fr: '<strong>Besoin d\'aide pour apprendre R ?</strong> Inscrivez-vous au <a href="https://www.appliedepi.org/live/" class="alert-link">cours d\'introduction à R</a> d\'Applied Epi, essayez nos <a href="https://www.appliedepi.org/tutorial/" class="alert-link">tutoriels R gratuits</a>, postez dans notre forum de <a href="https://community.appliedepi.org/" class="alert-link">questions-réponses communautaires</a>, ou demandez-nous des informations sur <a href="mailto:contact@appliedepi.org" class="alert-link"> notre service d\'assistance R</a>.',
    es: '<strong>¿Necesitas ayuda para aprender R?</strong> Inscríbete en el <a href="https://www.appliedepi.org/live/" class="alert-link">Curso de introducción a R</a> de Applied Epi, prueba nuestros <a href="https://www.appliedepi.org/tutorial/" class="alert-link">Tutoriales gratuitos de R</a>, escribe en nuestro <a href="https://community.appliedepi.org/" class="alert-link">Foro de preguntas y respuestas,</a> o pregunta por nuestra <a href="mailto:contact@appliedepi.org" class="alert-link">Asistencia técnica para R</a>.',
    vn: '<strong>Bạn cần giúp đỡ trong việc học R?</strong> Hãy đăng ký khóa học R cơ bản của Applied Epi tại <a href="https://www.appliedepi.org/live/" class="alert-link">đây</a>, hoặc thử các <a href="https://www.appliedepi.org/tutorial/" class="alert-link">hướng dẫn R miễn phí</a>, đăng bài trong <a href="https://community.appliedepi.org/" class="alert-link">diễn đàn cộng đồng</a>, hoặc gửi câu hỏi tới <a href="mailto:contact@appliedepi.org" class="alert-link">dịch vụ Trợ giúp R</a> của chúng tôi.',
    jp: '<strong>Rの学習について助けが必要ですか？</strong>Applied Epiの<a href="https://www.appliedepi.org/live/" class="alert-link">R入門コース</a>に登録するか、<a href="https://www.appliedepi.org/tutorial/" class="alert-link">無料Rチュートリアル</a>を試すか、<a href="https://community.appliedepi.org/" class="alert-link">コミュニティQ＆Aフォーラム</a>に投稿するか、<a href="mailto:contact@appliedepi.org" class="alert-link">Rヘルプデスクサービス</a>についてお問い合わせください。',
    pt: '<strong>Você precisa de ajuda para aprender R??</strong> Inscreva-se no curso de <a href="https://www.appliedepi.org/live/" class="alert-link">introdução ao R da Applied Epi</a>, experimente nossos <a href="https://www.appliedepi.org/tutorial/" class="alert-link">tutoriais gratuitos sobre o R</a>, publique em nosso <a href="https://community.appliedepi.org/" class="alert-link">fórum de perguntas e respostas</a>, ou solicite nosso <a href="mailto:contact@appliedepi.org" class="alert-link">suporte ao R</a>.',
    tr: '<strong>R öğrenmekte yardıma mı ihtiyacınız var?</strong> Applied Epi\'\nin <a href="https://www.appliedepi.org/live/" class="alert-link">R\'ye giriş kursuna</a> kaydolun, <a href="https://www.appliedepi.org/tutorial/" class="alert-link">ücretsiz R derslerimizi</a> deneyin, <a href="https://community.appliedepi.org/" class="alert-link">Topluluk Q&A forumunda</a> soru paylaşın, ya da <a href="mailto:contact@appliedepi.org" class="alert-link">R Yardım Masası hizmetimiz</a> hakkında sorun.',
    ru: '<strong>Нужна помощь в изучении R?</strong> Запишитесь на <a href="https://www.appliedepi.org/live/" class="alert-link">вводный курс по R</a> от Applied Epi, попробуйте наши <a href="https://www.appliedepi.org/tutorial/" class="alert-link">бесплатные учебные материалы по R</a>, задайте вопрос в нашем <a href="https://community.appliedepi.org/" class="alert-link">форуме вопросов и ответов сообщества</a>, или спросите о нашей услуге <a href="mailto:contact@appliedepi.org" class="alert-link">Службы поддержки по R</a>.'
  };

  // Default to English if the detected language is not supported
  const contentToDisplay = translations[isSupportedLanguage ? language : defaultLanguage];


  // Select the element where the content should be displayed
  const alertElement = document.querySelector('.alert');
  if (alertElement) {
    alertElement.innerHTML = contentToDisplay;
    alertElement.style.display = 'block'; // Make sure to display the element
  }

</script>






<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.es.html">Aspectos básicos</a></li><li class="breadcrumb-item"><a href="../new_pages/basics.es.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Fundamentos de R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EpiRhandbook en español</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/appliedepi/epihandbook_quarto" title="Ejecutar el código" class="quarto-navigation-tool px-1" aria-label="Ejecutar el código"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Compartir" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Compartir"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Alternar modo oscuro"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenida</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Acerca de este libro</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/editorial_style.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Notas editoriales y técnicas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_used.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descargando el manual y los datos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Aspectos básicos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/basics.es.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Fundamentos de R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transition_to_R.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transición a R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/packages_suggested.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Paquetes recomendados</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/r_projects.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Proyectos en R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/importing.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Importación y exportación</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Gestión de datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/cleaning.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Limpieza de datos y funciones básicas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/dates.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Trabajando con Fechas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/characters_strings.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Caracteres y cadenas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/factors.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Factores</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/pivoting.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Pivotar datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/grouping.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Agrupar datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/joining_matching.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Unir datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/deduplication.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">De-duplicación</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/iteration.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Iteración, bucles y listas</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Análisis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_descriptive.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Tablas descriptivas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/stat_tests.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Tests estadísticos sencillos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/regression.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Regresión univariante y multivariable</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/missing_data.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Valores faltantes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/standardization.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Tasas estandarizadas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/moving_average.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Medias Móviles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/time_series.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Series temporales y detección de brotes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epidemic_models.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Modelización de epidemias</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/contact_tracing.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Rastreo de contactos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survey_analysis.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Análisis de encuestas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survival_analysis.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Análisis de supervivencia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/gis.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Conceptos básicos de los SIG</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Visualización de datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_presentation.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Tablas para presentaciones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_basics.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Conceptos básicos de ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_tips.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Consejos de ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epicurves.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Curvas epidémicas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/age_pyramid.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Pirámides de población y escalas de Likert</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/heatmaps.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Gráficos de calor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/diagrams.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Diagramas y gráficos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/combination_analysis.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Análisis de combinaciones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transmission_chains.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Cadenas de transmisión</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/phylogenetic_trees.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Árboles filogenéticos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/interactive_plots.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Gráficos interactivos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Informes y Dashboards</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/rmarkdown.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Informes con R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/reportfactory.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Organización de informes rutinarios</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/flexdashboard.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Dashboards con R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/shiny_basics.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Dashboards con Shiny</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Miscelánea</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/writing_functions.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Escribir funciones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/directories.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Interacciones con directorios</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/collaboration.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Control de versiones y colaboración con Git y Github</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/errors.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Errores comunes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/help.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Cómo obtener ayuda</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/network_drives.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">R en redes locales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_table.es.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Data Table</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#why-use-r" id="toc-why-use-r" class="nav-link active" data-scroll-target="#why-use-r"><span class="header-section-number">3.1</span> ¿Por qué utilizar R?</a></li>
  <li><a href="#key-terms" id="toc-key-terms" class="nav-link" data-scroll-target="#key-terms"><span class="header-section-number">3.2</span> Términos clave</a></li>
  <li><a href="#learning" id="toc-learning" class="nav-link" data-scroll-target="#learning"><span class="header-section-number">3.3</span> Recursos para aprender</a>
  <ul class="collapse">
  <li><a href="#recursos-en-rstudio" id="toc-recursos-en-rstudio" class="nav-link" data-scroll-target="#recursos-en-rstudio">Recursos en RStudio</a></li>
  <li><a href="#hojas-de-referencia" id="toc-hojas-de-referencia" class="nav-link" data-scroll-target="#hojas-de-referencia">Hojas de referencia</a></li>
  <li><a href="#twitter" id="toc-twitter" class="nav-link" data-scroll-target="#twitter">Twitter</a></li>
  <li><a href="#recursos-gratuitos-en-línea" id="toc-recursos-gratuitos-en-línea" class="nav-link" data-scroll-target="#recursos-gratuitos-en-línea">Recursos gratuitos en línea</a></li>
  <li><a href="#idiomas-distintos-del-inglés" id="toc-idiomas-distintos-del-inglés" class="nav-link" data-scroll-target="#idiomas-distintos-del-inglés">Idiomas distintos del inglés</a></li>
  </ul></li>
  <li><a href="#Installation" id="toc-Installation" class="nav-link" data-scroll-target="#Installation"><span class="header-section-number">3.4</span> Instalación</a>
  <ul class="collapse">
  <li><a href="#r-y-rstudio" id="toc-r-y-rstudio" class="nav-link" data-scroll-target="#r-y-rstudio">R y RStudio</a></li>
  <li><a href="#otros-programas-que-puedes-necesitar-instalar" id="toc-otros-programas-que-puedes-necesitar-instalar" class="nav-link" data-scroll-target="#otros-programas-que-puedes-necesitar-instalar">Otros programas que <em>puedes</em> necesitar instalar</a></li>
  </ul></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio"><span class="header-section-number">3.5</span> RStudio</a>
  <ul class="collapse">
  <li><a href="#orientación-de-rstudio" id="toc-orientación-de-rstudio" class="nav-link" data-scroll-target="#orientación-de-rstudio">Orientación de RStudio</a></li>
  <li><a href="#configuración-de-rstudio" id="toc-configuración-de-rstudio" class="nav-link" data-scroll-target="#configuración-de-rstudio">Configuración de RStudio</a></li>
  <li><a href="#atajos-de-teclado" id="toc-atajos-de-teclado" class="nav-link" data-scroll-target="#atajos-de-teclado">Atajos de teclado</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">3.6</span> Funciones</a>
  <ul class="collapse">
  <li><a href="#funciones-simples" id="toc-funciones-simples" class="nav-link" data-scroll-target="#funciones-simples">Funciones simples</a></li>
  <li><a href="#funciones-con-multiples-argumentos" id="toc-funciones-con-multiples-argumentos" class="nav-link" data-scroll-target="#funciones-con-multiples-argumentos">Funciones con multiples argumentos</a></li>
  <li><a href="#escribir-funciones" id="toc-escribir-funciones" class="nav-link" data-scroll-target="#escribir-funciones">Escribir funciones</a></li>
  </ul></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">3.7</span> Paquetes</a>
  <ul class="collapse">
  <li><a href="#instalar-y-cargar" id="toc-instalar-y-cargar" class="nav-link" data-scroll-target="#instalar-y-cargar">Instalar y cargar</a></li>
  <li><a href="#sintaxis-del-código" id="toc-sintaxis-del-código" class="nav-link" data-scroll-target="#sintaxis-del-código">Sintaxis del código</a></li>
  <li><a href="#ayuda-sobre-una-función" id="toc-ayuda-sobre-una-función" class="nav-link" data-scroll-target="#ayuda-sobre-una-función">Ayuda sobre una función</a></li>
  <li><a href="#actualizar-paquetes" id="toc-actualizar-paquetes" class="nav-link" data-scroll-target="#actualizar-paquetes">Actualizar paquetes</a></li>
  <li><a href="#eliminar-paquetes" id="toc-eliminar-paquetes" class="nav-link" data-scroll-target="#eliminar-paquetes">Eliminar paquetes</a></li>
  <li><a href="#dependencias" id="toc-dependencias" class="nav-link" data-scroll-target="#dependencias">Dependencias</a></li>
  <li><a href="#funciones-enmascaradas" id="toc-funciones-enmascaradas" class="nav-link" data-scroll-target="#funciones-enmascaradas">Funciones enmascaradas</a></li>
  <li><a href="#descargar" id="toc-descargar" class="nav-link" data-scroll-target="#descargar">Descargar</a></li>
  <li><a href="#instalar-una-versión-anterior" id="toc-instalar-una-versión-anterior" class="nav-link" data-scroll-target="#instalar-una-versión-anterior">Instalar una versión anterior</a></li>
  <li><a href="#paquetes-recomendados" id="toc-paquetes-recomendados" class="nav-link" data-scroll-target="#paquetes-recomendados">Paquetes recomendados</a></li>
  </ul></li>
  <li><a href="#scripts" id="toc-scripts" class="nav-link" data-scroll-target="#scripts"><span class="header-section-number">3.8</span> Scripts</a>
  <ul class="collapse">
  <li><a href="#comentarios" id="toc-comentarios" class="nav-link" data-scroll-target="#comentarios">Comentarios</a></li>
  <li><a href="#estilo" id="toc-estilo" class="nav-link" data-scroll-target="#estilo">Estilo</a></li>
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link" data-scroll-target="#r-markdown">R markdown</a></li>
  <li><a href="#r-notebooks" id="toc-r-notebooks" class="nav-link" data-scroll-target="#r-notebooks">R notebooks</a></li>
  <li><a href="#shiny" id="toc-shiny" class="nav-link" data-scroll-target="#shiny">Shiny</a></li>
  <li><a href="#plegar-código" id="toc-plegar-código" class="nav-link" data-scroll-target="#plegar-código">Plegar código</a></li>
  </ul></li>
  <li><a href="#working_directory" id="toc-working_directory" class="nav-link" data-scroll-target="#working_directory"><span class="header-section-number">3.9</span> Directorio de trabajo</a>
  <ul class="collapse">
  <li><a href="#enfoque-recomendado" id="toc-enfoque-recomendado" class="nav-link" data-scroll-target="#enfoque-recomendado">Enfoque recomendado</a></li>
  <li><a href="#mediante-comandos" id="toc-mediante-comandos" class="nav-link" data-scroll-target="#mediante-comandos">Mediante comandos</a></li>
  <li><a href="#manualmente" id="toc-manualmente" class="nav-link" data-scroll-target="#manualmente">Manualmente</a></li>
  <li><a href="#con-un-proyecto" id="toc-con-un-proyecto" class="nav-link" data-scroll-target="#con-un-proyecto">Con un proyecto</a></li>
  <li><a href="#directorio-en-rmarkdown" id="toc-directorio-en-rmarkdown" class="nav-link" data-scroll-target="#directorio-en-rmarkdown">Directorio en Rmarkdown</a></li>
  <li><a href="#escribir-la-ruta-completa" id="toc-escribir-la-ruta-completa" class="nav-link" data-scroll-target="#escribir-la-ruta-completa">Escribir la ruta completa</a></li>
  </ul></li>
  <li><a href="#objects" id="toc-objects" class="nav-link" data-scroll-target="#objects"><span class="header-section-number">3.10</span> Objetos</a>
  <ul class="collapse">
  <li><a href="#todo-es-un-objeto" id="toc-todo-es-un-objeto" class="nav-link" data-scroll-target="#todo-es-un-objeto">Todo es un objeto</a></li>
  <li><a href="#definición-de-objetos--" id="toc-definición-de-objetos--" class="nav-link" data-scroll-target="#definición-de-objetos--">Definición de objetos (<code>&lt;-</code>)</a></li>
  <li><a href="#estructura-de-los-objetos" id="toc-estructura-de-los-objetos" class="nav-link" data-scroll-target="#estructura-de-los-objetos">Estructura de los objetos</a></li>
  <li><a href="#tipos-de-objeto" id="toc-tipos-de-objeto" class="nav-link" data-scroll-target="#tipos-de-objeto">Tipos de objeto</a></li>
  <li><a href="#columnasvariables" id="toc-columnasvariables" class="nav-link" data-scroll-target="#columnasvariables">Columnas/Variables (<code>$</code>)</a></li>
  <li><a href="#accesoíndice-con-corchetes" id="toc-accesoíndice-con-corchetes" class="nav-link" data-scroll-target="#accesoíndice-con-corchetes">Acceso/índice con corchetes (<code>[ ]</code>)</a></li>
  <li><a href="#eliminar-objetos" id="toc-eliminar-objetos" class="nav-link" data-scroll-target="#eliminar-objetos">Eliminar objetos</a></li>
  </ul></li>
  <li><a href="#piping" id="toc-piping" class="nav-link" data-scroll-target="#piping"><span class="header-section-number">3.11</span> Piping (<code>%&gt;%</code>)</a>
  <ul class="collapse">
  <li><a href="#pipes" id="toc-pipes" class="nav-link" data-scroll-target="#pipes"><strong>Pipes (%&gt;%)</strong></a></li>
  <li><a href="#definir-objetos-intermedios" id="toc-definir-objetos-intermedios" class="nav-link" data-scroll-target="#definir-objetos-intermedios">Definir objetos intermedios</a></li>
  </ul></li>
  <li><a href="#operators" id="toc-operators" class="nav-link" data-scroll-target="#operators"><span class="header-section-number">3.12</span> Operadores y funciones clave</a>
  <ul class="collapse">
  <li><a href="#operadores-de-asignación" id="toc-operadores-de-asignación" class="nav-link" data-scroll-target="#operadores-de-asignación">Operadores de asignación</a></li>
  <li><a href="#operadores-relacionales-y-lógicos" id="toc-operadores-relacionales-y-lógicos" class="nav-link" data-scroll-target="#operadores-relacionales-y-lógicos">Operadores relacionales y lógicos</a></li>
  <li><a href="#valores-faltantes" id="toc-valores-faltantes" class="nav-link" data-scroll-target="#valores-faltantes">Valores faltantes</a></li>
  <li><a href="#matemáticos-y-estadísticos" id="toc-matemáticos-y-estadísticos" class="nav-link" data-scroll-target="#matemáticos-y-estadísticos">Matemáticos y estadísticos</a></li>
  <li><a href="#in" id="toc-in" class="nav-link" data-scroll-target="#in"><code>%in%</code></a></li>
  </ul></li>
  <li><a href="#errors-warnings" id="toc-errors-warnings" class="nav-link" data-scroll-target="#errors-warnings"><span class="header-section-number">3.13</span> Errores &amp; avisos</a>
  <ul class="collapse">
  <li><a href="#error-vs-aviso" id="toc-error-vs-aviso" class="nav-link" data-scroll-target="#error-vs-aviso">Error vs aviso</a></li>
  <li><a href="#consejos-generales-de-sintaxis" id="toc-consejos-generales-de-sintaxis" class="nav-link" data-scroll-target="#consejos-generales-de-sintaxis">Consejos generales de sintaxis</a></li>
  <li><a href="#código-de-asistencia" id="toc-código-de-asistencia" class="nav-link" data-scroll-target="#código-de-asistencia">Código de asistencia</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../new_pages/basics.es.html">Aspectos básicos</a></li><li class="breadcrumb-item"><a href="../new_pages/basics.es.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Fundamentos de R</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="r-basics" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Fundamentos de R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/basics_header_close.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../images/basics_header_close.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Bienvenido.</p>
<p>Esta página repasa los aspectos esenciales de R. No pretende ser un tutorial exhaustivo, pero proporciona los fundamentos y puede ser útil para refrescar la memoria. La sección de <a href="#learning">Recursos para el aprendizaje</a> enlaza con tutoriales más completos.</p>
<p>Partes de esta página han sido adaptadas con permiso del <a href="https://r4epis.netlify.app/">proyecto R4Epis</a>.</p>
<p>Consulta la página sobre <a href="transition_to_R.es.html">Transición a R</a> para obtener consejos sobre cómo cambiar a R desde STATA, SAS o Excel.</p>
<!-- ======================================================= -->
<section id="why-use-r" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="why-use-r"><span class="header-section-number">3.1</span> ¿Por qué utilizar R?</h2>
<p>Como se indica en el <a href="https://www.r-project.org/about.html">sitio web de R project</a>, éste es un lenguaje de programación y un entorno para la computación estadística y gráficos. Es muy versátil, ampliable y dirigido por la comunidad.</p>
<p><strong>Coste</strong></p>
<p>El uso de R es gratuito. Hay una fuerte ética en la comunidad de material libre y de código abierto.</p>
<p><strong>Reproducibilidad</strong></p>
<p>La gestión y el análisis de los datos a través de un lenguaje de programación (en comparación con Excel u otra herramienta principalmente manual) mejora <strong>la reproducibilidad</strong>, facilita la <strong>detección de errores</strong> y alivia la carga de trabajo.</p>
<p><strong>Comunidad</strong></p>
<p>La comunidad de usuarios de R es enorme y colaborativa. Cada día se desarrollan nuevos paquetes y herramientas para abordar problemas cotidianos, que son examinados por la comunidad de usuarios. Por ejemplo, <a href="https://rladies.org/">R-Ladies</a> es una asociación mundial cuya misión es promover la diversidad de género en la comunidad de R, siendo una de las mayores asociaciones de usuarios de R. Es probable que tengas un grupo cerca.</p>
</section>
<section id="key-terms" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="key-terms"><span class="header-section-number">3.2</span> Términos clave</h2>
<p><strong>RStudio</strong> - RStudio es una interfaz gráfica de usuario (GUI) para facilitar el uso de <strong>R.</strong> Lee más en la sección <a href="#rstudio">RStudio</a>.</p>
<p><strong>Objetos</strong> - Todo lo que se almacena en R - conjuntos de datos, variables, una lista de nombres de pueblos, un número total de población, incluso resultados como gráficos - son <em>objetos</em> a los que se les <em>asigna un nombre</em> y <em>pueden ser referenciados</em> en comandos posteriores. Lee más en la sección <a href="#objects">Objetos</a>.</p>
<p><strong>Funciones</strong> - Una función es una operación de código que acepta entradas y devuelve una salida transformada. Lee más en la sección <a href="#functions">Funciones</a>.</p>
<p><strong>Paquetes</strong> - Un paquete de R es un conjunto de funciones que se pueden compartir. Lee más en la sección <a href="#packages">Paquetes</a>.</p>
<p><strong>Scripts</strong> - Un script es un archivo que contiene una serie comandos. Lee más en la sección <a href="#scripts">Scripts</a></p>
</section>
<section id="learning" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="learning"><span class="header-section-number">3.3</span> Recursos para aprender</h2>
<section id="recursos-en-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="recursos-en-rstudio">Recursos en RStudio</h3>
<p><strong>Documentación de ayuda</strong></p>
<p>Busca en la pestaña “Help” de RStudio la documentación sobre los paquetes de R y funciones específicas. Esto está dentro del panel que también contiene Archivos, Gráficos y Paquetes (normalmente en el panel inferior derecho). También puedes escribir el nombre de un paquete o función en la consola de R después de un signo de interrogación para abrir la página de ayuda correspondiente. No incluyas paréntesis.</p>
<p>Por ejemplo: ?filter o ?diagrammeR.</p>
<p><strong>Tutoriales interactivos</strong></p>
<p>Hay varias formas de aprender R de forma interactiva <em>dentro de</em> RStudio.</p>
<p>El propio RStudio ofrece un Tutorial que se encuentra en el paquete de R <a href="https://blog.rstudio.com/2020/02/25/rstudio-1-3-integrated-tutorials/"><strong>learnr</strong></a>. Simplemente instala este paquete y abre un tutorial a través de la nueva pestaña “Tutorial” en el panel superior derecho de RStudio (que también contiene las pestañas Environment e History).</p>
<p>El paquete de R <a href="https://swirlstats.com/"><strong>swirl</strong></a> ofrece cursos interactivos en la consola de R. Instala y carga este paquete, luego ejecuta el comando <code>swirl()</code> (paréntesis vacío) en la consola de R. Verás que aparecen indicaciones en la consola. Responde escribiendo en la misma. Te guiará a través de un curso de tu elección.</p>
</section>
<section id="hojas-de-referencia" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hojas-de-referencia">Hojas de referencia</h3>
<p>Hay muchas “hojas de referencias o trucos” (Cheatsheets) en PDF disponibles en el <a href="https://rstudio.com/resources/cheatsheets/">sitio web de RStudio</a>, por ejemplo:</p>
<ul>
<li>Factores con el paquete <strong>forcats</strong></li>
<li>Fechas y horarios con el paquete <strong>lubridate</strong></li>
<li>Cadenas con el paquete <strong>stringr</strong></li>
<li>Operaciones iterativas con el paquete <strong>purrr</strong></li>
<li>Importación de datos</li>
<li>Transformación de datos con el paquete <strong>dplyr</strong></li>
<li><strong>R Markdown</strong> (para crear documentos como PDF, Word, Powerpoint…)</li>
<li><strong>Shiny</strong> (para crear aplicaciones web interactivas)</li>
<li>Visualización de datos con el paquete <strong>ggplot2</strong></li>
<li>Cartografía (GIS)</li>
<li>Mapas interactivos con el paquete <strong>leaflet</strong></li>
<li>Python con R (paquete <strong>reticulate</strong>)</li>
</ul>
<p>En este enlace puedes encontrar un recurso en línea, específicamente para los <a href="https://jules32.github.io/r-for-excel-users/">usuarios de Excel</a></p>
</section>
<section id="twitter" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="twitter">Twitter</h3>
<p>R tiene una vibrante comunidad en Twitter en la que puedes aprender trucos, atajos y noticias: sigue estas cuentas:</p>
<ul>
<li>Síguenos! <a href="https://twitter.com/epirhandbook"><span class="citation" data-cites="epiRhandbook">@epiRhandbook</span></a></li>
<li>R Function A Day <a href="https://twitter.com/rfunctionaday"><span class="citation" data-cites="rfuntionaday">@rfuntionaday</span></a> (Es un recurso <em>increíble)</em></li>
<li>R para ciencia de datos <a href="https://twitter.com/rstats4ds?lang=en"><span class="citation" data-cites="rstats4ds">@rstats4ds</span></a></li>
<li>RStudio <a href="https://twitter.com/rstudio?lang=en"><span class="citation" data-cites="RStudio">@RStudio</span></a></li>
<li>Trucos de RStudio <a href="https://twitter.com/rstudiotips"><span class="citation" data-cites="rstudiotips">@rstudiotips</span></a></li>
<li>R-Bloggers <a href="https://twitter.com/Rbloggers"><span class="citation" data-cites="Rbloggers">@Rbloggers</span></a></li>
<li>R-ladies <a href="https://twitter.com/RLadiesGlobal"><span class="citation" data-cites="RLadiesGlobal">@RLadiesGlobal</span></a></li>
<li>Hadley Wickham <a href="https://twitter.com/hadleywickham?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"><span class="citation" data-cites="hadleywickham">@hadleywickham</span></a></li>
</ul>
<p>También:</p>
<p><strong>#epitwitter</strong> y <strong>#rstats</strong></p>
</section>
<section id="recursos-gratuitos-en-línea" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="recursos-gratuitos-en-línea">Recursos gratuitos en línea</h3>
<p>Un texto definitivo es el libro <a href="https://r4ds.had.co.nz/">R for Data Science</a> de Garrett Grolemund y Hadley Wickham</p>
<p>El sitio web del proyecto <a href="https://r4epis.netlify.app/">R4Epis</a> tiene como objetivo “desarrollar herramientas estandarizadas de limpieza de datos, análisis y elaboración de informes para cubrir los tipos comunes de brotes y estudios realizados en la población en un entorno de respuesta de emergencia de MSF”. Se pueden encontrar materiales de formación sobre los fundamentos de R, plantillas para informes de RMarkdown sobre brotes y encuestas, y tutoriales para ayudar a configurarlos.</p>
</section>
<section id="idiomas-distintos-del-inglés" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="idiomas-distintos-del-inglés">Idiomas distintos del inglés</h3>
<p><a href="https://www.rstudio.com/collections/espanol/">Materiales de RStudio en Español</a></p>
<p><a href="https://es.r4ds.hadley.nz/">R for Data Science en español</a></p>
<p><a href="https://juba.github.io/tidyverse/index.html">Introduction à R et au tidyverse (Francais)</a></p>
<!-- ======================================================= -->
</section>
</section>
<section id="Installation" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="Installation"><span class="header-section-number">3.4</span> Instalación</h2>
<section id="r-y-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-y-rstudio">R y RStudio</h3>
<p><strong>Cómo instalar R</strong></p>
<p>Visita este sitio web <a href="https://www.r-project.org/">https://www.r-project.org/</a> y descarga la última versión de R adecuada a tu ordenador.</p>
<p><strong>Cómo instalar RStudio</strong></p>
<p>Visita este sitio web <a href="https://rstudio.com/products/rstudio/download/">https://rstudio.com/products/rstudio/download/</a> y descarga la última versión gratuita de RStudio para escritorio adecuada para tu ordenador.</p>
<p><strong>Permisos </strong></p>
<p>Ten en cuenta que debes instalar R y RStudio en una unidad donde tengas permisos de lectura y escritura. De lo contrario, la capacidad para instalar paquetes de R (algo frecuente) se verá afectada. Si tienes problemas, intenta abrir RStudio con el botón derecho en el icono y seleccionando “Ejecutar como administrador”. Puedes encontrar otros consejos en la página <a href="network_drives.es.html">R en unidades de red</a>.</p>
<p><strong>Cómo actualizar R y RStudio</strong></p>
<p>Tu versión de R se muestra al inicio de la consola de R. También puede ejecutar <code>sessionInfo()</code>.</p>
<p>Para actualizar R, puedes ir al sitio web mencionado anteriormente y vuelva a instalar R. También puede utilizar el paquete <strong>installr</strong> (en Windows) ejecutando <code>installr::updateR()</code>. Esto abrirá cuadros de diálogo para ayudarle a descargar la última versión de R y actualizar sus paquetes a la nueva versión de R. Puedes encontrar más detalles en la <a href="https://www.r-project.org/nosvn/pandoc/installr.html">documentación</a> de <strong>installr</strong>.</p>
<p>Ten en cuenta que la versión antigua de R seguirá existiendo en tu ordenador. Puedes ejecutar temporalmente una versión anterior (una “instalación” más antigua) de R clicando en “Herramientas” -&gt; “Opciones globales” en RStudio y eligiendo una versión de R. Esto puede ser útil si quieres utilizar un paquete que no ha sido actualizado para funcionar en la versión más reciente de R.</p>
<p>Para actualizar RStudio, puede ir a la página web anterior y volver a descargar RStudio. Otra opción es clicar en “Ayuda” -&gt; “Buscar actualizaciones” dentro de RStudio, pero esto puede no mostrar las últimas actualizaciones.</p>
<p>Para ver qué versiones de R, RStudio o paquetes se utilizaron cuando se hizo este Manual, consulta la página de <a href="editorial_style.es.html">Notas técnicas y editoriales</a>.</p>
</section>
<section id="otros-programas-que-puedes-necesitar-instalar" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="otros-programas-que-puedes-necesitar-instalar">Otros programas que <em>puedes</em> necesitar instalar</h3>
<ul>
<li>TinyTeX (<em>para compilar un documento RMarkdown en PDF</em>)</li>
<li>Pandoc (<em>para compilar documentos RMarkdown</em>)</li>
<li>RTools (<em>para construir paquetes para R</em>)</li>
<li>phantomjs (<em>para guardar imágenes fijas de redes animadas, como cadenas de transmisión</em>)</li>
</ul>
<section id="tinytex" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="tinytex">TinyTex</h4>
<p>TinyTex es una distribución LaTeX personalizada, útil cuando se trata de producir PDFs desde R.&nbsp;Ver <a href="https://yihui.org/tinytex/">https://yihui.org/tinytex/</a> para más información.</p>
<p>Para instalar TinyTex desde R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tinytex'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># para desinstalar TinyTeX, ejecutar tinytex::uninstall_tinytex()</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pandoc" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="pandoc">Pandoc</h4>
<p>Pandoc es un conversor de documentos, un software separado de R. <strong>Viene incluido con RStudio y no debería ser necesario descargarlo.</strong> Ayuda en el proceso de conversión de documentos Rmarkdown a distintos formatos como pdf o html y añade funcionalidades complejas.</p>
</section>
<section id="rtools" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="rtools">RTools</h4>
<p>RTools es una colección de software para construir paquetes para R</p>
<p>Se instala desde este sitio web:<a href="https://cran.r-project.org/bin/windows/Rtools/">https://cran.r-project.org/bin/windows/Rtools/</a></p>
</section>
<section id="phantomjs" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="phantomjs">phantomjs</h4>
<p>Esto se utiliza a menudo para hacer “capturas de pantalla” de las páginas web. Por ejemplo, cuando se hace una cadena de transmisión con el paquete <strong>epicontacts</strong>, se produce un archivo HTML que es interactivo y dinámico. Si deseas una imagen estática, puede ser útil utilizar el paquete <a href="https://wch.github.io/webshot/articles/intro.html"><strong>webshot</strong></a> para automatizar este proceso. Para ello se necesita el programa externo “phantomjs”. Puedes instalar phantomjs a través del paquete <strong>webshot</strong> con el comando <code>webshot::install_phantomjs()</code>.</p>
<!-- ======================================================= -->
</section>
</section>
</section>
<section id="rstudio" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="rstudio"><span class="header-section-number">3.5</span> RStudio</h2>
<section id="orientación-de-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="orientación-de-rstudio">Orientación de RStudio</h3>
<p><strong>Primero, abre RStudio.</strong> Como sus iconos pueden ser muy similares, asegúrate de que estás abriendo <em>RStudio</em> y no R.</p>
<p>Para que RStudio funcione, también debes tener instalado R en el ordenador (consulta las instrucciones de instalación más arriba).</p>
<p><strong>RStudio</strong> es una interfaz (GUI) para facilitar el uso de <strong>R</strong>. Puedes pensar que R es el motor de un vehículo, que hace el trabajo crucial, y RStudio es la carrocería del vehículo (con asientos, accesorios, etc.) que te ayuda a usar el motor para avanzar. Puedes ver la hoja de trucos completa de la interfaz de usuario de RStudio (PDF) <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">aquí</a></p>
<p>Por defecto, RStudio muestra cuatro paneles rectangulares.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/RStudio_overview.PNG" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../images/RStudio_overview.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><span style="color: black;"><strong><em>CONSEJO:</em></strong> Si tu RStudio sólo muestra un panel izquierdo es porque aún no tiene ningún script abierto.</span></p>
<p><strong>El panel Source</strong></p>
<p>Este panel de código Fuente u origen, por defecto en la parte superior izquierda, es un espacio para editar, ejecutar y guardar tus <a href="#scripts">scripts</a>. Los scripts contienen los comandos que desea ejecutar. Este panel también puede mostrar conjuntos de datos (data frames) para su visualización.</p>
<p>Para los usuarios de Stata, este panel es similar a las ventanas de Do-file y del Editor de Datos.</p>
<p><strong>El panel Console</strong></p>
<p>La consola de R es el hogar del “motor” de R es, por defecto, el panel izquierdo o inferior izquierdo en R Studio. Aquí es donde se ejecutan realmente los comandos y aparecen las salidas no gráficas y los mensajes de error/advertencia. Puedes introducir y ejecutar directamente comandos en la Consola de R, pero ten en cuenta que estos comandos no se guardan como cuando se ejecutan comandos desde un script.</p>
<p>Si estás familiarizado con Stata, la consola de R es como la ventana de comandos y también la ventana de resultados.</p>
<p><strong>El panel Environment</strong></p>
<p>Este panel de Entorno, por defecto en la parte superior derecha, se utiliza más a menudo para ver breves resúmenes de los <a href="#objects">objetos</a> en el Entorno R en la sesión actual. Estos objetos pueden incluir conjuntos de datos importados, modificados o creados, parámetros que hayas definido (por ejemplo, una semana epi específica para el análisis), o vectores o listas que hayas definido durante el análisis (por ejemplo, nombres de regiones). Puedes clicar en la flecha situada junto al nombre de un dataframe para ver sus variables.</p>
<p>En Stata, esto es muy similar a la ventana del Gestor de Variables.</p>
<p>Este panel también contiene <em>History</em> donde puede ver los comandos ejecutados anteriormente. También tiene una pestaña “Tutorial” donde puedes completar tutoriales interactivos de R si tienes el paquete <strong>learnr</strong> instalado. También tiene una pestaña de “Conexiones” para las conexiones externas, y puede tener un panel “Git” si decides interactuar con Github.</p>
<p><strong>Panel Files, Plots, Packages, Help, Viewer</strong> Este panel inferior derecho incluye varias pestañas importantes. La pestaña Files (Archivos) permite navegar por las carpetas y puede utilizarse para abrir o eliminar archivos. En la pestaña Plots (Gráficos), se mostrarán todos los gráficos, incluyendo los mapas. Las salidas interactivas o HTML se mostrarán en la pestaña Viewer (Visor). El panel Packages (Paquetes) permite ver, instalar, actualizar, eliminar, cargar/descargar paquetes de R y ver qué versión del paquete tiene. En la <a href="#packages">sección de paquetes</a> más abajo se puede aprender más sobre los paquetes. Por último, en el panel de Ayuda (Help) se mostrará la documentación y los archivos de ayuda.</p>
<p>Este panel contiene los equivalentes en Stata de las ventanas Plots Manager y Project Manager.</p>
</section>
<section id="configuración-de-rstudio" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="configuración-de-rstudio">Configuración de RStudio</h3>
<p>Cambia la configuración y la apariencia de RStudio en el menú desplegable <em>Tools (Herramientas)</em>, seleccionando <em>Global Options (Opciones globales)</em>. Allí puede cambiar la configuración por defecto, incluyendo la apariencia/color de fondo.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/RStudio_tools_options_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../images/RStudio_tools_options_1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/RStudio_tools_options.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="../images/RStudio_tools_options.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>Reiniciar</strong></p>
<p>Si se cuelga R, se puede reiniciar yendo al menú Sesión y clicando en “Restart R” (Reiniciar R)“. Esto evita la molestia de cerrar y abrir RStudio. Al hacer esto, se eliminará todo el entorno de esa sesión de R.</p>
</section>
<section id="atajos-de-teclado" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="atajos-de-teclado">Atajos de teclado</h3>
<p>Algunos atajos de teclado muy útiles están abajo. Se pueden ver todos los atajos de teclado para Windows, Max y Linux en la segunda página de esta <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">hoja de trucos de la interfaz de usuario</a> de RStudio.</p>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 21%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th>Windows/Linux</th>
<th>Mac</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Esc</td>
<td>Esc</td>
<td>Interrumpir el comando actual (útil si accidentalmente ejecutó un comando incompleto y no puede evitar ver “+” en la consola de R)</td>
</tr>
<tr class="even">
<td>Ctrl+s</td>
<td>Cmd+s</td>
<td>Guardar (script)</td>
</tr>
<tr class="odd">
<td>Tab</td>
<td>Tab</td>
<td>Autocompletar</td>
</tr>
<tr class="even">
<td>Ctrl + Enter</td>
<td>Cmd + Enter</td>
<td>Ejecutar la(s) línea(s) de código actual(es)</td>
</tr>
<tr class="odd">
<td>Ctrl + Mayús + C</td>
<td>Cmd + Shift + c</td>
<td>Comentar/descomentar las líneas resaltadas</td>
</tr>
<tr class="even">
<td>Alt + *</td>
<td>Opción + *</td>
<td>Insertar &lt;-</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + m</td>
<td>Cmd + Shift + m</td>
<td>Insertar %&gt;%</td>
</tr>
<tr class="even">
<td>Ctrl + l</td>
<td>Cmd + l</td>
<td>Limpiar la consola de R</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + b</td>
<td>Cmd + Opción + b</td>
<td>Ejecutar desde el inicio hasta la línea actual</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + t</td>
<td>Cmd + Opción + t</td>
<td>Ejecutar la sección de código actual (R Markdown)</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + i</td>
<td>Cmd + Shift + r</td>
<td>Insertar un trozo (chunk) de código (en R Markdown)</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + c</td>
<td>Cmd + Opción + c</td>
<td>Ejecutar el código chunk actual (R Markdown)</td>
</tr>
<tr class="odd">
<td>flechas arriba/abajo en la consola R</td>
<td>En el mismo</td>
<td>Recorrer los comandos ejecutados recientemente</td>
</tr>
<tr class="even">
<td>Shift + flechas arriba/abajo en el script</td>
<td>En el mismo</td>
<td>Seleccionar varias líneas de código</td>
</tr>
<tr class="odd">
<td>Ctrl + f</td>
<td>Cmd + f</td>
<td>Buscar y reemplazar en el script actual</td>
</tr>
<tr class="even">
<td>Ctrl + Mayús + f</td>
<td>Cmd + Shift + f</td>
<td>Buscar en archivos (buscar/reemplazar en muchos scripts)</td>
</tr>
<tr class="odd">
<td>Alt + l</td>
<td>Cmd + Opción + l</td>
<td>Plegar el código seleccionado</td>
</tr>
<tr class="even">
<td>Shift + Alt + l</td>
<td>Cmd + Shift + Opción+l Desplegar el código seleccionado</td>
<td></td>
</tr>
</tbody>
</table>
<p><span style="color: darkgreen;"><strong><em>CONSEJO:</em></strong> Utiliza la tecla Tab cuando escribas para activar la función de autocompletar de RStudio. Esto puede evitar errores de ortografía. Pulsa el tabulador mientras escribes para que aparezca un menú desplegable de posibles funciones y objetos, basándose en lo que escrito hasta ese momento.</span></p>
<!-- ======================================================= -->
</section>
</section>
<section id="functions" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="functions"><span class="header-section-number">3.6</span> Funciones</h2>
<p>Las funciones son la pieza principal en el uso de R. Las funciones son la forma de realizar tareas y operaciones. Muchas vienen instaladas con R, mientras muchas otras están disponibles para su descarga en <em>paquetes</em> (explicados en la sección de <a href="#packages">paquetes</a>), ¡E incluso, puedes escribir tus propias funciones personalizadas.</p>
<p>Esta sección básica sobre las funciones explica:</p>
<ul>
<li>Qué es una función y cómo funciona</li>
<li>Qué son los <em>argumentos</em> de una función</li>
<li>Cómo obtener ayuda para entender una función</li>
</ul>
<p><em>Una nota rápida sobre la sintaxis:</em> En este manual, las funciones se escriben en código-texto con paréntesis abiertos, así: <code>filter()</code>. Como se explica en la sección de <a href="#packages">paquetes</a>, las funciones se descargan dentro de <em>los paquetes</em>. En este manual, los nombres de los paquetes se escriben en <strong>negrita</strong>, como <strong>dplyr</strong>. A veces en el código de ejemplo puede ver el nombre de la función vinculado explícitamente al nombre de su paquete con dos dos puntos (::) como: <code>dplyr::filter()</code>. El propósito de esta vinculación se explica en la sección de paquetes.</p>
<!-- ======================================================= -->
<section id="funciones-simples" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funciones-simples">Funciones simples</h3>
<p><strong>Una función es como una máquina que recibe entradas, realiza alguna acción con esas entradas y produce una salida.</strong> El resultado depende de la función.</p>
<p><strong>Las funciones suelen operar sobre algún objeto colocado dentro de los paréntesis de la función</strong>. Por ejemplo, la función <code>sqrt()</code> calcula la raíz cuadrada de un número:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">49</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>El objeto proporcionado a una función también puede ser una columna de datos (véase la sección <a href="#objects">Objetos</a> para conocer todos los tipos de objetos). Dado que R puede almacenar múltiples conjuntos de datos, tendrás que especificar tanto el set de datos como la columna. Una forma de hacerlo es utilizar la notación <code>$</code> para vincular el nombre de los datos y el nombre de la columna (<code>dataset$column</code>). En el siguiente ejemplo, la función summary() se aplica a la columna numérica <code>age</code> en los datos <code>linelist</code>, y la salida es un resumen de los valores numéricos y faltantes de la columna.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra estadísticas resumen de la columna 'age' del dataset 'linelist'</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
</div>
<p><span style="color: black;"><strong><em>NOTA:</em></strong> Entre bastidores, una función representa un código adicional complejo que ha sido envuelto para el usuario en un comando sencillo.</span></p>
<!-- ======================================================= -->
</section>
<section id="funciones-con-multiples-argumentos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funciones-con-multiples-argumentos">Funciones con multiples argumentos</h3>
<p>Las funciones suelen pedir varias entradas, llamadas <strong><em>argumentos</em></strong>, situadas dentro del paréntesis de la función, normalmente separadas por comas.</p>
<ul>
<li>Algunos argumentos son necesarios para que la función funcione correctamente, mientras otros son opcionales</li>
<li>Los argumentos opcionales tienen una configuración por defecto</li>
<li>Los argumentos pueden tomar caracteres, números, lógica (TRUE/FALSE) y otras entradas</li>
</ul>
<p>He aquí una divertida función ficticia, llamada <code>oven_bake()</code>, como ejemplo de una función típica (hacer en el horno). Toma un objeto de entrada (“input”) (por ejemplo, una base de datos o en este ejemplo “masa”) y realiza operaciones en él según lo especificado por los argumentos adicionales (<code>minutes =</code> y <code>temperature =</code>). La salida (“output”) puede ir a la consola, o guardarse como un objeto utilizando el operador de asignación <code>&lt;-</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/Function_Bread_Example.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="../images/Function_Bread_Example.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>En un ejemplo más realista</strong>, el comando <code>age_pyramid()</code> que aparece a continuación produce un gráfico de pirámide de edad basado en grupos de edad definidos y una columna de división binaria, como <code>gender</code>. La función recibe tres argumentos dentro de los paréntesis, separados por comas. Los valores suministrados a los argumentos establecen <code>linelist</code> como los datos (dataframe) a utilizar, <code>age_cat5</code> como la columna a contar, y <code>gender</code> como la columna binaria a utilizar para dividir la pirámide por color según género.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una pirámide de edad </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(<span class="at">data =</span> linelist, <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="at">split_by =</span> <span class="st">"gender"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.es_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="basics.es_files/figure-html/unnamed-chunk-6-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>El comando anterior puede escribirse de forma equivalente a la de más abajo, con un estilo más largo con una nueva línea para cada argumento. Este estilo puede ser más fácil de leer, y más fácil de escribir “comentarios” con <code>#</code> para explicar cada segmento de código (¡comentar en el código es considerado una buena práctica!). Para ejecutar este comando más largo puedes seleccionar todo el texto y clicar en “Ejecutar”, o simplemente colocar el cursor en la primera línea y luego clicar las teclas Ctrl y Enter simultáneamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una pirámide de edad</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> linelist,        <span class="co"># usa los datos de linelist</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="co"># especifica la columna para los grupos de edad</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">split_by =</span> <span class="st">"gender"</span>     <span class="co"># usa la columna gender para los dos lados de la pirámide</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.es_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="basics.es_files/figure-html/unnamed-chunk-7-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>No es necesario especificar la primera mitad de una asignación de argumentos (por ejemplo, <code>data =</code>) si los argumentos se escriben en su orden específico (especificado en la documentación de la función). El código siguiente produce exactamente la misma pirámide que la anterior, porque la función espera ese orden de los argumentos: conjunto de datos, la variable para <code>age_group, y la variable para</code>split_by` .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Esta orden produce exactamente el mismo gráfico que la anterior</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(linelist, <span class="st">"age_cat5"</span>, <span class="st">"gender"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Un comando <code>age_pyramid()</code> más complejo podría incluir argumentos <em>opcionales</em> para:</strong></p>
<ul>
<li>Mostrar proporciones en lugar de recuentos (estableciendo <code>proportional = TRUE</code> cuando el valor por defecto es <code>FALSE</code>)</li>
<li>Especificar los dos colores a utilizar (<code>pal =</code> es la abreviatura de “paleta” y se suministra con un vector de dos nombres de color. Para saber cómo se hace un vector con la función <code>c()</code> puedes consultar la página de <a href="#objectstructure">objetos</a> .</li>
</ul>
<p><span style="color: black;"><strong><em>NOTA:</em></strong> En los argumentos en los que se especifican ambas partes del argumento (por ejemplo, <code>proporcional = TRUE</code>), no importa el orden de estos argumentos.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  linelist,                    <span class="co"># usa los casos de linelist</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age_cat5"</span>,                  <span class="co"># columna de los grupos de edad</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,                    <span class="co"># dividido por género</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">proportional =</span> <span class="cn">TRUE</span>,         <span class="co"># porcentajes en vez de números absolutos</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">"orange"</span>, <span class="st">"purple"</span>)  <span class="co"># colores</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="basics.es_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="basics.es_files/figure-html/unnamed-chunk-8-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="escribir-funciones" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="escribir-funciones">Escribir funciones</h3>
<p>R es un lenguaje orientado a las funciones, por lo que deberías sentirte capacitado para escribir tus propias funciones. La creación de funciones aporta varias ventajas:</p>
<ul>
<li>Facilita la programación modular, es decir, la separación del código en partes independientes y manejables.</li>
<li>Sustituye el repetitivo copiar y pegar, que puede dar lugar a errores</li>
<li>Se puede dar a las piezas de código nombres fáciles de recordar</li>
</ul>
<p>En la página <a href="writing_functions.es.html">Escribir funciones</a> se trata en profundidad cómo escribir funciones.</p>
<!-- A function is given a name and defined with the assignment operator `<-` to a special **base** R function called `function()`. Within the parentheses, the arguments that the function will accept are defined. This is followed by curly brackets `{ }`, within which the actual code of the function is written.     -->
<!-- The arguments should be provided in the syntax `argument = default`, separated by commas.   -->
<!-- Here is an example where we create a function `staff_calc()` to serve as a staffing calculator for COVID-19 case investigation and contact tracing calls.   -->
<!-- The arguments (inputs) and their default values will be:   -->
<!-- * `daily_cases = NULL` The number of new COVID-19 cases per day   -->
<!-- * `contacts_each = 5` The number contacts enumerated for each case   -->
<!-- * `time_case = 0.5`  Number of hours to complete a case investigaton by phone   -->
<!-- * `time_contact = 0.25`  Number of hours to complete a contact follow-up by phone   -->
<!-- * `time_day = 8` The number of hours one staff works per day   -->
<!-- Below, the function is created. The code ends with the special function `return()`, which is what the function produces.    -->
<!-- ```{r message=FALSE, warning=FALSE, out.width = "75%", out.height="75%"} -->
<!-- staff_calc <- function(daily_cases = NULL, contacts_each = 5, -->
<!--                        time_case = 0.5, time_contact = 0.25, time_day = 8){ -->
<!--   # Define total daily hours for calling cases -->
<!--   case_hours <- daily_cases * time_case  -->
<!--   # Define total daily hours for calling contacts -->
<!--   contact_hours <- daily_cases * contacts_each * time_contact -->
<!--   # Calculate number of staff required -->
<!--   staff_required <- (case_hours + contact_hours)/time_day -->
<!--   return(staff_required) -->
<!-- } -->
<!-- ``` -->
<!-- Once this code is run, the function will be defined and will appear in the R Environment. We can run the function. Below all the default values are used and the `daily_cases = ` is set to 150.   -->
<!-- There are many other nuances to understand when writing functions, as discussed in the page [Writing functions].   -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="packages" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="packages"><span class="header-section-number">3.7</span> Paquetes</h2>
<p><strong>Los paquetes contienen funciones.</strong></p>
<p>Un paquete de R es un conjunto de código y documentación que se puede compartir y que contiene funciones predefinidas. Los usuarios de la comunidad R desarrollan paquetes todo el tiempo atendiendo a problemas específicos, ¡es probable que alguno pueda ayudarte en tu trabajo! En tu uso de R instalarás y utilizarás cientos de paquetes.</p>
<p>En la instalación, R contiene paquetes <strong>“base”</strong> y funciones que realizan tareas elementales comunes. Pero muchos usuarios de R crean funciones especializadas, que son verificadas por la comunidad de R y que puedes descargar como <strong>paquete</strong> para tu propio uso. En este manual, los nombres de los paquetes se escriben en <strong>negrita</strong>. Uno de los aspectos más desafiantes de R es que a menudo hay muchas funciones o paquetes donde elegir para una tarea determinada.</p>
<section id="instalar-y-cargar" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instalar-y-cargar">Instalar y cargar</h3>
<p><em>Las funciones</em> están contenidas en <strong>paquetes</strong> que pueden descargarse (“instalarse”) en tu ordenador desde Internet. Una vez descargado un paquete, se almacena en tu “librería”. Puedes acceder a las funciones que contiene durante una sesión de R “cargando” el paquete.</p>
<p><em>Piensa en R como tu librería personal</em>: Cuando se descarga un paquete, tu librería adquiere un nuevo libro de funciones, pero cada vez que quieras utilizar una función de ese libro, debes tomar prestado (“cargar”) ese libro de tu librería.</p>
<p>En resumen: para utilizar las funciones disponibles en un paquete de R, hay que realizar dos pasos:</p>
<ol type="1">
<li>El paquete debe ser <strong>instalado</strong> (una vez), <em>y</em></li>
<li>El paquete debe ser <strong>cargado</strong> (cada sesión de R)</li>
</ol>
<section id="tu-librería" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="tu-librería">Tu librería</h4>
<p>Tu “librería” es en realidad una carpeta en tu ordenador, que contiene una carpeta para cada paquete que se ha instalado. Averigua dónde está instalado R en tu ordenador y, si es windows, busca una carpeta llamada “win-library”. Por ejemplo: R-library\4.0 (4.0 es la versión de R - tendrás una librería diferente para cada versión de R que haya descargado).</p>
<p>Puedes imprimir la ruta del archivo de tu librería introduciendo .libPaths() (paréntesis vacíos). Esto resulta especialmente importante si se trabaja con <a href="network_drives.es.html">R en unidades de red</a>.</p>
</section>
<section id="instalar-desde-cran" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="instalar-desde-cran">Instalar desde CRAN</h4>
<p>Lo habitual es que los usuarios de R descarguen paquetes de CRAN. CRAN (Comprehensive R Archive Network) es un almacén público online de paquetes de R que han sido publicados por los miembros de la comunidad R.</p>
<p>¿Te preocupan los virus y la seguridad al descargar un paquete de CRAN?. Lee <a href="https://support.rstudio.com/hc/en-us/articles/360042593974-R-and-R-Package-Security">este artículo</a> sobre el tema.</p>
</section>
<section id="cómo-instalar-y-cargar" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="cómo-instalar-y-cargar">Cómo instalar y cargar</h4>
<p>En este manual, sugerimos utilizar el paquete <strong>pacman</strong> (abreviatura de “packages manager”). Ofrece una interesante función <code>p_load()</code> que instalará un paquete si es necesario <em>y</em> lo cargará para su uso en la sesión actual de R.</p>
<p>La sintaxis es bastante sencilla. Sólo hay que listar los nombres de los paquetes dentro de los paréntesis de <code>p_load()</code>, separados por comas. Este comando instalará los paquetes <strong>rio</strong>, <strong>tidyverse</strong> y <strong>here</strong> si aún no están instalados, y los cargará para su uso. Esto hace que el enfoque de <code>p_load()</code> sea conveniente y conciso si se comparten scripts con otros. Ten en cuenta que los nombres de los paquetes distinguen entre mayúsculas y minúsculas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instala (si es necesario) y carga los paquetes a utilizar</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(rio, tidyverse, here)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Fíjate que hemos utilizado la sintaxis <code>pacman::p_load()</code> que escribe explícitamente el nombre del paquete (<strong>pacman</strong>) antes del nombre de la función (<code>p_load()</code>), conectado por dos dos puntos <code>::</code>. Esta sintaxis es útil porque también carga el paquete <strong>pacman</strong> (suponiendo que ya esté instalado).</p>
<p>Hay funciones de R <strong>base</strong> alternativas que verás a menudo. La función de R <strong>base</strong> para instalar un paquete es <code>install.packages()</code>. El nombre del paquete a instalar debe proporcionarse entre paréntesis <em>entre comillas</em>. Si deseas instalar varios paquetes en un solo comando, deben ser listados dentro de un vector de caracteres <code>c()</code>.</p>
<p>Nota: este comando <em>instala</em> un paquete, pero <em>no</em> lo carga para utilizarlo en la sesión actual.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># instala un solo paquete con R base</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># instala múltiples paquetes con R base</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"rio"</span>, <span class="st">"here"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La instalación también se puede realizar clicando en el panel “Packages” de RStudio, luego en “Install” y buscando el nombre del paquete deseado.</p>
<p>La función alternativa para <strong>cargar</strong> un paquete (después de haberlo instalado) es <code>library()</code>. Sólo puedes cargar un paquete a la vez (otra razón para usar <code>p_load()</code>). Se puede escribir el nombre del paquete con o sin comillas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># carga los paquetes para usarlos, con R base</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para comprobar si un paquete está instalado y/o cargado, puedes mirar en la pestaña de Packages de RStudio. Si el paquete está instalado, se muestra allí con el número de versión. Si su casilla está marcada, está cargado para la sesión actual.</p>
<p><strong>Instalar desde Github</strong></p>
<p>A veces, necesitas instalar un paquete que aún no está disponible en CRAN. O tal vez el paquete está disponible en CRAN pero quieres la <em>versión de desarrollo</em> con nuevas características que aún no se ofrecen en la versión más estable publicada en CRAN. Éstas suelen estar alojadas en el sitio web <a href="https://github.com/">github.com</a> en un “repositorio” de código gratuito y de acceso público. Lee más sobre Github en la página del manual sobre <a href="#version-control-and-collaboration-with-">Control de versiones y colaboración con Git y Github</a>.</p>
<p>Para descargar los paquetes de R desde Github, puedes utilizar la función <code>p_load_gh()</code> de <strong>pacman</strong>, que instalará el paquete si es necesario, y lo cargará para utilizarlo en tu sesión actual de R. Las alternativas de instalación incluyen el uso de los paquetes <strong>remotes</strong> o <strong>devtools</strong>. Puedes leer más sobre todas las funciones de <strong>pacman</strong> en la <a href="https://cran.r-project.org/web/packages/pacman/pacman.pdf">documentación del paquete</a>.</p>
<p>Para instalar desde Github, tienes que proporcionar más información. Debe proporcionar:</p>
<ol type="1">
<li>El ID de Github del propietario del repositorio</li>
<li>El nombre del repositorio que contiene el paquete</li>
<li><em>(opcional) El nombre de la “rama” (versión de desarrollo específica) que quieras descargar</em></li>
</ol>
<p>En los ejemplos siguientes, la primera palabra entre comillas es el ID de Github del propietario del repositorio, después de la barra es el nombre del repositorio (el nombre del paquete).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># instala/carga el paquete epicontacts desde su repositorio de Github</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si quieres instalar desde una “rama” (versión) distinta de la rama principal, añade el nombre de la rama tras una “@”, después del nombre del repositorio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># instala el paquete epicontacts de la rama "timeline" desde Github</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts@timeline"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si no hay diferencia entre la versión de Github y la versión en tu ordenador, no se realizará ninguna acción. Puedes “forzar” una reinstalación usando <code>p_load_current_gh()</code> con el argumento <code>update = TRUE</code>. Puedes leer más sobre <strong>pacman</strong> en esta <a href="http://trinker.github.io/pacman/vignettes/Introduction_to_pacman.html">viñeta online</a></p>
<p><strong>Instalar desde ZIP o TAR</strong></p>
<p>Puedes instalar el paquete desde una URL:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>packageurl <span class="ot">&lt;-</span> <span class="st">"https://cran.r-project.org/src/contrib/Archive/dsr/dsr_0.2.2.tar.gz"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(packageurl, <span class="at">repos=</span><span class="cn">NULL</span>, <span class="at">type=</span><span class="st">"source"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O bien, descargarlo en tu ordenador en un archivo comprimido:</p>
<p>Opción 1: utilizar <code>install_local()</code> del paquete <strong>remotes</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_local</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Opción 2: utilizando <code>install.packages()</code> de R <strong>bases</strong>, proporcionando la ruta del archivo ZIP y estableciendo <code>type = "source"</code> y <code>repos = NULL</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>, <span class="at">repos=</span><span class="cn">NULL</span>, <span class="at">type=</span><span class="st">"source"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sintaxis-del-código" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sintaxis-del-código">Sintaxis del código</h3>
<p>Para mayor claridad en este manual, las funciones van a veces precedidas por el nombre de su paquete utilizando el símbolo <code>::</code> de la siguiente manera: <code>nombre_del_paquete::nombre_de_la_función()</code></p>
<p>Una vez cargado un paquete para una sesión, este estilo explícito no es necesario. Se puede utilizar simplemente <code>nombre_de_la_funcion()</code>. Sin embargo, escribir el nombre del paquete es útil cuando el nombre de una función es común y puede existir en varios paquetes (por ejemplo, <code>plot()</code>). Escribir el nombre del paquete también cargará el paquete si no está todavía cargado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Este comando usa el paquete "rio" y su función "import()" para importar un dataset</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"linelist.xlsx"</span>, <span class="at">which =</span> <span class="st">"Sheet1"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ayuda-sobre-una-función" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="ayuda-sobre-una-función">Ayuda sobre una función</h3>
<p>Para leer más sobre una función, se puede buscar en la pestaña Ayuda de la parte inferior derecha de RStudio. También se puede ejecutar un comando como <code>?nombre_de_la_funcion</code> (escribe el nombre de la función después de un signo de cerrar interrogación) y aparecerá la página de ayuda en la pestaña de ayuda. Por último, intenta buscar otros recursos en Internet.</p>
</section>
<section id="actualizar-paquetes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="actualizar-paquetes">Actualizar paquetes</h3>
<p>Puedes actualizar los paquetes reinstalándolos. También puedes clicar en el botón verde “Update” en la pestaña de paquetes de RStudio para ver qué paquetes tienen nuevas versiones para instalar. Ten en cuenta que tu código antiguo puede necesitar ser actualizado si hay una revisión importante en el funcionamiento de una función.</p>
</section>
<section id="eliminar-paquetes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="eliminar-paquetes">Eliminar paquetes</h3>
<p>Utiliza <code>p_delete()</code> de <strong>pacman</strong>, o <code>remove.packages()</code> de <strong>utils</strong>. Alternativamente, puedes buscar la carpeta que lo contiene en tu librería y borrarla manualmente.</p>
</section>
<section id="dependencias" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dependencias">Dependencias</h3>
<p>Los paquetes a menudo dependen de otros paquetes para funcionar. Estos se llaman dependencias. Si una dependencia no está instalada, entonces el paquete que depende de ella también puede no instalarse.</p>
<p>Se pueden ver las dependencias de un paquete con <code>p_depends()</code>, y ver qué paquetes dependen de él con <code>p_depends_reverse()</code></p>
</section>
<section id="funciones-enmascaradas" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="funciones-enmascaradas">Funciones enmascaradas</h3>
<p>No es raro que dos o más paquetes contengan el mismo nombre de función. Por ejemplo, el paquete <strong>dplyr</strong> tiene una función <code>filter()</code>, pero también la tiene el paquete <strong>stats</strong>. La función <code>filter()</code> por defecto depende del orden en que estos paquetes se cargan por primera vez en la sesión de R - el último será el predeterminado para el comando <code>filter()</code>.</p>
<p>Puedes comprobar el orden en la Pestaña de Entorno de R Studio - clica en el desplegable de “Global Evironment” (Entorno Global) y mira el orden de los paquetes. Las funciones de los paquetes <em>más bajos</em> en esa lista desplegable enmascararán las funciones del mismo nombre en los paquetes que aparecen más arriba en la lista desplegable. Cuando se carga por primera vez un paquete, R advertirá en la consola si se está produciendo el enmascaramiento, pero esto puede ser fácil de pasar por alto.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/masking_functions.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="../images/masking_functions.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Aquí hay formas de arreglar el enmascaramiento:</p>
<ol type="1">
<li>Especifica el nombre del paquete en el comando. Por ejemplo, utiliza <code>dplyr::filter()</code></li>
<li>Reordena el orden de carga de los paquetes (por ejemplo, dentro de <code>p_load()</code>), e <strong>iniciar una nueva sesión de R</strong></li>
</ol>
</section>
<section id="descargar" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="descargar">Descargar</h3>
<p>Para descargar (detach / unload) un paquete, utiliza este comando, con el nombre correcto del paquete y sólo dos puntos. Ten en cuenta que esto puede no resolver el enmascaramiento.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(package<span class="sc">:</span>PACKAGE_NAME_HERE, <span class="at">unload=</span><span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="instalar-una-versión-anterior" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instalar-una-versión-anterior">Instalar una versión anterior</h3>
<p>Consulta esta <a href="https://support.rstudio.com/hc/en-us/articles/219949047-Installing-older-versions-of-packages">guía</a> para instalar una versión anterior de un paquete concreto.</p>
</section>
<section id="paquetes-recomendados" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="paquetes-recomendados">Paquetes recomendados</h3>
<p>Consulta la página de <a href="packages_suggested.es.html">Paquetes recomendados</a> para obtener una lista de paquetes que recomendamos para la epidemiología del día a día.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="scripts" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="scripts"><span class="header-section-number">3.8</span> Scripts</h2>
<p>Los scripts son una parte fundamental de la programación. Son documentos que contienen comandos (por ejemplo, funciones para crear y modificar datos, imprimir visualizaciones, etc.). Puedes guardar un script y volver a ejecutarlo más tarde. Almacenar y ejecutar tus comandos desde un script tiene muchas ventajas (frente a teclear los comandos uno a uno en la “línea de comandos” de la consola de R):</p>
<ul>
<li>Portabilidad: puedes compartir tu trabajo con otros enviándoles tus scripts</li>
<li>Reproducibilidad: para que tú y los demás sepan exactamente lo que se ha hecho</li>
<li>Control de versiones: para que puedas hacer un seguimiento de los cambios realizados por ti mismo o por tus colegas</li>
<li>Comentarios/anotaciones: para explicar a tus compañeros lo que has hecho</li>
</ul>
<section id="comentarios" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="comentarios">Comentarios</h3>
<p>En un script también puedes anotar (“comentar”) alrededor de su código R. Los comentarios son útiles para explicarte a tí mismo y a otros lectores lo que está haciendo. Puedes añadir un comentario escribiendo el símbolo de almohadilla (#) y el comentario después de él. El texto comentado aparecerá en un color diferente al del código R.</p>
<p>Cualquier código escrito después de la # no se ejecutará. Por lo tanto, colocar un # antes del código es también una forma útil de bloquear temporalmente una línea de código (“comentar”) si no quieres borrarla). Puedes comentar varias líneas a la vez resaltándolas y clicando Ctrl+Mayús+c (Cmd+Mayús+c en Mac).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un comentario puede ser una línea en sí mismo</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># importar datos</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>) <span class="sc">%&gt;%</span>   <span class="co"># un comentario también puede venir después del  código</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(age &gt; 50)                          # También se puede utilizar para desactivar / quitar una línea de código</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Comenta <em>lo que</em> haces <em>y <strong>por qué</strong> lo haces</em>.</li>
<li>Divide tu código en secciones lógicas</li>
<li>Acompaña tu código con un texto describiendo paso a paso lo que está haciendo (por ejemplo, pasos numerados)</li>
</ul>
</section>
<section id="estilo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="estilo">Estilo</h3>
<p>Es importante ser consciente de tu estilo de codificación, especialmente si trabajas en equipo. Nosotros abogamos por la <a href="https://style.tidyverse.org/">guía de estilo</a> <strong>tidyverse</strong> . También hay paquetes como <strong>styler</strong> y <strong>lintr</strong> que te ayudan a ajustarte a este estilo.</p>
<p>Algunos puntos muy básicos para que tu código sea legible para los demás:<br>
* Al nombrar los objetos, utiliza sólo letras minúsculas, números y guiones bajos <code>_</code>, por ejemplo, <code>mis_datos</code>.<br>
* Utiliza espacios frecuentemene, incluso alrededor de los operadores, por ejemplo, <code>n = 1</code> y <code>edad_nueva &lt;- edad_vieja + 3</code>.<br>
### Ejemplo de Script {.unnumbered}</p>
<p>A continuación se muestra un ejemplo de un breve script de R. ¡Recuerda!, cuanto mejor expliques brevemente el código con los comentarios, ¡más gustará a tus colegas!</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/example_script.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="../images/example_script.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="r-markdown" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-markdown">R markdown</h3>
<p>Un script de R markdown es un tipo de script de R en el que el propio script <em>se convierte en</em> un documento de salida (PDF, Word, HTML, Powerpoint, etc.). Se trata de herramientas increíblemente útiles y versátiles que suelen utilizarse para crear informes dinámicos y automatizados. ¡Hasta este sitio web y este manual se han hecho con scripts de R markdown!</p>
<p>Vale la pena señalar que los usuarios principiantes de R también pueden utilizar R Markdown - ¡no te dejes intimidar! Para saber más, consulta el capítulo del manual sobre <a href="rmarkdown.es.html">Informes con R Markdown</a>.</p>
<!-- ======================================================= -->
</section>
<section id="r-notebooks" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="r-notebooks">R notebooks</h3>
<p>No hay ninguna diferencia entre escribir en Rmarkdown o R notebook. Sin embargo, la ejecución del documento difiere ligeramente. Consulta este <a href="http://uc-r.github.io/r_notebook">sitio</a> para obtener más detalles.</p>
<!-- ======================================================= -->
</section>
<section id="shiny" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="shiny">Shiny</h3>
<p>Las aplicaciones/sitios web de Shiny están contenidas en un script, que debe llamarse <code>app.R</code>. Este archivo tiene tres componentes:</p>
<ol type="1">
<li>Una interfaz de usuario (ui)</li>
<li>Una función de servidor</li>
<li>Una llamada a la función <code>shinyApp</code></li>
</ol>
<p>Consulta la página del manual sobre <a href="shiny_basics.es.html">Dashboards con Shiny</a>, o este <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/">Tutorial de Shiny</a></p>
<p><em>Hace tiempo, el archivo anterior se dividía en dos archivos (<code>ui.R</code> y <code>server.R</code>)</em></p>
</section>
<section id="plegar-código" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="plegar-código">Plegar código</h3>
<p>Puedes contraer porciones de código para facilitar la lectura del script.</p>
<p>Para ello, crea una cabecera de texto con #, escribe tu cabecera y sigue con al menos 4 guiones (-), almohadillas (#) o iguales (=). Cuando hayas hecho esto, aparecerá una pequeña flecha en el “margen” de la izquierda (junto al número de fila). Puedes clicar en esta flecha y en el código de abajo hasta que la siguiente cabecera se pliegue y aparezca un icono de flecha doble en su lugar.</p>
<p>Para expandir el código, clica de nuevo en la flecha del margen o en el icono de la flecha doble. También hay atajos de teclado como se explica en la <a href="#rstudio">sección de RStudio</a> de esta página.</p>
<p>Al crear cabeceras con #, también activarás el índice de contenidos en la parte inferior del script (véase más abajo) que puedes utilizar para navegar por el script. Se pueden crear subcabeceras añadiendo más símbolos #, por ejemplo # para las primarias, ## para las secundarias y ### para las terciarias.</p>
<p>A continuación se muestran dos versiones de un script de ejemplo. A la izquierda está el original con cabeceras comentadas. A la derecha, se han escrito cuatro guiones después de cada cabecera, haciéndolas plegables. Dos de ellas están plegadas, y se puede ver que la Tabla de Contenidos en la parte inferior muestra cada sección.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/code_folding1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="../images/code_folding1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="../images/code_folding2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="../images/code_folding2.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Otras áreas de código que son automáticamente elegibles para plegarlas son las zonas entre corchetes <code>{ }</code> como las definiciones de funciones o los bloques condicionales (sentencias if else). Puedes leer más sobre el plegado de código en el <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections">sitio de</a> RStudio.</p>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="working_directory" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="working_directory"><span class="header-section-number">3.9</span> Directorio de trabajo</h2>
<p>El directorio de trabajo (o Working Directory “WD”) es la ubicación de la carpeta raíz utilizada por R para su trabajo - donde R busca y guarda los archivos por defecto. Por defecto, guardará los nuevos archivos y resultados en esta ubicación, y buscará los archivos de datos para importar aquí también.</p>
<p>El directorio de trabajo aparece en texto gris en la parte superior de la consola de RStudio. También puedes imprimir el directorio de trabajo actual ejecutando <code>getwd()</code> (deja los paréntesis vacíos).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/working_directory_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="../images/working_directory_1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="enfoque-recomendado" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="enfoque-recomendado">Enfoque recomendado</h3>
<p><strong>Consulta la página sobre <a href="r_projects.es.html">proyectos de R</a> para obtener detalles sobre nuestro enfoque recomendado para gestionar tu directorio de trabajo.</strong> Una forma común, eficiente y sin problemas de gestionar tu directorio de trabajo y las rutas de los archivos es combinar estos 3 elementos en un flujo de trabajo <a href="r_projects.es.html">orientado a los proyectos de R</a>:</p>
<ol type="1">
<li>Un proyecto R para almacenar todos tus archivos (ver página sobre <a href="r_projects.es.html">proyectos R</a>)</li>
<li>El paquete <strong>here</strong> para localizar los archivos (véase la página sobre <a href="importing.es.html">importación y exportación</a>)</li>
<li>El paquete <strong>rio</strong> para importar/exportar archivos (véase la página sobre <a href="importing.es.html">importación y exportación</a>)</li>
</ol>
<!-- ======================================================= -->
</section>
<section id="mediante-comandos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="mediante-comandos">Mediante comandos</h3>
<p>Hasta hace poco, a muchas personas que aprendían R se les enseñaba a comenzar sus scripts con un comando <code>setwd()</code>. En vez de esto, piensa mejor en un flujo de trabajo <a href="r_projects.es.html">orientado al proyecto R</a> y lee las <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">razones para no usar setwd()</a>. En resumen, tu trabajo se convierte en algo específico de tu ordenador, las rutas de archivo utilizadas para importar y exportar archivos se vuelven “frágiles”, y esto dificulta gravemente la colaboración y el uso de tu código en cualquier otro ordenador. Hay alternativas fáciles!</p>
<p>Como se ha indicado anteriormente, aunque no recomendamos este enfoque en la mayoría de las circunstancias, puedes utilizar el comando <code>setwd()</code> con la ruta del archivo de la carpeta deseada entre comillas, por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Documents/R Files/My analysis"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color: red;"><strong><em>PELIGRO:</em></strong> Establecer un directorio de trabajo con <code>setwd()</code> <em>puede</em> ser “frágil” si la ruta del archivo es específica de un ordenador. En su lugar, utiliza rutas de archivos relativas a un directorio raíz del proyecto R (con el paquete <strong>here</strong>). </span></p>
<!-- ======================================================= -->
</section>
<section id="manualmente" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="manualmente">Manualmente</h3>
<p>Para establecer el directorio de trabajo manualmente (el equivalente de apuntar y clicar en setwd()), clica en el menú desplegable Session y luego “Set Working Directory” (Establecer el directorio de trabajo) y entonces “Choose Directory” (Elegir el directorio). Esto establecerá el directorio de trabajo para esa sesión específica de R. Nota: si utilizas este enfoque, tendrás que hacerlo manualmente cada vez que abras RStudio.</p>
<!-- ======================================================= -->
</section>
<section id="con-un-proyecto" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="con-un-proyecto">Con un proyecto</h3>
<p>Si se utiliza un proyecto R, el directorio de trabajo será por defecto la carpeta raíz del proyecto R que contiene el archivo “.rproj”. Esto se aplicará si clicas en abrir el proyecto en RStudio (el archivo con extensión “.rproj”).</p>
<!-- ======================================================= -->
</section>
<section id="directorio-en-rmarkdown" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="directorio-en-rmarkdown">Directorio en Rmarkdown</h3>
<p>En un script de R markdown, el directorio de trabajo por defecto es la carpeta en la que se guarda el archivo Rmarkdown (<code>.Rmd</code>). Si se utiliza un proyecto R y el paquete <strong>here</strong>, esto no se aplica y el directorio de trabajo será <code>here()</code> como se explica en la página de <a href="r_projects.es.html">proyectos R</a>.</p>
<p>Si quieres cambiar el directorio de trabajo de un Rmarkdown independiente (no en un proyecto R), si utilizas setwd() sólo se aplicará a ese trozo de código específico. Para hacer el cambio para todos párrafos, edita el trozo de configuración para añadir el parámetro root.dir =, como se indica a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">'desired/directorypath'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es mucho más fácil usar Rmarkdown dentro de un proyecto R y usar el paquete <strong>here</strong>.</p>
<!-- ======================================================= -->
</section>
<section id="escribir-la-ruta-completa" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="escribir-la-ruta-completa">Escribir la ruta completa</h3>
<p>Quizás la fuente más común de frustración para un principiante de R (al menos en una máquina Windows) es escribir una ruta de archivo para importar o exportar datos. Hay una explicación exhaustiva sobre la mejor manera de introducir las rutas de los archivos en la página de <a href="importing.es.html">importación y exportación</a>, pero aquí hay algunos puntos clave:</p>
<p><strong>Rutas rotas</strong></p>
<p>A continuación se muestra un ejemplo de una ruta de archivo “absoluta” o de “dirección completa”. Es probable que se rompa si se utiliza en otro ordenador. Una excepción es si estás usando una unidad compartida de red.</p>
<pre><code>C:/Nombre de usuario/Documento/Software analítico/R/Proyectos/Análisis2019/datos/Marzo2019.csv</code></pre>
<p><strong>Dirección de la barra</strong></p>
<p><em>Si escribes una ruta de archivo, ten en cuenta la dirección de las barras inclinadas (/).</em> Utiliza barras <em>inclinadas</em> (/) para separar los componentes (“data/provincial.csv”). Para los usuarios de Windows, la forma predeterminada en que se muestran las rutas de los archivos es con barras <em>invertidas</em> (\) - por lo que tendrás que cambiar la dirección de cada barra. Si utilizas el paquete <strong>here</strong>, tal y como se describe en la página de <a href="r_projects.es.html">proyectos de R,</a> la dirección de la barra no es un problema.</p>
<p><strong>Rutas de archivo relativas</strong></p>
<p>Generalmente recomendamos proporcionar rutas de archivo “relativas” - es decir, la ruta <em>relativa a</em> la raíz de tu proyecto R. Puedes hacer esto usando el paquete <strong>here</strong> como se explica en la página de <a href="r_projects.es.html">proyectos R</a>. Una ruta de archivo relativa podría ser así:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importa linelist csv de las subcarpetas data/linelist/clean/ del proyectoo R </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"linelists"</span>, <span class="st">"marin_country.csv"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Incluso si se utilizan rutas de archivo relativas dentro de un proyecto R, se pueden utilizar rutas absolutas para importar/exportar datos fuera del proyecto R.</p>
<!-- ======================================================= -->
</section>
</section>
<section id="objects" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="objects"><span class="header-section-number">3.10</span> Objetos</h2>
<p>Todo en R es un objeto, y R es un lenguaje “orientado a objetos”. Estas secciones lo explicarán:</p>
<ul>
<li>Cómo crear objetos (<code>&lt;-</code>)</li>
<li>Tipos de objetos (por ejemplo, dataframe -conjunto de datos-, vectores…)</li>
<li>Cómo acceder a las subpartes de los objetos (por ejemplo, las variables de unos datos)</li>
<li>Tipos de objetos (por ejemplo, numéricos, lógicos, enteros, dobles, caracteres, factores)</li>
</ul>
<!-- ======================================================= -->
<section id="todo-es-un-objeto" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="todo-es-un-objeto">Todo es un objeto</h3>
<p><em>Esta sección está adaptada del <a href="https://r4epis.netlify.app/training/r_basics/objects/">proyecto R4Epis</a>.</em> Todo lo que se almacena en R -conjuntos de datos (dataframe), variables, una lista de nombres de pueblos, un número total de población, incluso resultados como gráficos- son <strong>objetos</strong> a los que se <strong>asigna un nombre</strong> y a los que <strong>se puede hacer referencia</strong> en comandos posteriores.</p>
<p>Un objeto existe cuando se le ha asignado un valor (véase la sección de asignación más adelante). Cuando se le asigna un valor, el objeto aparece en el Entorno -Environment- (en el panel superior derecho de RStudio). A partir de ese momento se puede operar con él, manipularlo, cambiarlo y redefinirlo.</p>
<!-- ======================================================= -->
</section>
<section id="definición-de-objetos--" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="definición-de-objetos--">Definición de objetos (<code>&lt;-</code>)</h3>
<p><strong>Crea objetos <em>asignándoles un valor</em> con el operador &lt;-.</strong> Puedes pensar que el operador de asignación <code>&lt;-</code> significa: “se define como”. Los comandos de asignación suelen seguir un orden estándar:</p>
<p><strong>nombre_objeto</strong> &lt;- <strong>valor</strong> (o proceso/cálculo que produce un valor)</p>
<p>Por ejemplo, es posible que desees registrar la semana de notificación epidemiológica actual como un objeto para referenciarlo posteriormente en el código. En este ejemplo, el objeto <code>current_week</code> se crea cuando se le asigna el valor <code>"2018-W10"</code> (las comillas hacen que sea un valor de tipo carácter). El objeto <code>current_week</code> aparecerá entonces en el panel de Environment de RStudio (arriba a la derecha) y podrá ser referenciado en comandos posteriores.</p>
<p>Ver los comandos de R y su salida en los cuadros de abajo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>current_week <span class="ot">&lt;-</span> <span class="st">"2018-W10"</span>   <span class="co"># Este comando crea el objeto current_week asignándole un valor</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>current_week                 <span class="co"># Este comando muestra en la consola el valor actual del objeto current_week</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W10"</code></pre>
</div>
</div>
<p><span style="color: black;"><strong><em>NOTA:</em></strong> Observa que el <code>[1]</code> en la consola de resultados simplemente indica que estás viendo el primer elemento de resultados</span></p>
<p><span style="color: orange;"><strong><em>ATENCIÓN:</em></strong> <strong>El valor de un objeto puede sobrescribirse</strong> en cualquier momento ejecutando un comando de asignación para redefinir su valor. Por lo tanto, el <strong>orden de ejecución de los comandos es muy importante</strong>.</span></p>
<p>El siguiente comando redefinirá el valor de <code>current_week</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>current_week <span class="ot">&lt;-</span> <span class="st">"2018-W51"</span>   <span class="co"># asigna un NUEVO valor al objeto current_week</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>current_week                 <span class="co"># muestra en la consola el valor actual del objeto current_week</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W51"</code></pre>
</div>
</div>
<p><strong>Signos de igualdad <code>=</code></strong></p>
<p>También verás signos de igualdad en el código R:</p>
<ul>
<li>Un doble signo de igualdad <code>==</code> entre dos objetos o valores formula una <em>pregunta lógica</em>: “¿es esto igual a aquello?”.</li>
<li>También verás signos de igualdad dentro de las funciones que se utilizan para especificar los valores de los argumentos de la función (lee sobre ellos en las secciones siguientes), por ejemplo <code>max(edad, na.rm = TRUE)</code>.</li>
<li><em>Puedes</em> utilizar un único signo de igualdad <code>=</code> en lugar de <code>&lt;-</code> para crear y definir objetos, pero se desaconseja hacerlo. Puedes leer por qué se desaconseja <a href="https://renkun.me/2014/01/28/difference-between-assignment-operators-in-r/">aquí</a>.</li>
</ul>
<p><strong>Conjuntos de datos (datasets)</strong></p>
<p>Los conjuntos de datos también son objetos (normalmente “dataframes”) y se les debe asignar un nombre cuando se importan. En el código siguiente, se crea el objeto <code>linelist</code> y se le asigna el valor de un archivo CSV importado con la función <code>import()</code> del paquete <strong>rio</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># se crea linelist y se le asigna los valores del archivo CSV importado</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"my_linelist.csv"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Puedes obtener más información sobre la importación y la exportación de datos en la sección sobre <a href="importing.es.html">importación y exportación</a>.</p>
<p><span style="color: orange;"><strong><em>ATENCIÓN:</em></strong> Una nota rápida sobre la denominación de los objetos:</span></p>
<ul>
<li>Los nombres de los objetos no deben contener espacios, debes utilizar el guión bajo (_) o un punto (.) en lugar de un espacio.</li>
<li>Los nombres de los objetos distinguen entre mayúsculas y minúsculas (lo que significa que Dataset_A es diferente de dataset_A).</li>
<li>Los nombres de los objetos deben empezar por una letra (no pueden empezar por un número como 1, 2 o 3).</li>
</ul>
<p><strong>Resultados</strong></p>
<p>Los resutados, como las tablas y los gráficos proporcionan un ejemplo de cómo las salidas pueden guardarse como objetos, o simplemente mostrarse en la consola sin ser guardadas. Una tabla cruzada de género y resultado utilizando la función <code>table()</code> de R <strong>base</strong> puede mostrarse directamente en la consola de R (<em>sin guardarse</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># solamente se muestra en la consola de R</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p>Pero la misma tabla puede guardarse como un objeto con nombre. Y luego, opcionalmente, se puede mostrar o imprimir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># guarda la tabla</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>gen_out_table <span class="ot">&lt;-</span> <span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># la muestra en la consola (print)</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>gen_out_table</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p><strong>Columnas</strong></p>
<p>Las columnas de unos datos también son objetos y pueden definirse, sobrescribirse y crearse como se describe a continuación en la sección sobre Columnas.</p>
<p>Puedes utilizar el operador de asignación de R <strong>base</strong> para crear una nueva columna. A continuación, se crea la nueva columna <code>bmi</code> (Índice de masa corporal), y para cada fila el nuevo valor es el resultado de una operación matemática sobre el valor de la fila en las columnas <code>wt_kg</code> y <code>ht_cm</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># crea la columna "bmi" utilizando sintaxis de R base</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>linelist<span class="sc">$</span>bmi <span class="ot">&lt;-</span> linelist<span class="sc">$</span>wt_kg <span class="sc">/</span> (linelist<span class="sc">$</span>ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sin embargo, en este manual, hacemos hincapié en un enfoque diferente para definir las columnas, que utiliza la función <code>mutate()</code> del paquete <strong>dplyr</strong> y la <em>canalización</em> con el operador pipe (<code>%&gt;%</code>). La sintaxis es más fácil de leer y hay otras ventajas que se explican en la página sobre <a href="cleaning.es.html">Limpieza de datos y funciones básicas</a>. Puedes leer más sobre la <em>canalización</em> en dicha sección más abajo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># crea la columna "bmi" utilizando sintaxis de dplyr</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bmi =</span> wt_kg <span class="sc">/</span> (ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="estructura-de-los-objetos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="estructura-de-los-objetos">Estructura de los objetos</h3>
<p><strong>Los objetos pueden ser un solo dato (por ejemplo, <code>mi_número &lt;- 24</code>), o pueden consistir en datos estructurados.</strong></p>
<p>El gráfico siguiente está tomado de <a href="http://venus.ifca.unican.es/Rintro/dataStruct.html">este tutorial de R en línea</a>. Muestra algunas estructuras de datos comunes y sus nombres. No se incluyen en esta imagen los datos espaciales, de los que se habla en la página de <a href="gis.es.html">fundamentos del SIG</a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/R_data_structures.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="../images/R_data_structures.png" class="quarto-figure quarto-figure-center figure-img" style="width:75.0%;height:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>En epidemiología (y en particular en epidemiología de campo), <em>lo habitual es</em> encontrar dataframes (conjuntos de datos) y vectores:</p>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 45%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Estructura común</th>
<th>Explicación</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vectores</td>
<td>Un contenedor para una secuencia de objetos singulares, todos del mismo tipo (por ejemplo, numérico, carácter).</td>
<td><strong>Las variables (columnas) en los dataframes son vectores</strong> (por ejemplo, la columna de edad en años age_years).</td>
</tr>
<tr class="even">
<td>Dataframes</td>
<td>Vectores (por ejemplo, columnas) unidos que tienen todos el mismo número de filas.</td>
<td><code>linelist</code> es un dataframe.</td>
</tr>
</tbody>
</table>
<p>Ten en cuenta que para crear un vector que “está solo” (no forma parte de un dataframe) se utiliza la función <code>c()</code> para combinar los diferentes elementos. Por ejemplo, si se crea un vector de colores de la escala de colores del gráfico: <code>vector_de_colores &lt;- c("azul", "rojo2", "naranja", "gris")</code></p>
<!-- ======================================================= -->
</section>
<section id="tipos-de-objeto" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tipos-de-objeto">Tipos de objeto</h3>
<p>Todos los objetos almacenados en R tienen un <em>tipo (class)</em> que indica a R cómo manejar el objeto. Hay muchos tipos de datos, pero los más comunes son:</p>
<table class="table">
<thead>
<tr class="header">
<th>Tipo</th>
<th>Explicación</th>
<th>Ejemplos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Character</td>
<td>Son textos/palabras/frases <strong>“entre comillas”</strong>. No se pueden realizar operaciones matemáticas con estos objetos.</td>
<td>“Los objetos de carácter están entre comillas”</td>
</tr>
<tr class="even">
<td>Integer</td>
<td>Números <strong>sólo enteros</strong> (sin decimales)</td>
<td>-5, 14, o 2000</td>
</tr>
<tr class="odd">
<td>Numeric</td>
<td>Son números y <strong>pueden incluir decimales</strong>. Si están entre comillas se considerarán de tipo de caracteres.</td>
<td>23.1 o 14</td>
</tr>
<tr class="even">
<td>Factor</td>
<td>Se trata de vectores que tienen un <strong>orden determinado</strong> o jerarquía de valores</td>
<td>Una variable de situación económica con valores ordenados</td>
</tr>
<tr class="odd">
<td>Date</td>
<td><strong>Una vez que se le dice a R que ciertos datos son Fechas</strong>, estos datos pueden ser manipulados y mostrados de maneras especiales. Para más información, consulta la página sobre el <a href="dates.es.html#working-with-dates-1">trabajo con fechas</a>.</td>
<td>2018-04-12 o 15/3/1954 o miércoles 4 de enero de 1980</td>
</tr>
<tr class="even">
<td>Logical</td>
<td>Los valores deben ser uno de los dos valores especiales TRUE o FALSE (nótese que <strong>no son</strong> “TRUE” y “FALSE” entre comillas)</td>
<td>TRUE o FALSE</td>
</tr>
<tr class="odd">
<td>data.frame</td>
<td>Un dataframe es la forma en que R almacena un ** conjunto de datos típico**. Consiste en vectores (columnas) de datos unidos, que tienen todos el mismo número de observaciones (filas).</td>
<td>El set de datos AJS de ejemplo denominado <code>linelist_raw</code> contiene 68 variables con 300 observaciones (filas) cada una.</td>
</tr>
<tr class="even">
<td>tibble</td>
<td>Los tibbles son una variación de los dataframe, la principal diferencia operativa es que muestran de forma más agradable en la consola (muestran las 10 primeras filas y sólo las columnas que caben en la pantalla)</td>
<td>Cualquier conjunto de datos, lista o matriz puede convertirse en un tibble con <code>as_tibble()</code></td>
</tr>
<tr class="odd">
<td>List</td>
<td>Una lista es como un vector, pero contiene otros objetos que pueden ser de otras tipos diferentes</td>
<td>Una lista puede contener un solo número, un dataframe de datos, un vector e incluso otra lista.</td>
</tr>
</tbody>
</table>
<p><strong>Puedes comprobar el tipo de un objeto escribiendo su nombre en la función <code>class()</code></strong>. Nota: puede hacer referencia a una columna específica dentro de unos datos utilizando la notación <code>$</code> para separar el nombre de los datos y el nombre de la columna.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist) <span class="co"># debe ser de tipo dataframe o tibble</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>age) <span class="co"># debe ser de tipo numérico</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>gender) <span class="co"># debe ser de tipo carácter</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>A veces, una columna puede ser convertida automáticamente por R en un tipo diferente. ¡Cuidado con esto! Por ejemplo, si tiene un vector o columna de números, pero se inserta un valor de carácter… toda la columna cambiará al tipo carácter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>num_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># define vector como todos números</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          <span class="co"># el vector es de tipo numérico</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>num_vector[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">"three"</span>   <span class="co"># convierte el tercer elemento en de tipo carácter</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          <span class="co"># el vector es ahora de tipo carácter class</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Un ejemplo común de esto es cuando se manipula unos datos para imprimir una tabla - si se hace una fila de totales y se intenta pegar porcentajes en la misma celda como números (por ejemplo, <code>23 (40%)</code>), toda la columna numérica de arriba se convertirá en carácter y ya no se podrá utilizar para cálculos matemáticos. <strong>A veces, tendrás que convertir objetos o columnas a otro tipo.</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>Función</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>as.character()</td>
<td>Convierte al tipo de carácter</td>
</tr>
<tr class="even">
<td>as.numeric()</td>
<td>Convierte al tipo numérico</td>
</tr>
<tr class="odd">
<td>as.integer()</td>
<td>Convierte al tipo entero</td>
</tr>
<tr class="even">
<td>as.date()</td>
<td>Convierte al tipo de fecha - Nota: ver la sección de <a href="#dates">fechas</a> para más detalles</td>
</tr>
<tr class="odd">
<td>factor()</td>
<td>Convierte en factor - Nota: la redefinición del orden de los niveles de valor requiere argumentos adicionales</td>
</tr>
</tbody>
</table>
<p>Asimismo, existen funciones de R <strong>base</strong> para comprobar si un objeto ES de un tipo específico, como <code>is.numeric()</code>, <code>is.character()</code>, <code>is.double()</code>, <code>is.factor()</code>, <code>is.integer()</code></p>
<p>Aquí hay <a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/">más material en línea sobre tipos y estructuras de datos en R</a>.</p>
<!-- ======================================================= -->
</section>
<section id="columnasvariables" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="columnasvariables">Columnas/Variables (<code>$</code>)</h3>
<p><strong>Una columna en un dataframe es técnicamente un “vector” (véase la tabla anterior)</strong> - una serie de valores que deben ser todos del mismo tipo (ya sea carácter, numérico, lógico, etc).</p>
<p>Un vector puede existir independientemente de un dataframe, por ejemplo, un vector de nombres de columnas que se desea incluir como variables explicativas en un modelo. Para crear un vector “independiente”, utiliza la función <code>c()</code> como se indica a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define el vector con valores de caracteres</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>explanatory_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gender"</span>, <span class="st">"fever"</span>, <span class="st">"chills"</span>, <span class="st">"cough"</span>, <span class="st">"aches"</span>, <span class="st">"vomit"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># muestra los valores de este vector</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>explanatory_vars</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "gender" "fever"  "chills" "cough"  "aches"  "vomit" </code></pre>
</div>
</div>
<p><strong>Las columnas de un dataframe también son vectores y pueden ser llamadas, referenciadas, extraídas o creadas utilizando el símbolo <code>$</code>.</strong> El símbolo <code>$</code> conecta el nombre de la columna con el nombre del dataframe. En este manual, tratamos de utilizar la palabra “columna” en lugar de “variable”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Recuperar la longitud del vector age_years</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(linelist<span class="sc">$</span>age) <span class="co"># (age es una columna del dataframe linelist)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Al escribir el nombre del dataframe seguido de <code>$</code> también verá un menú desplegable de todas las columnas del dataframe. Puedes desplazarte por ellas con la tecla de flecha, seleccionar una con la tecla Intro y evitar errores ortográficos.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/Calling_Names.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="../images/Calling_Names.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><span style="color: darkgreen;"><strong><em>CONSEJO AVANZADO:</em></strong> Algunos objetos más complejos (por ejemplo, una lista, o un objeto <code>epicontacts</code>) pueden tener múltiples niveles a los que se puede acceder a través de múltiples signos de dólar. Por ejemplo <code>epicontacts$linelist$date_onset</code></span></p>
<!-- ======================================================= -->
</section>
<section id="accesoíndice-con-corchetes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="accesoíndice-con-corchetes">Acceso/índice con corchetes (<code>[ ]</code>)</h3>
<p>Es posible que tengas que mirar sólo partes de los objetos, lo que también se llama “indexación”, que a menudo se hace utilizando los corchetes <code>[ ]</code>. El uso de <code>$</code> en un dataframe para acceder a una columna también es un tipo de indexación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>my_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>)  <span class="co"># definir el vector</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>my_vector[<span class="dv">5</span>]                                  <span class="co"># mostrar el 5º elemento</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "e"</code></pre>
</div>
</div>
<p>Los corchetes también sirven para devolver partes específicas de un resultado, como la salida de una función <code>summary()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># resumen completo </span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sólo el segundo elemento del resumen, nombre (usando solo conchetes simples)</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[<span class="dv">2</span>]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1st Qu. 
      6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sólo el segundo elemento, sin nombre (usando dobles corchetes)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="dv">2</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrae un elemento por nombre, sin mostrar el nombre</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="st">"Median"</span>]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<p>Los corchetes también funcionan en los dataframes para ver filas y columnas específicas. Puedes hacerlo utilizando la sintaxis <code>dataframe[filas, columnas]</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver una fila específica (2) del dataset, con todas las columnas (¡no olvides la coma!)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>,]</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver todas las filas, pero solo una columna</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>linelist[, <span class="st">"date_onset"</span>]</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver los valores de la fila 2 y las columnas 5 hasta la 10</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>] </span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver los valores desde la fila 2 y las columnas 5 hasta la 10 y 18</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">18</span>)] </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver las filas 2 a la 20 y sólo unas columnas especificadas</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver filas y columnas basado en ciertos criterios</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co"># *** ¡Observa que el nombre del dataframe también debe estar entre los criterios!</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>linelist[linelist<span class="sc">$</span>age <span class="sc">&gt;</span> <span class="dv">25</span> , <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Usa View() para ver el resultado en el Visor de Rstudio (más fácil de leer) </span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="co"># *** Fíjate que la "V" de la función View() está en mayúsculas</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="st">"date_onset"</span>])</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Guarda como objeto nuevo</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>new_table <span class="ot">&lt;-</span> linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>)] </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ten en cuenta que también puedes lograr la indexación de filas/columnas anterior en dataframes y tibbles utilizando sintaxis de <strong>dplyr</strong> (funciones <code>filter()</code> para filas, y <code>select()</code> para columnas). Puedes leer más sobre estas funciones básicas en la página de <a href="cleaning.es.html">Limpieza de datos y funciones básicas</a>.</p>
<p>Para filtrar en base al “número de fila”, puedes utilizar la función <code>row_number()</code> de <strong>dplyr</strong> (con paréntesis vacíos) como parte de una sentencia lógica de filtrado. A menudo se utiliza el operador <code>%in%</code> y un rango de números como parte de esa sentencia lógica, como se muestra a continuación. Para ver las <em>primeras</em> N filas, también puede utilizar la función especial <code>head()</code> de <strong>dplyr</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver las primeras 100 filas</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">100</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar sólo la fila 5</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver las filas 2 hasta la 20, y tres columnas específicas (No sonnecesarias las comillas pasa los nombres de columna)</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(date_onset, outcome, age)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Cuando se indexa un objeto del tipo <strong>list</strong>, los corchetes simples siempre devuelven con el tipo list, incluso si sólo se devuelve un único objeto. Los corchetes dobles, sin embargo, pueden utilizarse para acceder a un solo elemento y devolver un tipo diferente al de la lista. Los corchetes también pueden escribirse uno tras otro, como se demuestra a continuación.</p>
<p>Esta <a href="https://r4ds.had.co.nz/vectors.html#lists-of-condiments">explicación visual de la indexación de listas, con pimenteros</a>, es divertida y útil.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define demo list</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># El primer elemento en la lista es un vector de carácter</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">hospitals =</span> <span class="fu">c</span>(<span class="st">"Central"</span>, <span class="st">"Empire"</span>, <span class="st">"Santa Anna"</span>),</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># El segundo elemento en la lista es un data frame de direcciones</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">addresses   =</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">street =</span> <span class="fu">c</span>(<span class="st">"145 Medical Way"</span>, <span class="st">"1048 Brown Ave"</span>, <span class="st">"999 El Camino"</span>),</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">city   =</span> <span class="fu">c</span>(<span class="st">"Andover"</span>, <span class="st">"Hamilton"</span>, <span class="st">"El Paso"</span>)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Este es el aspecto de la lista cuando se muestra en la consola. Mira cómo hay dos elementos con nombre:</p>
<ul>
<li><code>hospital</code>, un vector de caracteres</li>
<li><code>addresses</code>, un data frame de direcciones</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>my_list</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hospitals
[1] "Central"    "Empire"     "Santa Anna"

$addresses
           street     city
1 145 Medical Way  Andover
2  1048 Brown Ave Hamilton
3   999 El Camino  El Paso</code></pre>
</div>
</div>
<p>Ahora extraeremos información, utilizando varios métodos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">1</span>] <span class="co"># este devuelve el elemento de tipo "list" - también se muestra el nombre del elemento</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hospitals
[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]] <span class="co"># este devuelve sólo el vector de carácter (sin nombrarlo) </span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="st">"hospitals"</span>]] <span class="co"># también puedes indexar por nombre del elemento list</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]][<span class="dv">3</span>] <span class="co"># este devuelve el tercer elemento del vector de carácter "hospitals"</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]][<span class="dv">1</span>] <span class="co"># este devuelve la primera columna ("street") del data frame address</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           street
1 145 Medical Way
2  1048 Brown Ave
3   999 El Camino</code></pre>
</div>
</div>
<!-- ======================================================= -->
</section>
<section id="eliminar-objetos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="eliminar-objetos">Eliminar objetos</h3>
<p>Puedes eliminar objetos individuales de tu entorno R poniendo el nombre en la función <code>rm()</code> (sin comillas):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(object_name)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Puedes eliminar todos los objetos (limpiar tu espacio de trabajo) ejecutando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>(<span class="at">all =</span> <span class="cn">TRUE</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="piping" class="level2" data-number="3.11">
<h2 data-number="3.11" class="anchored" data-anchor-id="piping"><span class="header-section-number">3.11</span> Piping (<code>%&gt;%</code>)</h2>
<p><strong>Dos aproximaciones para trabajar con objetos:</strong></p>
<ol type="1">
<li><strong>Pipes/tidyverse</strong> - pipes envía un objeto de una función a otra función - énfasis en la <em>acción</em>, no en el objeto<br>
</li>
<li><strong>Definir objetos intermedios</strong> - se re-define un objeto una y otra vez - el énfasis está en el objeto</li>
</ol>
<!-- ======================================================= -->
<section id="pipes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="pipes"><strong>Pipes (%&gt;%)</strong></h3>
<p><strong>Hay dos enfoques generales para trabajar con objetos:</strong></p>
<ol type="1">
<li><p><strong>Pipes/tidyverse</strong> - los pipes envían un objeto de función a función - el énfasis está en la <em>acción</em>, no en el objeto</p></li>
<li><p><strong>Definir objetos intermedios</strong> - un objeto se redefine una y otra vez - el énfasis está en el objeto</p></li>
</ol>
<p><strong>Pipes</strong></p>
<p><strong>Explicado de forma sencilla, el operador pipe (<code>%&gt;%</code>) pasa un resultado intermedio de una función a la siguiente.</strong>&nbsp;Puedes pensar en él como si dijera “entonces”. Muchas funciones pueden enlazarse con <code>%&gt;%</code>.</p>
<ul>
<li><strong>Los pipes hacen hincapié en una secuencia de acciones, no en el objeto sobre el que se realizan las acciones</strong></li>
<li>Los pipes son mejores cuando hay que realizar una secuencia de acciones en un objeto</li>
<li>Los pipes provienen del paquete <strong>magrittr</strong>, que se incluye automáticamente en los paquetes <strong>dplyr</strong> y <strong>tidyverse</strong></li>
<li>Los pipes pueden hacer que el código sea más limpio y fácil de leer, más intuitivo</li>
</ul>
<p>Más información sobre este enfoque en la <a href="https://style.tidyverse.org/pipes.html">guía de estilo de tidyverse</a></p>
<p>He aquí un ejemplo para comparar, utilizando funciones ficticias para “hornear un pastel”. Primero, el método pipe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un ejemplo falso de cómo hornear un pastel utilizando sintaxis con pipes</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> flour <span class="sc">%&gt;%</span>       <span class="co"># para definir pastel, empezar con harina, y luego...</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(eggs) <span class="sc">%&gt;%</span>   <span class="co"># añadir huevos</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(oil) <span class="sc">%&gt;%</span>    <span class="co"># añadir aceite</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add</span>(water) <span class="sc">%&gt;%</span>  <span class="co"># añadir agua</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mix_together</span>(         <span class="co"># mezclarlos juntos</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">utensil =</span> spoon,</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span>    </span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bake</span>(<span class="at">degrees =</span> <span class="dv">350</span>,   <span class="co"># hornear</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">system =</span> <span class="st">"fahrenheit"</span>,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">minutes =</span> <span class="dv">35</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">let_cool</span>()            <span class="co"># dejar que se enfríe</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aquí hay otro <a href="https://cfss.uchicago.edu/notes/pipes/#:~:text=Pipes%20are%20an%20extremely%20useful,code%20and%20combine%20multiple%20operations">enlace</a> que describe la utilidad de Los pipes.</p>
<p>El uso de pipes no es una función <strong>base</strong>. Para usarlos, debe estar instalado y cargado el paquete <strong>magrittr</strong> (esto se hace normalmente cargando el paquete <strong>tidyverse</strong> o <strong>dplyr</strong> que lo incluyen). Puedes <a href="https://magrittr.tidyverse.org/">leer más sobre pipes en la documentación de magrittr</a>.</p>
<p>Ten en cuenta que, al igual que otros comandos de R, Los pipes se pueden utilizar para mostrar sólo el resultado, o para guardar/re-guardar un objeto, dependiendo de si el operador de asignación <code>&lt;-</code> está involucrado. Mira ambas cosas a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear o sobreescribir objetos, definiéndolo como como recuentos agregados por categoría de edad (sin mostrarlo)</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>linelist_summary <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra la tabla de recuentos en la consola, pero no la guarda</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  age_cat    n
1     0-4 1095
2     5-9 1095
3   10-14  941
4   15-19  743
5   20-29 1073
6   30-49  754
7   50-69   95
8     70+    6
9    &lt;NA&gt;   86</code></pre>
</div>
</div>
<p><strong><code>%&lt;&gt;%</code></strong><br>
Se trata de un “pipe de asignación” del paquete <strong>magrittr</strong>, que <em>lleva un objeto hacia adelante y también redefine el objeto</em>. Debe ser el primer operador pipe en la cadena. Es una forma abreviada. Los dos comandos siguientes son equivalentes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&lt;&gt;%</span> <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
<section id="definir-objetos-intermedios" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="definir-objetos-intermedios">Definir objetos intermedios</h3>
<p>Este enfoque para cambiar objetos/dataframes puede ser mejor si:</p>
<ul>
<li>Necesitas manipular múltiples objetos</li>
<li>Hay pasos intermedios que son significativos y merecen nombres de objetos separados</li>
</ul>
<p><strong>Riesgos:</strong></p>
<ul>
<li>Crear nuevos objetos para cada paso significa crear muchos objetos. Si usas el equivocado, ¡puedes no darte cuenta!</li>
<li>Nombrar todos los objetos puede ser confuso</li>
<li>Los errores pueden no ser fácilmente detectables</li>
</ul>
<p>O bien nombrar cada objeto intermedio, o sobrescribir el original, o combinar todas las funciones juntas. Todo ello conlleva sus propios riesgos.</p>
<p>A continuación se muestra el mismo ejemplo de “pastel” falso que el anterior, pero utilizando este estilo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un ejemplo falso de cómo hornear un pastel definiendo objetos intermedios</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>batter_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flour, eggs)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>batter_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(batter_1, oil)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>batter_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(batter_2, water)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>batter_4 <span class="ot">&lt;-</span> <span class="fu">mix_together</span>(<span class="at">object =</span> batter_3, <span class="at">utensil =</span> spoon, <span class="at">minutes =</span> <span class="dv">2</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">bake</span>(batter_4, <span class="at">degrees =</span> <span class="dv">350</span>, <span class="at">system =</span> <span class="st">"fahrenheit"</span>, <span class="at">minutes =</span> <span class="dv">35</span>)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">let_cool</span>(cake)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Combinar todas las funciones juntas - esto es difícil de leer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># un ejemplo de combinación/anidación de múltiples funciones - difícil de leer</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>cake <span class="ot">&lt;-</span> <span class="fu">let_cool</span>(<span class="fu">bake</span>(<span class="fu">mix_together</span>(batter_3, <span class="at">utensil =</span> spoon, <span class="at">minutes =</span> <span class="dv">2</span>), <span class="at">degrees =</span> <span class="dv">350</span>, <span class="at">system =</span> <span class="st">"fahrenheit"</span>, <span class="at">minutes =</span> <span class="dv">35</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section>
</section>
<section id="operators" class="level2" data-number="3.12">
<h2 data-number="3.12" class="anchored" data-anchor-id="operators"><span class="header-section-number">3.12</span> Operadores y funciones clave</h2>
<p>Esta sección detalla los operadores en R, como por ejemplo</p>
<ul>
<li>Operadores de definición</li>
<li>Operadores relacionales (menor que, igual a ..)</li>
<li>Operadores lógicos (and, or…)</li>
<li>Tratamiento de los valores faltantes</li>
<li>Operadores y funciones matemáticas (+/-, &gt;, sum(), median(), …)</li>
<li>El operador %in%</li>
</ul>
<!-- ======================================================= -->
<section id="operadores-de-asignación" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="operadores-de-asignación">Operadores de asignación</h3>
<p><strong><code>&lt;-</code></strong></p>
<p>El operador de asignación básico en R es <code>&lt;-</code>. Como en <code>nombre_objeto &lt;- valor</code>. Este operador de asignación también se puede escribir como <code>=</code>. Aconsejamos de forma general el uso de <code>&lt;-</code> . También aconsejamos rodear tales operadores con espacios, para mejorar la legibilidad.</p>
<p><strong><code>&lt;&lt;-</code></strong></p>
<p>Si se <a href="writing_functions.es.html">escriben funciones</a>, o se utiliza R de forma interactiva con scripts de origen, entonces puede ser necesario utilizar este operador de asignación <code>&lt;&lt;-</code> (de R <strong>base</strong>). Este operador se utiliza para definir un objeto en un entorno R superior “padre”. Mira esta <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">referencia online</a>.</p>
<p><strong><code>%&lt;&gt;%</code></strong></p>
<p>Se trata de un “pipe de asignación” del paquete <strong>magrittr</strong>, que canaliza un objeto hacia adelante y <em>también redefine el objeto</em>. Debe ser el primer operador de pipe en la cadena. Es una forma abreviada, como se muestra a continuación en dos ejemplos equivalentes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_months =</span> age_years <span class="sc">*</span> <span class="dv">12</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lo anterior equivale a lo siguiente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&lt;&gt;%</span> <span class="fu">mutate</span>(<span class="at">age_months =</span> age_years <span class="sc">*</span> <span class="dv">12</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>%&lt;+%</code></strong></p>
<p>Se utiliza para añadir datos a los árboles filogenéticos con el paquete <strong>ggtree</strong>. Consulta la página sobre <a href="phylogenetic_trees.es.html">árboles filogenéticos</a> o este <a href="https://yulab-smu.top/treedata-book/">libro de recursos</a> en línea.</p>
<!-- ======================================================= -->
</section>
<section id="operadores-relacionales-y-lógicos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="operadores-relacionales-y-lógicos">Operadores relacionales y lógicos</h3>
<p>Los operadores relacionales comparan valores y se utilizan a menudo al definir nuevas variables y subconjuntos de datos. Estos son los operadores relacionales más comunes en R:</p>
<table class="table">
<thead>
<tr class="header">
<th>Significado</th>
<th>Operador</th>
<th>Ejemplo</th>
<th>Ejemplo de resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Igual a</td>
<td><code>==</code></td>
<td><code>"A" == "a"</code></td>
<td><code>FALSE</code> (R distingue entre mayúsculas y minúsculas) <em>Ten en cuenta que == (doble igual) es diferente de = (simple igual), que actúa como el operador de asignación <code>&lt;-</code></em></td>
</tr>
<tr class="even">
<td>No es igual a</td>
<td><code>!=</code></td>
<td><code>2 != 0</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Mayor que</td>
<td><code>&gt;</code></td>
<td><code>4 &gt; 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Menor que</td>
<td><code>&lt;</code></td>
<td><code>4 &lt; 2</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Mayor que o igual a</td>
<td><code>&gt;=</code></td>
<td><code>6 &gt;= 4</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Menor que o igual a</td>
<td><code>&lt;=</code></td>
<td><code>6 &lt;= 4</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Falta el valor</td>
<td><code>is.na()</code></td>
<td><code>is.na(7)</code></td>
<td><code>FALSE</code> (véase la página sobre <a href="missing_data.es.html">Valores faltantes</a>)</td>
</tr>
<tr class="even">
<td>No falta el valor</td>
<td><code>!is.na()</code></td>
<td><code>!is.na(7)</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>Los operadores lógicos o booleanos, como AND y OR, suelen utilizarse para conectar operadores relacionales y crear criterios más complicados. Las sentencias complejas pueden requerir paréntesis () para la agrupación y el orden de aplicación.</p>
<table class="table">
<tbody>
<tr class="odd">
<td>gnificado |Operado</td>
<td style="text-align: left;">r</td>
</tr>
<tr class="even">
<td>———-|——-</td>
<td style="text-align: left;">—————–</td>
</tr>
<tr class="odd">
<td>D |<code>&amp;</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td>|<code>|</code> (ba</td>
<td style="text-align: left;">rra vertical)</td>
</tr>
<tr class="odd">
<td>réntesis |<code>( )</code> S</td>
<td style="text-align: left;">e utiliza para agrupar criterios y aclarar el orden de las operaciones</td>
</tr>
</tbody>
</table>
<p>Por ejemplo, a continuación, tenemos un listado con dos variables que queremos utilizar para crear nuestra definición de caso, <code>hep_e_rdt</code>, un resultado de la prueba y <code>other_cases_in_hh</code>, que nos dirá si hay otros casos en el hogar. El comando siguiente utiliza la función <code>case_when()</code> para crear la nueva variable <code>case_def</code> tal que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>linelist_cleaned <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">case_def =</span> <span class="fu">case_when</span>(</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(rdt_result) <span class="sc">&amp;</span> <span class="fu">is.na</span>(other_case_in_home)            <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    rdt_result <span class="sc">==</span> <span class="st">"Positive"</span>                                 <span class="sc">~</span> <span class="st">"Confirmed"</span>,</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    rdt_result <span class="sc">!=</span> <span class="st">"Positive"</span> <span class="sc">&amp;</span> other_cases_in_home <span class="sc">==</span> <span class="st">"Yes"</span>  <span class="sc">~</span> <span class="st">"Probable"</span>,</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                                     <span class="sc">~</span> <span class="st">"Suspected"</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Criterios del ejemplo anterior</th>
<th>Valor resultante en la nueva variable “case_def”</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Si falta el valor de las variables <code>rdt_result</code> y <code>other_cases_in_home</code></td>
<td>NA (valor faltante)</td>
</tr>
<tr class="even">
<td>Si el valor de <code>rdt_result</code> es “Positivo”</td>
<td>“Confirmado”</td>
</tr>
<tr class="odd">
<td>Si el valor de <code>rdt_result</code> NO es “Positivo” Y el valor de <code>other_cases_in_home es</code> “Si”</td>
<td>“Probable”</td>
</tr>
<tr class="even">
<td>Si no se cumple alguno de los criterios anteriores</td>
<td>“Sospechoso”</td>
</tr>
</tbody>
</table>
<p><em>Ten en cuenta que R distingue entre mayúsculas y minúsculas, por lo que “Positivo” es diferente de “positivo”…</em></p>
<!-- ======================================================= -->
</section>
<section id="valores-faltantes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="valores-faltantes">Valores faltantes</h3>
<p>En R, los valores faltantes (missing value) se representan con el valor especial <code>NA</code> (una palabra “reservada” para ello) (letras mayúsculas N y A - sin comillas). Si importas datos que registran los valores faltantes de otra manera (por ejemplo, 99, “Nulo”, o .), es posible que quieras re-codificar esos valores a NA. En la página de <a href="importing.es.html">importación y exportación</a> se explica cómo hacerlo.</p>
<p><strong>Para comprobar si un valor es <code>NA</code>, utiliza la función especial <code>is.na()</code></strong>, que devuelve <code>TRUE</code> o <code>FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>rdt_result <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Positive"</span>, <span class="st">"Suspected"</span>, <span class="st">"Positive"</span>, <span class="cn">NA</span>)   <span class="co"># dos casos positivos, uno sospechoso y uno desconocido</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(rdt_result)  <span class="co"># Comprueba si el valor de rdt_result es NA</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
<p>Puedes leer más sobre los valores faltantes, infinitos, <code>NULL</code> e imposibles en la página sobre <a href="missing_data.es.html">Valores faltantes</a>]. Aprende a convertir los valores faltantes al importar datos en la página sobre <a href="importing.es.html">Importación y exportación</a>.</p>
<!-- ======================================================= -->
</section>
<section id="matemáticos-y-estadísticos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="matemáticos-y-estadísticos">Matemáticos y estadísticos</h3>
<p>Todos los operadores y funciones de esta página están disponibles automáticamente en R <strong>base</strong>.</p>
<section id="operadores-matemáticos" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="operadores-matemáticos">Operadores matemáticos</h4>
<p>Se utilizan a menudo para realizar sumas, divisiones, crear nuevas columnas, etc. A continuación se muestran los operadores matemáticos más comunes en R. No es importante poner espacios alrededor de los operadores.</p>
<table class="table">
<thead>
<tr class="header">
<th>Propósito</th>
<th>Ejemplo en R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>suman</td>
<td>2 + 3</td>
</tr>
<tr class="even">
<td>resta</td>
<td>2 - 3</td>
</tr>
<tr class="odd">
<td>multiplicación</td>
<td>2 * 3</td>
</tr>
<tr class="even">
<td>división</td>
<td>30 / 5</td>
</tr>
<tr class="odd">
<td>exponente</td>
<td>2^3</td>
</tr>
<tr class="even">
<td>orden de operaciones</td>
<td>( )</td>
</tr>
</tbody>
</table>
</section>
<section id="funciones-matemáticas" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="funciones-matemáticas">Funciones matemáticas</h4>
<table class="table">
<thead>
<tr class="header">
<th>Propósito</th>
<th>Función**</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>redondeo</td>
<td>round(x, digits = n)</td>
</tr>
<tr class="even">
<td>redondeo</td>
<td>janitor::round_half_up(x, digits = n)</td>
</tr>
<tr class="odd">
<td>redondeo arriba</td>
<td>ceiling(x)</td>
</tr>
<tr class="even">
<td>redondeo abajo</td>
<td>floor(x)</td>
</tr>
<tr class="odd">
<td>valor absoluto</td>
<td>abs(x)</td>
</tr>
<tr class="even">
<td>raiz cuadrada</td>
<td>sqrt(x)</td>
</tr>
<tr class="odd">
<td>exponente</td>
<td>exponent(x)</td>
</tr>
<tr class="even">
<td>logaritmo natural</td>
<td>log(x)</td>
</tr>
<tr class="odd">
<td>log base 10</td>
<td>log10(x)</td>
</tr>
<tr class="even">
<td>log base 2</td>
<td>log2(x)</td>
</tr>
</tbody>
</table>
<p>Nota: para <code>round()</code> los <code>dígits =</code> especifican el número de decimales. Utiliza <code>signif()</code> para redondear a un número de cifras significativas.</p>
</section>
<section id="notación-científica" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="notación-científica">Notación científica</h4>
<p>La probabilidad de que se utilice la notación científica depende del valor de la opción <code>scipen</code>.</p>
<p>De la documentación de <code>?options</code>: scipen es una penalización que se aplica cuando se decide obtener valores numéricos en notación fija o exponencial. Los valores positivos se inclinan hacia la notación fija y los negativos hacia la notación científica: se preferirá la notación fija a menos que tenga más dígitos que ‘scipen’.</p>
<p>Si se establece en un número bajo (por ejemplo, 0) estará “activada” siempre. Para “desactivar” la notación científica en tu sesión de R, configúrela con un número muy alto, por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># desactiva la notación científica</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">999</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="redondeo" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="redondeo">Redondeo</h4>
<p><span style="color: red;"><strong><em>PELIGRO:</em></strong> <code>round()</code> utiliza el “redondeo del banquero” que redondea hacia arriba desde un 0,5 sólo si el número superior es par. Utiliza <code>round_half_up()</code> de <strong>janitor</strong> para redondear consistentemente las mitades hacia arriba al número entero más cercano. <a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html#explore-records-with-duplicated-values-for-specific-combinations-of-variables-with-get_dupes">Aquí tienes esta explicación</a></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># utilizar la función de redondeo adecuada para tu trabajo</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">round_half_up</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</section>
<section id="funciones-estadísticas" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="funciones-estadísticas">Funciones estadísticas</h4>
<p><span style="color: orange;"><strong><em>PRECAUCIÓN:</em></strong> Las funciones que aparecen a continuación incluyen por defecto los valores faltantes en los cálculos. Los valores faltantes darán como resultado una salida de <code>NA</code>, a menos que se especifique el argumento <code>na.rm = TRUE</code>. Esto se puede escribir de forma abreviada como <code>na.rm = T</code>.</span></p>
<table class="table">
<thead>
<tr class="header">
<th>Objetivo</th>
<th>Función**</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>media (promedio)</td>
<td>mean(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>mediana</td>
<td>median(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>desviación estándar</td>
<td>sd(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>cuantiles*</td>
<td>quantile(x, probs)</td>
</tr>
<tr class="odd">
<td>suma</td>
<td>sum(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>valor mínimo</td>
<td>min(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>valor máximo</td>
<td>max(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>rango de valores numéricos</td>
<td>range(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>resumen**</td>
<td>summary(x)</td>
</tr>
</tbody>
</table>
<p>Notas:</p>
<ul>
<li><p><code>*quantile()</code>: <code>x</code> es el vector numérico a examinar, y <code>probs =</code> es un vector numérico con probabilidades entre 0 y 1.0, por ejemplo <code>c(0.5, 0.8, 0.85)</code></p></li>
<li><p><code>**summary()</code>: da un resumen estadístico sobre un vector numérico incluyendo la media, mediana y percentiles más comunes</p></li>
</ul>
<p><span style="color: red;"><strong><em>PELIGRO:</em></strong> Si proporciona un vector de números a una de las funciones anteriores, asegúrese de envolver los números dentro de <code>c()</code>.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si se suministran números sin procesar a una función, envolver con c()</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)    <span class="co"># !!! INCORRECTO !!!  </span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)) <span class="co"># CORRECTO</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.666667</code></pre>
</div>
</div>
</section>
<section id="otras-funciones-útiles" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="otras-funciones-útiles">Otras funciones útiles</h4>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 20%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Objetivo</th>
<th>Función</th>
<th>Ejemplo**</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>crear una secuencia</td>
<td>seq(de, a, por)</td>
<td><code>seq(1, 10, 2)</code></td>
</tr>
<tr class="even">
<td>repetir x, n veces</td>
<td>rep(x, nveces)</td>
<td><code>rep(1:3, 2)</code> or <code>rep(c("a", "b", "c"), 3)</code></td>
</tr>
<tr class="odd">
<td>subdividir un vector numérico</td>
<td>cut(x, n)</td>
<td><code>cut(linelist$age, 5)</code></td>
</tr>
<tr class="even">
<td>tomar una muestra aleatoria</td>
<td>sample(x, tamaño)</td>
<td><code>sample(linelist$id, size = 5, replace = TRUE)</code></td>
</tr>
</tbody>
</table>
<!-- ======================================================= -->
</section>
</section>
<section id="in" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="in"><code>%in%</code></h3>
<p>Un operador muy útil para comparar valores, y para evaluar rápidamente si un valor está dentro de un vector o dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>my_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="st">"a"</span> <span class="sc">%in%</span> my_vector</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="st">"h"</span> <span class="sc">%in%</span> my_vector</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Para preguntar si un valor <strong>no está</strong> <code>%in%</code> en un vector, pon un signo de exclamación (!) <strong>delante</strong> de la declaración lógica:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># para negar, pon una exclamación delante</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"a"</span> <span class="sc">%in%</span> my_vector</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"h"</span> <span class="sc">%in%</span> my_vector</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p><code>%in%</code> es muy útil cuando se utiliza la función <code>case_when()</code> de <strong>dplyr</strong>. Se puede definir un vector previamente y referenciarlo después. Por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">child_hospitaled =</span> <span class="fu">case_when</span>(</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>    hospitalized <span class="sc">%in%</span> affirmative <span class="sc">&amp;</span> age <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Hospitalized Child"</span>,</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                      <span class="sc">~</span> <span class="st">"Not"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nota: Si quieres detectar una cadena parcial, quizás usando <code>str_detect()</code> de <strong>stringr</strong>, no aceptará un vector de caracteres como <code>c("1", "Yes", "yes", "y")</code>. En su lugar, se le debe dar una <em>expresión regular</em> - una cadena condensada con barras OR, como “1|Yes|yes|y”. Por ejemplo, <code>str_detect(hospitalized, "1|Yes|yes|y")</code>. Consulta la página sobre <a href="characters_strings.es.html">Caracteres y cadenas</a> para obtener más información.</p>
<p>Puedes convertir un vector de caracteres en una expresión regular con este comando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>affirmative</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"   "Yes" "YES" "yes" "y"   "Y"   "oui" "Oui" "Si" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># condense to </span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">paste0</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)  <span class="co"># opción con R base</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">str_c</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)   <span class="co"># opción con el paquete stringr </span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>affirmative_str_search</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1|Yes|YES|yes|y|Y|oui|Oui|Si"</code></pre>
</div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section>
</section>
<section id="errors-warnings" class="level2" data-number="3.13">
<h2 data-number="3.13" class="anchored" data-anchor-id="errors-warnings"><span class="header-section-number">3.13</span> Errores &amp; avisos</h2>
<p>En esta sección se explica:</p>
<ul>
<li>La diferencia entre errores y avisos (warnings)</li>
<li>Consejos generales de sintaxis para escribir código R</li>
<li>Código de asistencia</li>
</ul>
<p>En las página de <a href="errors.es.html">Errores comunes</a> y de <a href="help.es.html">Obtener ayuda</a> se pueden encontrar los errores y avisos más comunes, así como consejos para la resolución de problemas.</p>
<!-- ======================================================= -->
<section id="error-vs-aviso" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="error-vs-aviso">Error vs aviso</h3>
<p>Cuando se ejecuta un comando, la Consola de R puede mostrarte mensajes de aviso o error en texto rojo.</p>
<ul>
<li><p>Una <strong>aviso</strong> significa que R ha completado su comando, pero ha tenido que dar pasos adicionales o ha producido una salida inusual de la que deberías estar al tanto.</p></li>
<li><p>Un <strong>error</strong> significa que R no pudo completar su comando.</p></li>
</ul>
<p>Busca pistas:</p>
<ul>
<li><p>El mensaje de error/advertencia suele incluir un número de línea donde está el problema.</p></li>
<li><p>Si un objeto “es desconocido” o “no se encuentra”, quizás lo hayas escrito mal, hayas olvidado llamar a un paquete con library(), o hayas olvidado volver a ejecutar tu script después de hacer cambios.</p></li>
</ul>
<p>Si todo lo demás falla, copia el mensaje de error en Google junto con algunos términos clave; lo más probable es que a alguien le haya pasado lo mismo y ¡ya haya resuelto el problema!.</p>
<!-- ======================================================= -->
</section>
<section id="consejos-generales-de-sintaxis" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="consejos-generales-de-sintaxis">Consejos generales de sintaxis</h3>
<p>Algunas cosas que hay que recordar al escribir comandos en R, para evitar errores y advertencias:</p>
<ul>
<li>Cierra siempre los paréntesis - consejo: cuenta el número de paréntesis de apertura “(” y de cierre “)” de cada trozo de código</li>
<li>Evita los espacios en los nombres de columnas y objetos. Utiliza barras bajas ( _ ) o puntos ( . ) en su lugar</li>
<li>No olvides separar los argumentos de una función con comas</li>
<li>R distingue entre mayúsculas y minúsculas, lo que significa que <code>Variable_A</code> es <em>diferente</em> de <code>variable_A</code></li>
</ul>
<!-- ======================================================= -->
</section>
<section id="código-de-asistencia" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="código-de-asistencia">Código de asistencia</h3>
<p>Cualquier script (RMarkdown o de otro tipo) te dará pistas cuando hayas cometido un error. Por ejemplo, si te olvidaste de escribir una coma donde se necesita, o de cerrar un paréntesis, RStudio levantará una bandera en esa línea, a la derecha del script, para avisarte.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../new_pages/data_used.es.html" class="pagination-link" aria-label="Descargando el manual y los datos">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descargando el manual y los datos</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../new_pages/transition_to_R.es.html" class="pagination-link" aria-label="Transición a R">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Transición a R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","closeEffect":"zoom","loop":false,"descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>