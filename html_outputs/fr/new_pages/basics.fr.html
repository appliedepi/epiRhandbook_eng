<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>3  R - les bases – Le Epi R Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>
<script src="../site_libs/quarto-nav/quarto-nav.js"></script><script src="../site_libs/quarto-nav/headroom.min.js"></script><script src="../site_libs/clipboard/clipboard.min.js"></script><script src="../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../site_libs/quarto-search/fuse.min.js"></script><script src="../site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="../">
<link href="../new_pages/transition_to_R.fr.html" rel="next">
<link href="../new_pages/data_used.fr.html" rel="prev">
<link href="../images/Applied_Epi_logo.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script><link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script><script src="../site_libs/quarto-html/popper.min.js"></script><script src="../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../site_libs/quarto-html/anchor.min.js"></script><link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script><link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script><link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QXDW878QLX', { 'anonymize_ip': true});
</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"fr"
  });
});
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script>

  window.dataLayer = window.dataLayer || [];

  function gtag(){dataLayer.push(arguments);}

  gtag('js', new Date());



  gtag('config', 'G-QXDW878QLX');

</script>
</head>
<body class="nav-sidebar floating">
<div class="alert alert-info alert-dismissible">

  <!-- <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>

  <strong>Need help learning R?</strong> Enroll in Applied Epi's <a href="https://www.appliedepi.org/live/"

    class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/"

    class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/"

    class="alert-link">Community Q&A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org"

    class="alert-link">R Help Desk service</a>. -->

</div>



<script>



  // Function to extract the last two characters from the URL path

  function getLanguageFromURL() {

    const path = window.location.pathname.split('/');

    

    if (path.length > 1) {

      return path[1]; // Assume the language code is the second segment

    }



    return '';

  }



  const language = getLanguageFromURL();

  const supportedLanguages = ['fr', 'es', 'vn', 'jp', 'pt', 'tr', 'ru', 'en'];

  const defaultLanguage = 'en';

  const isSupportedLanguage = supportedLanguages.includes(language);



  // Translations for the content

  const translations = {

    en: '<strong>Need help learning R?</strong> Enroll in Applied Epi\'s <a href="https://www.appliedepi.org/live/" class="alert-link">intro R course</a>, try our <a href="https://www.appliedepi.org/tutorial/" class="alert-link">free R tutorials</a>, post in our <a href="https://community.appliedepi.org/" class="alert-link">Community Q&A forum</a>, or ask about our <a href="mailto:contact@appliedepi.org" class="alert-link">R Help Desk service</a>.',

    fr: '<strong>Besoin d\'aide pour apprendre R ?</strong> Inscrivez-vous au <a href="https://www.appliedepi.org/live/" class="alert-link">cours d\'introduction à R</a> d\'Applied Epi, essayez nos <a href="https://www.appliedepi.org/tutorial/" class="alert-link">tutoriels R gratuits</a>, postez dans notre forum de <a href="https://community.appliedepi.org/" class="alert-link">questions-réponses communautaires</a>, ou demandez-nous des informations sur <a href="mailto:contact@appliedepi.org" class="alert-link"> notre service d\'assistance R</a>.',

    es: '<strong>¿Necesitas ayuda para aprender R?</strong> Inscríbete en el <a href="https://www.appliedepi.org/live/" class="alert-link">Curso de introducción a R</a> de Applied Epi, prueba nuestros <a href="https://www.appliedepi.org/tutorial/" class="alert-link">Tutoriales gratuitos de R</a>, escribe en nuestro <a href="https://community.appliedepi.org/" class="alert-link">Foro de preguntas y respuestas,</a> o pregunta por nuestra <a href="mailto:contact@appliedepi.org" class="alert-link">Asistencia técnica para R</a>.',

    vn: '<strong>Bạn cần giúp đỡ trong việc học R?</strong> Hãy đăng ký khóa học R cơ bản của Applied Epi tại <a href="https://www.appliedepi.org/live/" class="alert-link">đây</a>, hoặc thử các <a href="https://www.appliedepi.org/tutorial/" class="alert-link">hướng dẫn R miễn phí</a>, đăng bài trong <a href="https://community.appliedepi.org/" class="alert-link">diễn đàn cộng đồng</a>, hoặc gửi câu hỏi tới <a href="mailto:contact@appliedepi.org" class="alert-link">dịch vụ Trợ giúp R</a> của chúng tôi.',

    jp: '<strong>Rの学習について助けが必要ですか？</strong>Applied Epiの<a href="https://www.appliedepi.org/live/" class="alert-link">R入門コース</a>に登録するか、<a href="https://www.appliedepi.org/tutorial/" class="alert-link">無料Rチュートリアル</a>を試すか、<a href="https://community.appliedepi.org/" class="alert-link">コミュニティQ＆Aフォーラム</a>に投稿するか、<a href="mailto:contact@appliedepi.org" class="alert-link">Rヘルプデスクサービス</a>についてお問い合わせください。',

    pt: '<strong>Você precisa de ajuda para aprender R??</strong> Inscreva-se no curso de <a href="https://www.appliedepi.org/live/" class="alert-link">introdução ao R da Applied Epi</a>, experimente nossos <a href="https://www.appliedepi.org/tutorial/" class="alert-link">tutoriais gratuitos sobre o R</a>, publique em nosso <a href="https://community.appliedepi.org/" class="alert-link">fórum de perguntas e respostas</a>, ou solicite nosso <a href="mailto:contact@appliedepi.org" class="alert-link">suporte ao R</a>.',

    tr: '<strong>R öğrenmekte yardıma mı ihtiyacınız var?</strong> Applied Epi\'\nin <a href="https://www.appliedepi.org/live/" class="alert-link">R\'ye giriş kursuna</a> kaydolun, <a href="https://www.appliedepi.org/tutorial/" class="alert-link">ücretsiz R derslerimizi</a> deneyin, <a href="https://community.appliedepi.org/" class="alert-link">Topluluk Q&A forumunda</a> soru paylaşın, ya da <a href="mailto:contact@appliedepi.org" class="alert-link">R Yardım Masası hizmetimiz</a> hakkında sorun.',

    ru: '<strong>Нужна помощь в изучении R?</strong> Запишитесь на <a href="https://www.appliedepi.org/live/" class="alert-link">вводный курс по R</a> от Applied Epi, попробуйте наши <a href="https://www.appliedepi.org/tutorial/" class="alert-link">бесплатные учебные материалы по R</a>, задайте вопрос в нашем <a href="https://community.appliedepi.org/" class="alert-link">форуме вопросов и ответов сообщества</a>, или спросите о нашей услуге <a href="mailto:contact@appliedepi.org" class="alert-link">Службы поддержки по R</a>.'

  };



  // Default to English if the detected language is not supported

  const contentToDisplay = translations[isSupportedLanguage ? language : defaultLanguage];





  // Select the element where the content should be displayed

  const alertElement = document.querySelector('.alert');

  if (alertElement) {

    alertElement.innerHTML = contentToDisplay;

    alertElement.style.display = 'block'; // Make sure to display the element

  }



</script><div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb">
<li class="breadcrumb-item"><a href="../new_pages/basics.fr.html">Les bases de R</a></li>
<li class="breadcrumb-item"><a href="../new_pages/basics.fr.html"><span class="chapter-number">3</span>  <span class="chapter-title">R - les bases</span></a></li>
</ol></nav><a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Recherche" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Le Epi R Handbook</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/appliedepi/epiRhandbook_eng" title="Code source" class="quarto-navigation-tool px-1" aria-label="Code source"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Basculer le mode sombre"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
    <div class="dropdown" id="languages-links-parent">
<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="languages-button"><i class="bi bi-globe2"></i></button><ul class="dropdown-menu" id="languages-links">
<a class="dropdown-item" href="/new_pages/basics.html" id="language-link-en">English</a><a class="dropdown-item" href="/es/new_pages/basics.es.html" id="language-link-es">Español</a>
<a class="dropdown-item" href="/vn/new_pages/basics.vn.html" id="language-link-vn">Tiếng Việt</a>
<a class="dropdown-item" href="/jp/new_pages/basics.jp.html" id="language-link-jp">日本</a>
<a class="dropdown-item" href="/pt/new_pages/basics.pt.html" id="language-link-pt">Português</a>
<a class="dropdown-item" href="/tr/new_pages/basics.tr.html" id="language-link-tr">Türkçe</a>
<a class="dropdown-item" href="/ru/new_pages/basics.ru.html" id="language-link-ru">Русский</a>
</ul>
</div>
<div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenue</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">À propos de ce livre</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/editorial_style.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>  <span class="chapter-title">Notes techniques et choix éditoriaux</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_used.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>  <span class="chapter-title">Télécharger le manuel et les données</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Les bases de R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/basics.fr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>  <span class="chapter-title">R - les bases</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transition_to_R.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>  <span class="chapter-title">Transition vers R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/packages_suggested.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>  <span class="chapter-title">Paquets conseillés</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/r_projects.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>  <span class="chapter-title">Projets R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/importing.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>  <span class="chapter-title">Importer et exporter des données</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Gestion des données</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/cleaning.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>  <span class="chapter-title">Nettoyage de données et fonctions essentielles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/dates.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>  <span class="chapter-title">Manipuler les dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/characters_strings.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>  <span class="chapter-title">Caractères et chaînes de caractères</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/factors.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>  <span class="chapter-title">Facteurs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/pivoting.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>  <span class="chapter-title">Restructurer les données</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/grouping.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>  <span class="chapter-title">Travailler sur des données groupées</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/joining_matching.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>  <span class="chapter-title">Joindre des données</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/deduplication.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>  <span class="chapter-title">De-duplication</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/iteration.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>  <span class="chapter-title">Itération, boucles et listes</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Analyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_descriptive.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>  <span class="chapter-title">Tableaux descriptifs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/stat_tests.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>  <span class="chapter-title">Tests statistiques simples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/regression.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>  <span class="chapter-title">Régression univariée et multivariable</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/missing_data.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>  <span class="chapter-title">Données manquantes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/standardization.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>  <span class="chapter-title">Taux standardisés</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/moving_average.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>  <span class="chapter-title">Moyennes mobiles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/time_series.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>  <span class="chapter-title">Série temporelle et détection des épidémies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epidemic_models.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>  <span class="chapter-title">Modélisation des épidémies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/contact_tracing.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>  <span class="chapter-title">Suivi des contacts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survey_analysis.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>  <span class="chapter-title">Analyse d’enquête</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/survival_analysis.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>  <span class="chapter-title">Analyse de survie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/gis.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>  <span class="chapter-title">GIS basics</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Visualisation des données</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/tables_presentation.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>  <span class="chapter-title">Présenter avec des tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_basics.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>  <span class="chapter-title">Les bases de ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/ggplot_tips.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>  <span class="chapter-title">Trucs et Astuces avec ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/epicurves.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>  <span class="chapter-title">Courbes épidémiques</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/age_pyramid.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>  <span class="chapter-title">Pyramides démographiques et échelles de Likert</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/heatmaps.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>  <span class="chapter-title">Graphiques thermiques</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/diagrams.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>  <span class="chapter-title">Diagrammes et schémas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/combination_analysis.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>  <span class="chapter-title">Analyse des combinaisons</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/transmission_chains.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>  <span class="chapter-title">Chaînes de transmission</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/phylogenetic_trees.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>  <span class="chapter-title">Les arbres phylogénétiques</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/interactive_plots.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>  <span class="chapter-title">Graphiques interactifs</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Rapports et tableaux de bord</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/rmarkdown.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>  <span class="chapter-title">Production de rapports avec R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/reportfactory.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>  <span class="chapter-title">Organisation des rapports de routine</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/flexdashboard.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>  <span class="chapter-title">Tableaux de bord avec R Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/shiny_basics.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>  <span class="chapter-title">Tableaux de bord avec Shiny</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Autres sujets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/writing_functions.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>  <span class="chapter-title">Fonctions d’écriture</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/directories.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>  <span class="chapter-title">Interactions avec les répertoires</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/collaboration.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>  <span class="chapter-title">Contrôle de version et collaboration avec Git et Github</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/errors.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>  <span class="chapter-title">Erreurs fréquentes{#errors}</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/help.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>  <span class="chapter-title">Obtenir de l’aide{#help}</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/network_drives.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>  <span class="chapter-title">R sur les lecteurs réseau</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../new_pages/data_table.fr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>  <span class="chapter-title">Tableau de données</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Annexes</span></span>
  </li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table des matières</h2>
   
  <ul>
<li><a href="#pourquoi-utiliser-r" id="toc-pourquoi-utiliser-r" class="nav-link active" data-scroll-target="#pourquoi-utiliser-r"><span class="header-section-number">3.1</span> Pourquoi utiliser R ?</a></li>
  <li><a href="#termes-cl%C3%A9s" id="toc-termes-clés" class="nav-link" data-scroll-target="#termes-clés"><span class="header-section-number">3.2</span> Termes clés</a></li>
  <li>
<a href="#learning" id="toc-learning" class="nav-link" data-scroll-target="#learning"><span class="header-section-number">3.3</span> Ressources pour l’apprentissage</a>
  <ul class="collapse">
<li><a href="#ressources-au-sein-de-rstudio" id="toc-ressources-au-sein-de-rstudio" class="nav-link" data-scroll-target="#ressources-au-sein-de-rstudio">Ressources au sein de RStudio</a></li>
  <li><a href="#fiches-daide-m%C3%A9moire" id="toc-fiches-daide-mémoire" class="nav-link" data-scroll-target="#fiches-daide-mémoire">Fiches d’aide-mémoire</a></li>
  <li><a href="#twitter" id="toc-twitter" class="nav-link" data-scroll-target="#twitter">Twitter</a></li>
  <li><a href="#ressources-gratuites-en-ligne" id="toc-ressources-gratuites-en-ligne" class="nav-link" data-scroll-target="#ressources-gratuites-en-ligne">Ressources gratuites en ligne</a></li>
  <li><a href="#langues-autres-que-langlais" id="toc-langues-autres-que-langlais" class="nav-link" data-scroll-target="#langues-autres-que-langlais">Langues autres que l’anglais</a></li>
  </ul>
</li>
  <li>
<a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">3.4</span> Installation</a>
  <ul class="collapse">
<li><a href="#r-et-rstudio" id="toc-r-et-rstudio" class="nav-link" data-scroll-target="#r-et-rstudio">R et RStudio</a></li>
  <li><a href="#autres-logiciels-que-vous-pourriez-avoir-besoin-dinstaller" id="toc-autres-logiciels-que-vous-pourriez-avoir-besoin-dinstaller" class="nav-link" data-scroll-target="#autres-logiciels-que-vous-pourriez-avoir-besoin-dinstaller">Autres logiciels que vous <em>pourriez</em> avoir besoin d’installer</a></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio"><span class="header-section-number">3.4.1</span> RStudio</a></li>
  <li><a href="#orientation-de-rstudio" id="toc-orientation-de-rstudio" class="nav-link" data-scroll-target="#orientation-de-rstudio">Orientation de RStudio</a></li>
  <li><a href="#param%C3%A8tres-rstudio" id="toc-paramètres-rstudio" class="nav-link" data-scroll-target="#paramètres-rstudio">Paramètres RStudio</a></li>
  <li><a href="#raccourcis-clavier" id="toc-raccourcis-clavier" class="nav-link" data-scroll-target="#raccourcis-clavier">Raccourcis clavier</a></li>
  </ul>
</li>
  <li>
<a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">3.5</span> Fonctions</a>
  <ul class="collapse">
<li><a href="#fonctions-simples" id="toc-fonctions-simples" class="nav-link" data-scroll-target="#fonctions-simples">Fonctions simples</a></li>
  <li><a href="#fonctions-%C3%A0-param%C3%A8tres-multiples" id="toc-fonctions-à-paramètres-multiples" class="nav-link" data-scroll-target="#fonctions-à-paramètres-multiples">Fonctions à paramètres multiples</a></li>
  <li><a href="#ecrire-des-fonctions" id="toc-ecrire-des-fonctions" class="nav-link" data-scroll-target="#ecrire-des-fonctions">Ecrire des fonctions</a></li>
  </ul>
</li>
  <li>
<a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">3.6</span> Paquets</a>
  <ul class="collapse">
<li><a href="#installer-et-charger" id="toc-installer-et-charger" class="nav-link" data-scroll-target="#installer-et-charger">Installer et charger</a></li>
  <li><a href="#syntaxe-du-code" id="toc-syntaxe-du-code" class="nav-link" data-scroll-target="#syntaxe-du-code">Syntaxe du code</a></li>
  <li><a href="#aide-sur-les-fonctions" id="toc-aide-sur-les-fonctions" class="nav-link" data-scroll-target="#aide-sur-les-fonctions">Aide sur les fonctions</a></li>
  <li><a href="#mettre-%C3%A0-jour-les-paquets" id="toc-mettre-à-jour-les-paquets" class="nav-link" data-scroll-target="#mettre-à-jour-les-paquets">Mettre à jour les paquets</a></li>
  <li><a href="#supprimer-des-paquets" id="toc-supprimer-des-paquets" class="nav-link" data-scroll-target="#supprimer-des-paquets">Supprimer des paquets</a></li>
  <li><a href="#d%C3%A9pendances" id="toc-dépendances" class="nav-link" data-scroll-target="#dépendances">Dépendances</a></li>
  <li><a href="#fonctions-masqu%C3%A9es" id="toc-fonctions-masquées" class="nav-link" data-scroll-target="#fonctions-masquées">Fonctions masquées</a></li>
  <li><a href="#d%C3%A9tacher-d%C3%A9charger" id="toc-détacher-décharger" class="nav-link" data-scroll-target="#détacher-décharger">Détacher / décharger</a></li>
  <li><a href="#installer-une-ancienne-version" id="toc-installer-une-ancienne-version" class="nav-link" data-scroll-target="#installer-une-ancienne-version">Installer une ancienne version</a></li>
  <li><a href="#paquets-sugg%C3%A9r%C3%A9s" id="toc-paquets-suggérés" class="nav-link" data-scroll-target="#paquets-suggérés">Paquets suggérés</a></li>
  </ul>
</li>
  <li>
<a href="#scripts" id="toc-scripts" class="nav-link" data-scroll-target="#scripts"><span class="header-section-number">3.7</span> Scripts</a>
  <ul class="collapse">
<li><a href="#commentaire" id="toc-commentaire" class="nav-link" data-scroll-target="#commentaire">Commentaire</a></li>
  <li><a href="#style" id="toc-style" class="nav-link" data-scroll-target="#style">Style</a></li>
  <li><a href="#exemple-de-script" id="toc-exemple-de-script" class="nav-link" data-scroll-target="#exemple-de-script">Exemple de script</a></li>
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link" data-scroll-target="#r-markdown">R markdown</a></li>
  <li><a href="#carnets-de-notes-r" id="toc-carnets-de-notes-r" class="nav-link" data-scroll-target="#carnets-de-notes-r">Carnets de notes R</a></li>
  <li><a href="#shiny" id="toc-shiny" class="nav-link" data-scroll-target="#shiny">Shiny</a></li>
  <li><a href="#repli-du-code" id="toc-repli-du-code" class="nav-link" data-scroll-target="#repli-du-code">Repli du code</a></li>
  </ul>
</li>
  <li>
<a href="#r%C3%A9pertoire-de-travail" id="toc-répertoire-de-travail" class="nav-link" data-scroll-target="#répertoire-de-travail"><span class="header-section-number">3.8</span> Répertoire de travail</a>
  <ul class="collapse">
<li><a href="#approche-recommand%C3%A9e" id="toc-approche-recommandée" class="nav-link" data-scroll-target="#approche-recommandée">Approche recommandée</a></li>
  <li><a href="#d%C3%A9finir-le-r%C3%A9pertoire-de-travail-par-commande" id="toc-définir-le-répertoire-de-travail-par-commande" class="nav-link" data-scroll-target="#définir-le-répertoire-de-travail-par-commande">Définir le répertoire de travail par commande</a></li>
  <li><a href="#d%C3%A9finir-manuellement-le-r%C3%A9pertoire-de-travail" id="toc-définir-manuellement-le-répertoire-de-travail" class="nav-link" data-scroll-target="#définir-manuellement-le-répertoire-de-travail">Définir manuellement le répertoire de travail</a></li>
  <li><a href="#d%C3%A9finir-le-r%C3%A9pertoire-de-travail-dans-un-projet-r" id="toc-définir-le-répertoire-de-travail-dans-un-projet-r" class="nav-link" data-scroll-target="#définir-le-répertoire-de-travail-dans-un-projet-r">Définir le répertoire de travail dans un projet R</a></li>
  <li><a href="#r%C3%A9pertoire-de-travail-dans-un-script-r-markdown" id="toc-répertoire-de-travail-dans-un-script-r-markdown" class="nav-link" data-scroll-target="#répertoire-de-travail-dans-un-script-r-markdown"><span class="header-section-number">3.8.1</span> Répertoire de travail dans un script R Markdown</a></li>
  <li><a href="#fournir-des-chemins-de-fichier" id="toc-fournir-des-chemins-de-fichier" class="nav-link" data-scroll-target="#fournir-des-chemins-de-fichier">Fournir des chemins de fichier</a></li>
  </ul>
</li>
  <li>
<a href="#objets" id="toc-objets" class="nav-link" data-scroll-target="#objets"><span class="header-section-number">3.9</span> Objets</a>
  <ul class="collapse">
<li><a href="#tout-est-un-objet" id="toc-tout-est-un-objet" class="nav-link" data-scroll-target="#tout-est-un-objet">Tout est un objet</a></li>
  <li><a href="#d%C3%A9finir-des-objets--" id="toc-définir-des-objets--" class="nav-link" data-scroll-target="#définir-des-objets--">Définir des objets (<code>&lt;-</code>)</a></li>
  <li><a href="#structure-dobjet" id="toc-structure-dobjet" class="nav-link" data-scroll-target="#structure-dobjet">Structure d’objet</a></li>
  <li><a href="#classes-dobjets" id="toc-classes-dobjets" class="nav-link" data-scroll-target="#classes-dobjets">Classes d’objets</a></li>
  <li><a href="#colonnesvariables" id="toc-colonnesvariables" class="nav-link" data-scroll-target="#colonnesvariables">Colonnes/Variables (<code>$</code>)</a></li>
  <li><a href="#acc%C3%A8sindex-avec-crochets" id="toc-accèsindex-avec-crochets" class="nav-link" data-scroll-target="#accèsindex-avec-crochets">Accès/index avec crochets (<code>[ ]</code>)</a></li>
  <li><a href="#supprimer-des-objets" id="toc-supprimer-des-objets" class="nav-link" data-scroll-target="#supprimer-des-objets">Supprimer des objets</a></li>
  </ul>
</li>
  <li>
<a href="#tuyauterie-piping" id="toc-tuyauterie-piping" class="nav-link" data-scroll-target="#tuyauterie-piping"><span class="header-section-number">3.10</span> Tuyauterie / “Piping” (<code>%&gt;%</code>)</a>
  <ul class="collapse">
<li><a href="#tuyaux-pipes" id="toc-tuyaux-pipes" class="nav-link" data-scroll-target="#tuyaux-pipes"><strong>Tuyaux / Pipes</strong></a></li>
  <li><a href="#d%C3%A9finir-les-objets-interm%C3%A9diaires" id="toc-définir-les-objets-intermédiaires" class="nav-link" data-scroll-target="#définir-les-objets-intermédiaires">Définir les objets intermédiaires</a></li>
  </ul>
</li>
  <li>
<a href="#operators" id="toc-operators" class="nav-link" data-scroll-target="#operators"><span class="header-section-number">3.11</span> Opérateurs clés et fonctions</a>
  <ul class="collapse">
<li><a href="#op%C3%A9rateurs-daffectation" id="toc-opérateurs-daffectation" class="nav-link" data-scroll-target="#opérateurs-daffectation">Opérateurs d’affectation</a></li>
  <li><a href="#op%C3%A9rateurs-relationnels-et-logiques" id="toc-opérateurs-relationnels-et-logiques" class="nav-link" data-scroll-target="#opérateurs-relationnels-et-logiques">Opérateurs relationnels et logiques</a></li>
  <li><a href="#valeurs-manquantes" id="toc-valeurs-manquantes" class="nav-link" data-scroll-target="#valeurs-manquantes">Valeurs manquantes</a></li>
  <li><a href="#math%C3%A9matiques-et-statistiques" id="toc-mathématiques-et-statistiques" class="nav-link" data-scroll-target="#mathématiques-et-statistiques">Mathématiques et statistiques</a></li>
  <li><a href="#in" id="toc-in" class="nav-link" data-scroll-target="#in"><code>%in%</code></a></li>
  </ul>
</li>
  <li>
<a href="#erreurs-et-avertissements" id="toc-erreurs-et-avertissements" class="nav-link" data-scroll-target="#erreurs-et-avertissements"><span class="header-section-number">3.12</span> Erreurs et avertissements</a>
  <ul class="collapse">
<li><a href="#erreur-contre-avertissement" id="toc-erreur-contre-avertissement" class="nav-link" data-scroll-target="#erreur-contre-avertissement">Erreur contre avertissement</a></li>
  <li><a href="#conseils-g%C3%A9n%C3%A9raux-sur-la-syntaxe" id="toc-conseils-généraux-sur-la-syntaxe" class="nav-link" data-scroll-target="#conseils-généraux-sur-la-syntaxe">Conseils généraux sur la syntaxe</a></li>
  <li><a href="#aides-au-code" id="toc-aides-au-code" class="nav-link" data-scroll-target="#aides-au-code">Aides au code</a></li>
  </ul>
</li>
  </ul></nav>
</div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb">
<li class="breadcrumb-item"><a href="../new_pages/basics.fr.html">Les bases de R</a></li>
<li class="breadcrumb-item"><a href="../new_pages/basics.fr.html"><span class="chapter-number">3</span>  <span class="chapter-title">R - les bases</span></a></li>
</ol></nav><div class="quarto-title">
<h1 class="title"><span id="rbasics" class="quarto-section-identifier"><span class="chapter-number">3</span>  <span class="chapter-title">R - les bases</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/basics_header_close.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="../images/basics_header_close.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Bienvenue !</p>
<p>Cette page passe en revue les éléments essentiels de R. Elle n’a pas pour but d’être un tutoriel complet, mais elle fournit les bases et peut être utile pour rafraîchir votre mémoire. La section <a href="#learning">Ressources pour l’apprentissage</a> renvoie à des didacticiels plus complets.</p>
<p>Certaines parties de cette page ont été adaptées avec l’autorisation du <a href="https://r4epis.netlify.app/">projet R4Epis</a>.</p>
<p>Voir la page sur la <a href="transition_to_R.fr.html">transition a R</a> pour des conseils sur le passage de STATA, SAS ou Excel à R.</p>
<!-- ======================================================= -->
<section id="pourquoi-utiliser-r" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="pourquoi-utiliser-r">
<span class="header-section-number">3.1</span> Pourquoi utiliser R ?</h2>
<p>Comme indiqué sur le <a href="https://www.r-project.org/about.html">site Web du projet R</a>, R est un langage de programmation et un environnement pour le calcul statistique et les graphiques. Il est très polyvalent, extensible et axé sur la communauté.</p>
<p><strong>Coût</strong></p>
<p>L’utilisation de R est gratuite ! Il existe une forte éthique dans la communauté du matériel gratuit et open-source.</p>
<p><strong>Reproductibilité</strong></p>
<p>La gestion et l’analyse de vos données par le biais d’un langage de programmation (par rapport à Excel ou à un autre outil essentiellement manuel) améliore la reproductibilité, facilite la détection des erreurs et allège votre charge de travail.</p>
<p><strong>Communauté</strong></p>
<p>La communauté des utilisateurs de R est énorme et collaborative. De nouveaux paquets et outils destinés à résoudre des problèmes concrets sont développés quotidiennement et approuvés par la communauté des utilisateurs. À titre d’exemple, <a href="https://rladies.org/">R-Ladies</a> est une organisation mondiale dont la mission est de promouvoir la diversité des genres dans la communauté R, et c’est l’une des plus grandes organisations d’utilisateurs de R. Elle a probablement un chapitre près de chez vous !</p>
</section><section id="termes-clés" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="termes-clés">
<span class="header-section-number">3.2</span> Termes clés</h2>
<p><strong>RStudio</strong> - RStudio est une interface utilisateur graphique (GUI) qui facilite l’utilisation de <strong>R</strong>. Pour en savoir plus, consultez la section <a href="#rstudio">RStudio</a>.</p>
<p><strong>Objets</strong> - Tout ce que vous stockez dans R - les jeu de données, les variables, une liste de noms de villages, un population total d’habitants, et même les résultats tels que les graphiques - sont des <em>objets</em> auxquels on <em>attribue un nom</em> et qui <em>peuvent être référencés</em> dans des commandes ultérieures. Pour en savoir plus, consultez la section <a href="#objects">Objets</a>.</p>
<p><strong>Fonctions</strong> - Une fonction est une opération de code qui accepte des entrées et renvoie une sortie transformée. Pour en savoir plus, consultez la section <a href="#functions">Fonctions</a>.</p>
<p><strong>Paquets</strong> - Un paquet R est un ensemble de fonctions partageables. Pour en savoir plus, consultez la section <a href="#packages">Packages</a>.</p>
<p><strong>Scripts</strong> - Un script est le fichier document qui contient vos commandes. Pour en savoir plus, consultez la section <a href="#scripts">Scripts</a></p>
</section><section id="learning" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="learning">
<span class="header-section-number">3.3</span> Ressources pour l’apprentissage</h2>
<section id="ressources-au-sein-de-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="ressources-au-sein-de-rstudio">Ressources au sein de RStudio</h3>
<p><strong>Documentation d’aide</strong></p>
<p>Recherchez dans l’onglet “Aide” de RStudio la documentation sur les paquets R et les fonctions spécifiques. Cet onglet se trouve dans le volet qui contient également les fichiers, les graphiques et les paquets (généralement dans le volet inférieur à droit). Comme raccourci, vous pouvez également taper le nom d’un paquet ou d’une fonction dans la console R après un point d’interrogation pour ouvrir la page d’aide correspondante. N’incluez pas les parenthèses.</p>
<p>Par exemple : <code>?filter</code> ou <code>?diagrammeR</code>.</p>
<p><strong>Tutoriels interactifs</strong></p>
<p>Il existe plusieurs façons d’apprendre R de manière interactive <em>dans</em> RStudio.</p>
<p>RStudio lui-même offre un volet Tutoriel qui est alimenté par le paquet R <a href="https://blog.rstudio.com/2020/02/25/rstudio-1-3-integrated-tutorials/"><strong>learnr</strong></a>. Il suffit d’installer ce paquet et d’ouvrir un tutoriel via le nouvel onglet “Tutorial” dans le volet supérieur droit de RStudio (qui contient également les onglets Environnement et Historique).</p>
<p>Le paquet R <a href="https://swirlstats.com/"><strong>swirl</strong></a> propose des cours interactifs dans la console R. Installez et chargez ce paquet, puis lancez la commande <code>swirl()</code> (parenthèses vides) dans la console R. Vous verrez apparaître des invites dans la console. Répondez en tapant dans la console. Elle vous guidera à travers un cours de votre choix.</p>
</section><section id="fiches-daide-mémoire" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="fiches-daide-mémoire">Fiches d’aide-mémoire</h3>
<p>Il existe de nombreuses fiches d’aide-mémoire au format PDF disponibles sur le <a href="https://rstudio.com/resources/cheatsheets/">site Web de RStudio</a>, par exemple :</p>
<ul>
<li>Facteurs avec le paquet <strong>forcats</strong>
</li>
<li>Dates et heures avec le paquet <strong>lubridate</strong>
</li>
<li>Chaînes de caractères avec le paquet <strong>stringr</strong>
</li>
<li>Opérations itératives avec le paquet <strong>purrr</strong>
</li>
<li>Importation de données</li>
<li>Aide-mémoire pour la transformation des données avec le paquet <strong>dplyr</strong>
</li>
<li>R Markdown (pour créer des documents comme PDF, Word, Powerpoint…)</li>
<li>Shiny (pour créer des applications Web interactives)</li>
<li>Visualisation de données avec le paquet <strong>ggplot2</strong>
</li>
<li>Cartographie (SIG)</li>
<li>Paquet <strong>leaflet</strong> (cartes interactives)</li>
<li>Python avec R (paquet <strong>reticulate</strong>)</li>
</ul>
<p>Il existe également une ressource R en ligne spécialement destinée aux <a href="https://jules32.github.io/r-for-excel-users/">utilisateurs d’Excel</a>.</p>
</section><section id="twitter" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="twitter">Twitter</h3>
<p>R possède une communauté Twitter dynamique où vous pouvez apprendre des astuces, des raccourcis et des nouvelles - suivez ces comptes :</p>
<ul>
<li>Suivez-nous ! <a href="https://twitter.com/epirhandbook">@epiRhandbook</a>
</li>
<li>R Function A Day <a href="https://twitter.com/rfunctionaday">@rfuntionaday</a> est une ressource <em>incroyable</em>
</li>
<li>R pour la science des données <a href="https://twitter.com/rstats4ds?lang=en">@rstats4ds</a>
</li>
<li>RStudio <a href="https://twitter.com/rstudio?lang=en">@RStudio</a>
</li>
<li>Conseils sur RStudio<a href="https://twitter.com/rstudiotips">@rstudiotips</a>
</li>
<li>R-Bloggers <a href="https://twitter.com/Rbloggers">@Rbloggers</a>
</li>
<li>R-ladies <a href="https://twitter.com/RLadiesGlobal">@RLadiesGlobal</a>
</li>
<li>Hadley Wickham <a href="https://twitter.com/hadleywickham?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">@hadleywickham</a>
</li>
</ul>
<p>Aussi :</p>
<p><strong>#epitwitter</strong> et <strong>#rstats</strong></p>
</section><section id="ressources-gratuites-en-ligne" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="ressources-gratuites-en-ligne">Ressources gratuites en ligne</h3>
<p>Un texte définitif est le livre <a href="https://r4ds.had.co.nz/">R for Data Science</a> de Garrett Grolemund et Hadley Wickham.</p>
<p>Le site Web du projet <a href="https://r4epis.netlify.app/">R4Epis</a> vise à “développer des outils standardisés de nettoyage, d’analyse et de rapport des données pour couvrir les types courants d’épidémies et d’enquêtes auprès de la population qui seraient menées dans le cadre d’une réponse d’urgence de MSF”. Vous y trouverez des supports de formation aux bases de R, des modèles de rapports RMarkdown sur les épidémies et les enquêtes, ainsi que des tutoriels pour vous aider à les configurer.</p>
</section><section id="langues-autres-que-langlais" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="langues-autres-que-langlais">Langues autres que l’anglais</h3>
<p><a href="https://www.rstudio.com/collections/espanol/">Materiales de RStudio en Español</a></p>
<p><a href="https://juba.github.io/tidyverse/index.html">Introduction à R et au tidyverse (Francais)</a></p>
<!-- ======================================================= -->
</section></section><section id="installation" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="installation">
<span class="header-section-number">3.4</span> Installation</h2>
<section id="r-et-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="r-et-rstudio">R et RStudio</h3>
<p><strong>Comment installer R</strong></p>
<p>Visitez ce site Web <a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a> et téléchargez la dernière version de R adaptée à votre ordinateur.</p>
<p><strong>Comment installer RStudio</strong></p>
<p>Visitez ce site Web <a href="https://rstudio.com/products/rstudio/download/" class="uri">https://rstudio.com/products/rstudio/download/</a> et téléchargez la dernière version de bureau gratuite de RStudio adaptée à votre ordinateur.</p>
<p><strong>Autorisations requises</strong></p>
<p>Notez que vous devez installer R et RStudio sur un lecteur sur lequel vous avez des droits de lecture et d’écriture. Sinon, votre capacité à installer des paquets R (ce qui arrive fréquemment) sera affectée. Si vous rencontrez des problèmes, essayez d’ouvrir RStudio en faisant un clic droit sur l’icône et en sélectionnant “Exécuter en tant qu’administrateur”. Vous trouverez d’autres conseils sur la page <a href="network_drives.fr.html">R sur les lecteurs réseau</a>.</p>
<p><strong>Comment mettre à jour R et RStudio</strong></p>
<p>Votre version de R est imprimée dans la Console R au démarrage. Vous pouvez également exécuter <code>sessionInfo()</code>.</p>
<p>Pour mettre à jour R, allez sur le site web mentionné ci-dessus et réinstallez R. Alternativement, vous pouvez utiliser le paquet <strong>installr</strong> (sous Windows) en exécutant <code>installr::updateR()</code>. Cela ouvrira des boîtes de dialogue pour vous aider à télécharger la dernière version de R et à mettre à jour vos paquets vers la nouvelle version de R. Plus de détails peuvent être trouvés dans la <a href="https://www.r-project.org/nosvn/pandoc/installr.html">documentation de <strong>installr</strong></a>.</p>
<p>Sachez que l’ancienne version de R existera toujours sur votre ordinateur. Vous pouvez temporairement exécuter une ancienne version (ancienne “installation”) de R en cliquant sur “Outils” -&gt; “Options globales” dans RStudio et en choisissant une version de R. Cela peut être utile si vous voulez utiliser un paquet qui n’a pas été mis à jour pour fonctionner sur la version la plus récente de R.</p>
<p>Pour mettre à jour RStudio, vous pouvez aller sur le site Web ci-dessus et retélécharger RStudio. Une autre option consiste à cliquer sur “Aide” -&gt; “Vérifier les mises à jour” dans RStudio, mais cela peut ne pas montrer les toutes dernières mises à jour.</p>
<p>Pour savoir quelles versions de R, RStudio ou des paquets ont été utilisées lors de la réalisation de ce manuel, consultez la page sur <a href="editorial_style.fr.html">Notes techniques et choix éditoriaux</a>.</p>
</section><section id="autres-logiciels-que-vous-pourriez-avoir-besoin-dinstaller" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="autres-logiciels-que-vous-pourriez-avoir-besoin-dinstaller">Autres logiciels que vous <em>pourriez</em> avoir besoin d’installer</h3>
<ul>
<li>TinyTeX (<em>pour la compilation d’un document RMarkdown au format PDF</em>)</li>
<li>Pandoc (<em>pour compiler des documents RMarkdown</em>)</li>
<li>RTools (<em>pour construire des paquets pour R</em>)</li>
<li>phantomjs (<em>pour enregistrer des images fixes de réseaux animés, tels que des chaînes de transmission</em>)</li>
</ul>
<section id="tinytex" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="tinytex">TinyTex</h4>
<p>TinyTex est une distribution LaTeX personnalisée, utile lorsqu’on essaie de produire des PDF à partir de R. Voir <a href="https://yihui.org/tinytex/" class="uri">https://yihui.org/tinytex/</a> pour plus d’informations.</p>
<p>Pour installer TinyTex à partir de R :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tinytex'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># pour désinstaller TinyTeX, lancez tinytex::uninstall_tinytex()</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="pandoc" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="pandoc">Pandoc</h4>
<p>Pandoc est un convertisseur de document, un logiciel séparé de R. <strong>Il est fourni avec RStudio et ne devrait pas avoir besoin d’être téléchargé.</strong> Il aide le processus de conversion de documents Rmarkdown à des formats comme .pdf et ajoute des fonctionnalités complexes.</p>
</section><section id="rtools" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="rtools">RTools</h4>
<p>RTools est une collection de logiciels permettant de construire des paquets pour R.</p>
<p>Installer à partir de ce site web : <a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a></p>
</section><section id="phantomjs" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="phantomjs">phantomjs</h4>
<p>Cet outil est souvent utilisé pour faire des “captures d’écran” despages web. Par exemple, lorsque vous faites une chaîne de transmission avec le paquet <strong>epicontacts</strong>, un fichier HTML interactif et dynamique est produit. Si vous voulez une image statique, il peut être utile d’utiliser le paquet <a href="https://wch.github.io/webshot/articles/intro.html"><strong>webshot</strong></a> pour automatiser ce processus. Cela nécessite le programme externe “phantomjs”. Vous pouvez installer phantomjs via le paquet <strong>webshot</strong> avec la commande <code>webshot::install_phantomjs()</code>.</p>
<!-- ======================================================= -->
</section></section><section id="rstudio" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="rstudio">
<span class="header-section-number">3.4.1</span> RStudio</h3>
</section><section id="orientation-de-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="orientation-de-rstudio">Orientation de RStudio</h3>
<p><strong>D’abord, ouvrez RStudio.</strong> Comme leurs icônes peuvent être très similaires, assurez-vous que vous ouvrez bien <em>RStudio</em> et non pas R.</p>
<p>Pour que RStudio fonctionne, vous devez également avoir R installé sur l’ordinateur (voir ci-dessus pour les instructions d’installation).</p>
<p><strong>RStudio</strong> est une interface (GUI) pour une utilisation plus facile de <strong>R</strong>. Vous pouvez considérer R comme le moteur d’un véhicule, qui effectue le travail crucial, et RStudio comme le corps du véhicule (avec les sièges, les accessoires, etc.) qui vous aide à utiliser le moteur pour avancer ! Vous pouvez consulter la fiche technique complète de l’interface utilisateur de RStudio (PDF) <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">ici</a></p>
<p>Par défaut, RStudio affiche quatre volets rectangulaires.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/RStudio_overview.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="../images/RStudio_overview.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><span style="color: black;"><strong><em>TIP:</em></strong> Si votre RStudio n’affiche qu’un seul volet gauche, c’est parce que vous n’avez pas encore de scripts ouverts.</span></p>
<p><strong>Le volet source</strong></p>
<p>Ce volet, par défaut en haut à gauche, est un espace pour éditer, exécuter et enregistrer vos <a href="#scripts">scripts</a>. Les scripts contiennent les commandes que vous souhaitez exécuter. Ce volet peut également afficher des ensembles de données (cadres de données) pour les visualiser.</p>
<p>Pour les utilisateurs de Stata, ce volet est similaire aux fenêtres Do-file et Data Editor.</p>
<p><strong>Le volet Console R</strong></p>
<p>La console R, qui est par défaut le volet gauche ou inférieur gauche de R Studio, est le siège du “moteur” R. C’est là que les commandes sont réellement exécutées et que les sorties non graphiques et les messages d’erreur/d’avertissement apparaissent. Vous pouvez saisir et exécuter directement des commandes dans la console R, mais sachez que ces commandes ne sont pas enregistrées comme c’est le cas lorsque vous exécutez des commandes à partir d’un script.</p>
<p>Si vous êtes familier avec Stata, la console R ressemble à la fenêtre de commande et à la fenêtre des résultats.</p>
<p><strong>Le volet Environnement</strong></p>
<p>Ce volet, situé par défaut en haut à droite, est le plus souvent utilisé pour afficher de brefs résumés des <a href="#objets">objets</a> de l’environnement R dans la session en cours. Ces objets peuvent inclure des ensembles de données importés, modifiés ou créés, des paramètres que vous avez définis (par exemple, une semaine épi spécifique pour l’analyse), ou des vecteurs ou des listes que vous avez définis pendant l’analyse (par exemple, les noms des régions). Vous pouvez cliquer sur la flèche à côté du nom d’un cadre de données pour voir ses variables.</p>
<p>Dans Stata, cette fenêtre est très similaire à celle du gestionnaire de variables.</p>
<p>Ce volet contient également l’onglet “Historique” où vous pouvez voir les commandes que vous avez exécutées précédemment. Il comporte également un onglet “Tutoriel” où vous pouvez suivre des tutoriels R interactifs si vous avez installé le paquet <strong>learnr</strong>. En outre, il existe un volet “Connexions” pour les connexions aux bases de données externes. Si vous avez lié le répertoire actif à un dépôt sur Github, il y aura également un volet “Git”.</p>
<p><strong>Volets Graphiques, visionneuse, paquets et aide</strong></p>
<p>Le volet inférieur droit comprend plusieurs onglets importants. Les graphiques de tracé typiques, y compris les cartes, s’affichent dans le volet Tracé. Les sorties interactives ou HTML s’affichent dans le volet Visionneuse. Le volet Aide permet d’afficher la documentation et les fichiers d’aide. Le volet Fichiers est un navigateur qui peut être utilisé pour ouvrir ou supprimer des fichiers. Le volet Paquets vous permet de voir, d’installer, de mettre à jour, de supprimer, de charger/décharger des paquets R et de voir quelle version du paquet vous avez. Pour en savoir plus sur les paquets, consultez la <a href="#packages">section paquets</a> ci-dessous.</p>
<p>Ce volet contient les équivalents Stata des fenêtres Plots Manager et Project Manager.</p>
</section><section id="paramètres-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="paramètres-rstudio">Paramètres RStudio</h3>
<p>Modifiez les paramètres et l’apparence de RStudio dans le menu déroulant <em>Outiles</em>, en sélectionnant <em>Options globales</em>. Vous pouvez y modifier les paramètres par défaut, y compris l’apparence/couleur de fond.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="../images/RStudio_tools_options_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="../images/RStudio_tools_options_1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="../images/RStudio_tools_options.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="../images/RStudio_tools_options.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>Redémarrage</strong></p>
<p>Si votre R se fige, vous pouvez redémarrer R en allant dans le menu Session et en cliquant sur “Redémarrer R”. Cela vous évite de devoir fermer et ouvrir RStudio. Tout ce qui se trouve dans votre environnement R sera supprimé lorsque vous ferez cela.</p>
</section><section id="raccourcis-clavier" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="raccourcis-clavier">Raccourcis clavier</h3>
<p>Vous trouverez ci-dessous quelques raccourcis clavier très utiles. Vous trouverez tous les raccourcis clavier pour Windows, Max et Linux sur la deuxième page de ce <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">fichier technique</a> par RStudio.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 23%">
<col style="width: 18%">
<col style="width: 55%">
</colgroup>
<thead><tr class="header">
<th>Windows/Linux</th>
<th>Mac</th>
<th>Action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Esc</td>
<td>Esc</td>
<td>Interrompre la commande en cours (utile si vous avez accidentellement lancé une commande incomplète et que vous ne pouvez pas éviter de voir “+” dans la console R)</td>
</tr>
<tr class="even">
<td>Ctrl+s</td>
<td>Cmd+s</td>
<td>Sauvegarder (script)</td>
</tr>
<tr class="odd">
<td>Tab</td>
<td>Tab</td>
<td>Autocomplétion</td>
</tr>
<tr class="even">
<td>Ctrl + Enter</td>
<td>Cmd + Enter</td>
<td>Exécuter la ou les ligne(s) courante(s)/sélection(s) de code</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + C</td>
<td>Cmd + Shift + c</td>
<td>commenter/dé-commenter les lignes souslignées</td>
</tr>
<tr class="even">
<td>Alt + -</td>
<td>Option +</td>
<td>Insérer <code>&lt;-</code>
</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + m</td>
<td>Cmd + Shift + m</td>
<td>Insérer <code>%&gt;%</code>
</td>
</tr>
<tr class="even">
<td>Ctrl + l</td>
<td>Cmd + l</td>
<td>Effacer le contenu de la console R</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + b</td>
<td>Cmd + Option + b</td>
<td>Exécuter du début à la ligne courante</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + t</td>
<td>Cmd + Option + t</td>
<td>Exécuter la section de code actuelle (R Markdown)</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + i</td>
<td>Cmd + Shift + r</td>
<td>Insérer un morceau de code (en R Markdown)</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + c</td>
<td>Cmd + Option + c</td>
<td>Exécuter le morceau de code actuel (en R Markdown)</td>
</tr>
<tr class="odd">
<td>Flèches haut/bas dans la console R</td>
<td>Idem</td>
<td>Basculer entre les commandes récemment exécutées</td>
</tr>
<tr class="even">
<td>Shift + flèches haut/bas dans le script</td>
<td>Idem</td>
<td>Sélectionner plusieurs lignes de code</td>
</tr>
<tr class="odd">
<td>Ctrl + f</td>
<td>Cmd + f</td>
<td>Rechercher et remplacer dans le script actuel</td>
</tr>
<tr class="even">
<td>Ctrl + Shift + f</td>
<td>Cmd + Shift + f</td>
<td>Rechercher dans les dossiers (rechercher/remplacer dans plusieurs scripts)</td>
</tr>
<tr class="odd">
<td>Alt + l</td>
<td>Cmd + Option + l</td>
<td>Plier le code sélectionné</td>
</tr>
<tr class="even">
<td>Shift + Alt + l</td>
<td>Cmd + Shift + Option+l</td>
<td>Déplier le code sélectionné</td>
</tr>
</tbody>
</table>
<p><span style="color: darkgreen;"><strong><em>TIP:</em></strong> Utilisez votre touche de tabulation lorsque vous tapez pour activer la fonctionnalité de complétion automatique de RStudio. Cela peut éviter les fautes d’orthographe. Appuyez sur la touche Tab pendant la saisie pour produire un menu déroulant de fonctions et d’objets probables, en fonction de ce que vous avez tapé jusqu’à présent.</span></p>
<!-- ======================================================= -->
</section></section><section id="functions" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="functions">
<span class="header-section-number">3.5</span> Fonctions</h2>
<p>Les fonctions sont au cœur de l’utilisation de R. Les fonctions vous permettent d’effectuer des tâches et des opérations. De nombreuses fonctions sont installées avec R, beaucoup d’autres sont disponibles à télécharger dans des <em>paquets</em> (expliqués dans la section <a href="#packages">paquets</a>), et vous pouvez même écrire vos propres fonctions personnalisées !</p>
<p>Cette section de base sur les fonctions explique :</p>
<ul>
<li>Ce qu’est une fonction et comment elle fonctionne</li>
<li>Ce que sont les <em>paramètres</em> des fonctions</li>
<li>Comment obtenir de l’aide pour comprendre une fonction</li>
</ul>
<p><em>Une note rapide sur la syntaxe :</em> Dans ce manuel, les fonctions sont écrites en code-texte avec des parenthèses vides, comme ceci : <code>filter()</code>. Comme expliqué dans la section <a href="#packages">paquets</a>, les fonctions sont téléchargées dans des <em>paquets</em>. Dans ce manuel, les noms de paquets sont écrits en <strong>gras</strong>, comme <strong>dplyr</strong>. Parfois, dans le code d’exemple, vous pouvez voir le nom de la fonction lié explicitement au nom de son paquet avec deux points de suspension (<code>::</code>) comme ceci : <code>dplyr::filter()</code>. Le but de ce lien est expliqué dans la section sur les paquets.</p>
<!-- ======================================================= -->
<section id="fonctions-simples" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="fonctions-simples">Fonctions simples</h3>
<p><strong>Une fonction est comme une machine qui reçoit des entrées, effectue une action avec ces entrées, et produit une sortie.</strong> La nature de la sortie dépend de la fonction.</p>
<p><strong>Les fonctions opèrent généralement sur un objet placé entre les parenthèses de la fonction</strong>. Par exemple, la fonction <code>sqrt()</code> calcule la racine carrée d’un nombre :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">49</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>L’objet fourni à une fonction peut également être une colonne dans un jeu de données (voir la section <a href="#objects">Objets</a> pour plus de détails sur tous les types d’objets). Comme R peut stocker plusieurs jeux de données, vous devrez spécifier à la fois le jeu de données et la colonne. Une façon de le faire est d’utiliser la notation <code>$</code> pour lier le nom du jeu de données et le nom de la colonne (<code>dataset$column</code>). Dans l’exemple ci-dessous, la fonction <code>summary()</code> est appliquée à la colonne numérique <code>age</code> du jeu de données <code>linelist</code>, et la sortie est un résumé des valeurs numériques et manquantes de la colonne.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimez les statistiques sommaires de la colonne 'age' dans le jeu de données 'linelist'.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
</div>
<p><span style="color: black;"><strong><em>NOTE:</em></strong> En coulisses, une fonction représente un code supplémentaire complexe qui a été regroupé pour l’utilisateur dans une seule commande simple.</span></p>
<!-- ======================================================= -->
</section><section id="fonctions-à-paramètres-multiples" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="fonctions-à-paramètres-multiples">Fonctions à paramètres multiples</h3>
<p>Les fonctions demandent souvent plusieurs entrées, appelées <strong><em>paramètres</em></strong>, situées entre les parenthèses de la fonction, généralement séparées par des virgules.</p>
<ul>
<li>Certains paramètres sont obligatoires pour que la fonction fonctionne correctement, d’autres sont facultatifs<br>
</li>
<li>Les paramètres facultatifs ont des valeurs par défaut<br>
</li>
<li>Les paramètres peuvent prendre des entrées de type caractère, numérique, logique (VRAI/FAUX) et autres.</li>
</ul>
<p>Voici une fonction fictive amusante, appelée <code>oven_bake()</code> (cuisson au four), comme exemple d’une fonction typique. Elle prend un objet comme entrée (par exemple un jeu de données, ou dans cet exemple “pâte”) et effectue des opérations sur celui-ci comme spécifié par des paramètres supplémentaires (<code>minutes =</code> et <code>température =</code>). La sortie peut être imprimée sur la console, ou sauvegardée comme un objet en utilisant l’opérateur d’affectation <code>&lt;-</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/Function_Bread_Example.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="../images/Function_Bread_Example.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><strong>Dans un exemple plus réaliste</strong>, la commande <code>age_pyramid()</code> ci-dessous produit un graphique de pyramide des âges basé sur des groupes d’âge définis et une colonne de division binaire, comme le genre <code>gender</code>. La fonction reçoit trois paramètres entre parenthèses, séparés par des virgules. Les valeurs fournies aux paramètres établissent <code>linelist</code> comme le cadre de données à utiliser, <code>age_cat5</code> comme la colonne à compter, et <code>gender</code> comme la colonne binaire à utiliser pour diviser la pyramide par couleur.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer une pyramide des âges</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(<span class="at">data =</span> linelist, <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="at">split_by =</span> <span class="st">"gender"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="basics.fr_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="basics.fr_files/figure-html/unnamed-chunk-6-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>La commande ci-dessus peut être écrite de manière équivalente comme ci-dessous, dans un style plus long avec une nouvelle ligne pour chaque argument. Ce style peut être plus facile à lire, et plus facile d’écrire des “commentaires” avec # pour expliquer chaque partie (commenter abondamment est une bonne pratique !). Pour exécuter cette commande plus longue, vous pouvez souligner la commande entière et cliquer sur “Run”, ou simplement placer votre curseur sur la première ligne et appuyer simultanément sur les touches <code>Ctrl</code> et <code>Enter</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer une pyramide des âges</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> linelist,        <span class="co"># utiliser la liste linéaire des cas</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_group =</span> <span class="st">"age_cat5"</span>, <span class="co"># fournir une colonne de groupe d'âge</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">split_by =</span> <span class="st">"gender"</span>     <span class="co"># utiliser la colonne genre pour les deux côtés de la pyramide</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="basics.fr_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="basics.fr_files/figure-html/unnamed-chunk-7-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>La première moitié d’une affectation de paramètre (par exemple <code>data =</code>) n’a pas besoin d’être spécifiée si les paramètres sont écrits dans un ordre spécifique (spécifié dans la documentation de la fonction). Le code ci-dessous produit exactement la même pyramide que ci-dessus, parce que la fonction attend l’ordre des paramètres : cadre de données, le variable <code>age_group</code>, puis le variable <code>split_by</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cette commande produira exactement le même graphique que ci-dessus</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(linelist, <span class="st">"age_cat5"</span>, <span class="st">"gender"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Une commande <code>age_pyramid()</code> plus complexe pourrait inclure les paramètres <em>optionnels</em> pour :</strong></p>
<ul>
<li>Afficher les proportions au lieu des nombres (définissez <code>proportional = TRUE</code> (vrai) quand la valeur par défaut est <code>FALSE</code> (faux))</li>
<li>Spécifier les deux couleurs à utiliser (<code>pal =</code> est l’abréviation de “palette” et est fourni avec un vecteur de deux noms de couleurs. Voir la page <a href="#objectstructure">objets</a> pour savoir comment la fonction <code>c()</code> fabrique un vecteur).</li>
</ul>
<p><span style="color: black;"><strong><em>NOTE:</em></strong> Pour les paramètres que vous spécifiez avec les deux parties du paramètre (par exemple <code>proportional = TRUE</code>), leur ordre parmi tous les paramètres n’a pas d’importance.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">age_pyramid</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  linelist,                    <span class="co"># utiliser la liste linéaire des cas</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"age_cat5"</span>,                  <span class="co"># colonne de groupe d'âge</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gender"</span>,                    <span class="co"># répartition par genre</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">proportional =</span> <span class="cn">TRUE</span>,         <span class="co"># pourcentage au lieu du nombre</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pal =</span> <span class="fu">c</span>(<span class="st">"orange"</span>, <span class="st">"purple"</span>)  <span class="co"># couleurs</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="basics.fr_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="basics.fr_files/figure-html/unnamed-chunk-8-1.png" style="width:75.0%;height:75.0%" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section><section id="ecrire-des-fonctions" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="ecrire-des-fonctions">Ecrire des fonctions</h3>
<p>R est un langage orienté autour des fonctions, vous devez donc vous sentir capable d’écrire vos propres fonctions. La création de fonctions présente plusieurs avantages :</p>
<ul>
<li>Faciliter la programmation modulaire - la séparation du code en morceaux indépendants et gérables</li>
<li>Remplacer le copier-coller répétitif, qui peut être source d’erreurs</li>
<li>Donner des noms mémorisables aux morceaux de code</li>
</ul>
<p>L’écriture d’une fonction est traitée en détail à la page <a href="writing_functions.fr.html">Écriture de fonctions</a>.</p>
<!-- ======================================================= -->
</section></section><section id="packages" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="packages">
<span class="header-section-number">3.6</span> Paquets</h2>
<p><strong>Les paquets contiennent des fonctions.</strong></p>
<p>Un paquet en R est un ensemble partageable de code et de documentation qui contient des fonctions prédéfinies. Les utilisateurs de la communauté R développent en permanence des packages répondant à des problèmes spécifiques; donc il est probable que l’un d’entre eux puisse vous aider dans votre travail ! Vous allez installer et utiliser des centaines de paquets dans votre utilisation de R.</p>
<p>À l’installation, R contient des paquets et des fonctions <strong>“de base”</strong> qui effectuent des tâches élémentaires communes. Mais de nombreux utilisateurs de R créent des fonctions spécialisées, qui sont vérifiées par la communauté R et que vous pouvez télécharger en tant que <strong>paquet</strong> pour votre propre usage. Dans ce manuel, les noms des paquets sont écrits en <strong>gras</strong>. L’un des aspects les plus difficiles de R est qu’il existe souvent de nombreuses fonctions ou paquets parmi lesquels on peut choisir pour effectuer une tâche donnée.</p>
<section id="installer-et-charger" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="installer-et-charger">Installer et charger</h3>
<p>Les <em>fonctions</em> sont contenues dans des <strong>paquets</strong> qui peuvent être téléchargés (“installés”) sur votre ordinateur à partir d’Internet. Une fois qu’un paquet est téléchargé, il est stocké dans votre “bibliothèque”. Vous pouvez alors accéder aux fonctions qu’il contient pendant votre séance R actuelle en “chargeant” le paquet.</p>
<p><em>Pensez à R comme votre bibliothèque personnelle</em> : Lorsque vous téléchargez un paquet, votre bibliothèque gagne un nouveau livre de fonctions, mais chaque fois que vous voulez utiliser une fonction de ce livre, vous devez emprunter (“charger”) ce livre dans votre bibliothèque.</p>
<p>En résumé : pour utiliser les fonctions disponibles dans un paquet R, deux étapes doivent être mises en œuvre :</p>
<ol type="1">
<li>Le paquet doit être <strong>installé</strong> (une fois), <em>et</em>
</li>
<li>Le paquet doit être <strong>chargé</strong> (à chaque séance R)</li>
</ol>
<section id="votre-bibliothèque" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="votre-bibliothèque">Votre bibliothèque</h4>
<p>Votre “bibliothèque” est en fait un dossier sur votre ordinateur, contenant un dossier pour chaque paquet qui a été installé. Déterminez où R est installé sur votre ordinateur, et cherchez un dossier appelé “win-library”. Par exemple : <code>R\win-library\4.0</code> (4.0 est la version de R). Notez que vous aurez une bibliothèque différente pour chaque version de R que vous avez téléchargée.</p>
<p>Vous pouvez imprimer le chemin d’accès à votre bibliothèque en entrant<code>.libPaths()</code> (parenthèses vides). Ceci devient particulièrement important si vous travaillez avec <a href="network_drives.fr.html">R sur des lecteurs réseau</a>.</p>
</section><section id="installer-à-partir-du-cran" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="installer-à-partir-du-cran">Installer à partir du CRAN</h4>
<p>Le plus souvent, les utilisateurs de R téléchargent des paquets depuis CRAN. CRAN (Comprehensive R Archive Network) est un entrepôt public en ligne de paquets R qui ont été publiés par des membres de la communauté R.</p>
<p>Vous vous inquiétez des virus et de la sécurité lorsque vous téléchargez un paquet depuis CRAN ? Lisez <a href="https://support.rstudio.com/hc/en-us/articles/360042593974-R-and-R-Package-Security">cet article</a> à ce sujet.</p>
</section><section id="comment-installer-et-charger" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="comment-installer-et-charger">Comment installer et charger</h4>
<p>Dans ce manuel, nous suggérons d’utiliser le paquet <strong>pacman</strong> (abréviation de “package manager” en anglais). Il offre une fonction pratique <code>p_load()</code> qui installera un paquet si nécessaire <em>et</em> le chargera pour l’utiliser dans la séance R actuelle.</p>
<p>La syntaxe est assez simple. Il suffit de lister les noms des paquets entre les parenthèses de <code>p_load()</code>, séparés par des virgules.</p>
<p>La commande ci-dessous installera les paquets <strong>rio</strong>, <strong>tidyverse</strong>, et <strong>here</strong> s’ils ne sont pas encore installés, et les chargera pour les utiliser. Cela rend l’approche <code>p_load()</code> pratique et concise si vous partagez des scripts avec d’autres personnes. Notez que les noms des paquets sont sensibles à la casse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer (si nécessaire) et charger les paquets pour l'utilisation</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(rio, tidyverse, here)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notez que nous avons utilisé la syntaxe <code>pacman::p_load()</code> qui écrit explicitement le nom du paquet (<strong>pacman</strong>) avant le nom de la fonction (<code>p_load()</code>), reliés par deux deux points <code>::</code>. Cette syntaxe est utile car elle charge également le paquet <strong>pacman</strong> (en supposant qu’il soit déjà installé).</p>
<p>Il existe d’autres fonctions R <strong>de base</strong> que vous verrez souvent. La fonction R <strong>de base</strong> pour installer un paquet est <code>install.packages()</code>. Le nom du paquet à installer doit être fourni entre les parenthèses et <em>entre guillemets</em>. Si vous voulez installer plusieurs paquets en une seule commande, ils doivent être listés dans un vecteur de caractères <code>c()</code>.</p>
<p>Remarque : cette commande <em>installe</em> un paquet, mais ne le charge <em>pas</em> pour l’utiliser dans la séance en cours.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer un seul paquet avec la base R</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer plusieurs paquets avec la base R</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"rio"</span>, <span class="st">"here"</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>L’installation peut également être effectuée par pointer-cliquer en allant dans le panneau “Packages” de RStudio, en cliquant sur “Installer” et en recherchant le nom du paquet souhaité.</p>
<p>La fonction <strong>base</strong> de R pour <strong>charger</strong> un paquet à utiliser (après qu’il ait été installé) est <code>library()</code>. Elle ne peut charger qu’un seul paquet à la fois (une autre raison d’utiliser <code>p_load()</code>). Vous pouvez fournir le nom du paquet avec ou sans guillemets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Charger des paquets à utiliser, avec la base R</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour vérifier si un paquet est installé et/ou chargé, vous pouvez afficher le panneau des paquets dans RStudio. Si le paquet est installé, il est affiché avec son numéro de version. Si sa case est cochée, il est chargé pour la séance en cours.</p>
<p><strong>Installation depuis Github</strong></p>
<p>Parfois, vous avez besoin d’installer un paquet qui n’est pas encore disponible sur CRAN. Ou peut-être que le paquet est disponible sur CRAN mais que vous voulez la <em>version de développement</em> avec de nouvelles fonctionnalités qui ne sont pas encore proposées dans la version CRAN publiée, plus stable. Ces versions sont souvent hébergées sur le site Web <a href="https://github.com/">github.com</a> dans un “dépôt” de code libre et public. Pour en savoir plus sur Github, consultez la page du manuel intitulée <a href="collaboration.fr.html">Version control et collaboration avec GitHub</a>.</p>
<p>Pour télécharger des paquets R depuis Github, vous pouvez utiliser la fonction <code>p_load_gh()</code> de <strong>pacman</strong>, qui installera le paquet si nécessaire, et le chargera pour l’utiliser dans votre séance R actuelle. Les alternatives à l’installation incluent l’utilisation des paquets <strong>remotes</strong> ou <strong>devtools</strong>. Pour en savoir plus sur toutes les fonctions de <strong>pacman</strong>, consultez la <a href="https://cran.r-project.org/web/packages/pacman/pacman.pdf">documentation du paquet</a>.</p>
<p>Pour installer à partir de Github, vous devez fournir plus d’informations. Vous devez fournir :</p>
<ol type="1">
<li>L’ID Github (nom d’utilisateur) du propriétaire du dépôt.</li>
<li>Le nom du dépôt qui contient le paquet.</li>
<li>
<em>(facultatif) Le nom de la “branche” (version de développement spécifique) que vous souhaitez télécharger</em>.</li>
</ol>
<p>Dans les exemples ci-dessous, le premier mot entre guillemets est l’ID Github du propriétaire du dépôt. Après la barre oblique est le nom du dépôt (typiquement le nom du paquet).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer/charger le paquet epicontacts depuis son dépôt Github</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si vous voulez installer à partir d’une “branche” (version) autre que la branche principale, ajoutez le nom de la branche après un “@”, après le nom du dépôt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer la branche "timeline" du paquet epicontacts depuis Github</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load_gh</span>(<span class="st">"reconhub/epicontacts@timeline"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>S’il n’y a pas de différence entre la version Github et la version sur votre ordinateur, aucune action ne sera entreprise. Vous pouvez “forcer” une réinstallation en utilisant <code>p_load_current_gh()</code> avec le paramètre <code>update = TRUE</code>. Lisez plus sur <strong>pacman</strong> dans cette <a href="http://trinker.github.io/pacman/vignettes/Introduction_to_pacman.html">vignette en ligne</a></p>
<p><strong>Installation à partir d’un ZIP ou d’un TAR</strong></p>
<p>Vous pouvez installer le paquet à partir d’une URL :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>packageurl <span class="ot">&lt;-</span> <span class="st">"https://cran.r-project.org/src/contrib/Archive/dsr/dsr_0.2.2.tar.gz"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(packageurl, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">type =</span> <span class="st">"source"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ou bien, le télécharger sur votre ordinateur dans un fichier zippé :</p>
<p>Option 1 : utiliser <code>install_local()</code> du paquet <strong>remotes</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_local</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Option 2 : en utilisant <code>install.packages()</code> du R de <strong>base</strong>, en fournissant le chemin d’accès au fichier ZIP et en définissant <code>type = "source"</code> et <code>repos = NULL</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"~/Downloads/dplyr-master.zip"</span>, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">type =</span> <span class="st">"source"</span>, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repos =</span> <span class="cn">NULL</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="syntaxe-du-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="syntaxe-du-code">Syntaxe du code</h3>
<p>Pour plus de clarté dans ce manuel, les fonctions sont parfois précédées du nom de leur paquet en utilisant le symbole <code>::</code> de la manière suivante : <code>nom_du_paquet::nom_de_la_fonction()</code>.</p>
<p>Une fois qu’un paquet est chargé pour une séance, ce style explicite n’est plus nécessaire. On peut simplement utiliser <code>nom_de_la_fonction()</code>. Cependant, écrire le nom du paquet est utile lorsqu’un nom de fonction est commun et peut exister dans plusieurs paquets (par exemple, <code>plot()</code>). L’écriture du nom du paquet chargera également le paquet s’il n’est pas déjà chargé.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cette commande utilise le paquet "rio" et sa fonction "import()" pour importer un jeu de données</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"linelist.xlsx"</span>, <span class="at">which =</span> <span class="st">"Sheet1"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="aide-sur-les-fonctions" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="aide-sur-les-fonctions">Aide sur les fonctions</h3>
<p>Pour en savoir plus sur une fonction, vous pouvez la rechercher dans l’onglet Aide du RStudio en bas à droite. Vous pouvez également lancer une commande comme <code>?thefunctionname</code> (mettez le nom de la fonction après un point d’interrogation) et la page d’aide apparaîtra dans le volet d’aide. Enfin, essayez de rechercher des ressources en ligne.</p>
</section><section id="mettre-à-jour-les-paquets" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="mettre-à-jour-les-paquets">Mettre à jour les paquets</h3>
<p>Vous pouvez mettre à jour les paquets en les réinstallant. Vous pouvez également cliquer sur le bouton vert “Update” dans votre panneau “RStudio Packages” pour voir quels paquets ont de nouvelles versions à installer. Sachez que votre ancien code peut avoir besoin d’être mis à jour s’il y a une révision majeure du fonctionnement d’une fonction !</p>
</section><section id="supprimer-des-paquets" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="supprimer-des-paquets">Supprimer des paquets</h3>
<p>Utilisez <code>p_delete()</code> de <strong>pacman</strong>, ou <code>remove.packages()</code> de <strong>base</strong> R. Alternativement, allez chercher le dossier qui contient votre bibliothèque et supprimez manuellement le dossier.</p>
</section><section id="dépendances" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="dépendances">Dépendances</h3>
<p>Les paquets dépendent souvent d’autres paquets pour fonctionner. Ceux-ci sont appelés dépendances. Si une dépendance ne s’installe pas, le paquet qui en dépend peut également ne pas s’installer.</p>
<p>Voir les dépendances d’un paquet avec <code>p_depends()</code>, et voir quels paquets en dépendent avec <code>p_depends_reverse()</code>.</p>
</section><section id="fonctions-masquées" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="fonctions-masquées">Fonctions masquées</h3>
<p>Il n’est pas rare que deux paquets ou plus contiennent le même nom de fonction. Par exemple, le paquet <strong>dplyr</strong> possède une fonction <code>filter()</code>, mais le paquet <strong>stats</strong> aussi. La fonction <code>filter()</code> par défaut dépend de l’ordre dans lequel ces paquets sont chargés pour la première fois dans la séance R - le dernier sera la fonction par défaut de la commande <code>filter()</code>.</p>
<p>Vous pouvez vérifier l’ordre dans votre panneau Environnement de R Studio - cliquez sur la liste déroulante pour “Global Environment” et voyez l’ordre des paquets. Les fonctions des paquets <em>inférieurs</em> dans cette liste déroulante masqueront les fonctions du même nom dans les paquets qui apparaissent plus haut dans la liste déroulante. Lors du premier chargement d’un paquet, R vous avertira dans la console si le masquage se produit, mais il est facile de ne pas le voir.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/masking_functions.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="../images/masking_functions.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>Voici comment vous pouvez corriger le masquage :</p>
<ol type="1">
<li>Spécifiez le nom du paquet dans la commande. Par exemple, utilisez <code>dplyr::filter()</code>
</li>
<li>Réorganisez l’ordre dans lequel les paquets sont chargés (par exemple, dans <code>p_load()</code>), et <strong>démarrez une nouvelle séance R</strong>.</li>
</ol></section><section id="détacher-décharger" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="détacher-décharger">Détacher / décharger</h3>
<p>Pour détacher (décharger) un paquet, utilisez cette commande, avec le nom correct du paquet et un seul deux-points. Notez que cela peut ne pas résoudre le masquage.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(package<span class="sc">:</span>NOM_DU_PAQUET_ICI, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="installer-une-ancienne-version" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="installer-une-ancienne-version">Installer une ancienne version</h3>
<p>Consultez ce <a href="https://support.rstudio.com/hc/en-us/articles/219949047-Installing-older-versions-of-packages">guide</a> pour installer une ancienne version d’un paquet particulier.</p>
</section><section id="paquets-suggérés" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="paquets-suggérés">Paquets suggérés</h3>
<p>Voir la page <a href="packages_suggested.fr.html">Paquets suggérés</a> pour une liste de paquets que nous recommandons pour l’épidémiologie quotidienne.</p>
<!-- ======================================================= -->
</section></section><section id="scripts" class="level2" data-number="3.7"><h2 data-number="3.7" class="anchored" data-anchor-id="scripts">
<span class="header-section-number">3.7</span> Scripts</h2>
<p>Les scripts sont une partie fondamentale de la programmation. Ce sont des documents qui contiennent vos commandes (par exemple, des fonctions pour créer et modifier des jeux de données, imprimer des visualisations, etc). Vous pouvez sauvegarder un script et l’exécuter à nouveau ultérieurement. Le stockage et l’exécution de vos commandes à partir d’un script présentent de nombreux avantages (par rapport à la saisie des commandes une par une dans la “ligne de commande” de la console R) :</p>
<ul>
<li>Portabilité : vous pouvez partager votre travail avec d’autres personnes en leur envoyant vos scripts</li>
<li>Reproductibilité : pour que vous et les autres sachiez exactement ce que vous avez fait</li>
<li>Contrôle de version : pour que vous puissiez suivre les modifications apportées par vous-même ou par vos collègues</li>
<li>Commentaire/annotation : pour expliquer à vos collègues ce que vous avez fait</li>
</ul>
<section id="commentaire" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="commentaire">Commentaire</h3>
<p>Dans un script, vous pouvez également annoter (“commenter”) votre code R. Les commentaires sont utiles pour expliquer à vous-même et aux autres lecteurs ce que vous faites. Vous pouvez ajouter un commentaire en tapant le symbole dièse (#) et en écrivant votre commentaire après. Le texte commenté apparaîtra dans une couleur différente de celle du code R.</p>
<p>Tout code écrit après le # ne sera pas exécuté. Par conséquent, placer un # avant le code est également un moyen utile de bloquer temporairement une ligne de code (“commenter”) si vous ne souhaitez pas la supprimer). Vous pouvez mettre en commentaire plusieurs lignes à la fois en les soulignant et en appuyant sur Ctrl+Shift+c (Cmd+Shift+c sur Mac).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un commentaire peut être sur une ligne par lui-même, ex.:</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Importer des données:</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"linelist_raw.xlsx"</span>) <span class="sc">%&gt;%</span> <span class="co"># un commentaire peut aussi venir après le code</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>     <span class="co"># filter(age &gt; 50)</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Il peut aussi être utilisé pour désactiver une ligne de code</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous trouverez ci-dessous quelques conseils essentiels pour commenter et annoter votre code :</p>
<ul>
<li>Commentez <em>ce que vous faites</em> et <em>pourquoi</em> vous le faites</li>
<li>Découpez votre code en sections logiques</li>
<li>Accompagnez votre code d’une description textuelle étape par étape de ce que vous faites (par exemple, des étapes numérotées).</li>
</ul></section><section id="style" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="style">Style</h3>
<p>Il est important d’être conscient de votre style de codage, surtout si vous travaillez en équipe. Nous préconisons le <strong>tidyverse</strong> <a href="https://style.tidyverse.org/">guide de style</a>. Il existe également des paquets tels que <strong>styler</strong> et <strong>lintr</strong> qui vous aident à vous conformer à ce style.</p>
<p>Quelques points très basiques pour rendre votre code lisible pour les autres:</p>
<ul>
<li>Lorsque vous nommez des objets, n’utilisez que des lettres minuscules, des chiffres et des traits de soulignement <code>_</code>, par exemple <code>mes_donnees</code>
</li>
<li>Utilisez fréquemment des espaces, y compris autour des opérateurs, par exemple <code>n = 1</code> et <code>age_nouveau &lt;- age_vieillesse + 3</code>.</li>
</ul></section><section id="exemple-de-script" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exemple-de-script">Exemple de script</h3>
<p>Vous trouverez ci-dessous un exemple d’un court script R. N’oubliez pas que plus vous expliquerez succinctement votre code dans les commentaires, plus vos collègues vous apprécieront !</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/example_script.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="../images/example_script.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<!-- ======================================================= -->
</section><section id="r-markdown" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="r-markdown">R markdown</h3>
<p>Un script R markdown est un type de script R dans lequel le script lui-même <em>devient</em> un document de sortie (PDF, Word, HTML, Powerpoint, etc.). Ce sont des outils incroyablement utiles et polyvalents, souvent utilisés pour créer des rapports dynamiques et automatisés. Même ce site Web et ce manuel sont produits à l’aide de scripts R markdown !</p>
<p>Il convient de noter que les utilisateurs débutants de R peuvent également utiliser R Markdown - ne vous laissez pas intimider !Pour en savoir plus, consultez la page du manuel consacrée aux <a href="rmarkdown.fr.html">rapports avec R Markdown</a>.</p>
<!-- ======================================================= -->
</section><section id="carnets-de-notes-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="carnets-de-notes-r">Carnets de notes R</h3>
<p>Il n’y a pas de différence entre écrire dans un Rmarkdown et un R notebook. Cependant, l’exécution du document diffère légèrement. Voir ce <a href="http://uc-r.github.io/r_notebook">site</a> pour plus de détails.</p>
<!-- ======================================================= -->
</section><section id="shiny" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="shiny">Shiny</h3>
<p>Les applications/sites web Shiny sont contenus dans un script, qui doit être nommé <code>app.R</code>. Ce fichier comporte trois éléments :</p>
<ol type="1">
<li>Une interface utilisateur (ui)</li>
<li>Une fonction serveur</li>
<li>Un appel à la fonction <code>shinyApp</code>
</li>
</ol>
<p>Consultez la page du manuel sur <a href="#shiny">les teableaux de bord avec Shiny</a>, ou ce tutoriel en ligne : <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/">Tutoriel Shiny</a></p>
<p><em>Auparavant, le fichier ci-dessus était divisé en deux fichiers (<code>ui.R</code> et <code>server.R</code>)</em>.</p>
</section><section id="repli-du-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="repli-du-code">Repli du code</h3>
<p>Vous pouvez replier des portions de code pour rendre votre script plus facile à lire.</p>
<p>Pour ce faire, créez un en-tête de texte avec #, écrivez votre en-tête, et faites-le suivre d’au moins 4 tirets (-), hachages (#) ou égaux (=). Lorsque vous aurez fait cela, une petite flèche apparaîtra dans la “gouttière” à gauche (près du numéro de ligne). Vous pouvez cliquer sur cette flèche et sur le code situé en dessous jusqu’à ce que l’en-tête suivant se réduise et qu’une icône à double flèche apparaisse à sa place.</p>
<p>Pour développer le code, cliquez à nouveau sur la flèche dans la gouttière ou sur l’icône à double flèche. Il existe également des raccourcis clavier, comme expliqué dans la section <a href="#rstudio">RStudio</a> de cette page.</p>
<p>En créant des en-têtes avec #, vous activerez également la table des matières au bas de votre script (voir ci-dessous) que vous pouvez utiliser pour naviguer dans votre script. Vous pouvez créer des sous-titres en ajoutant d’autres symboles, par exemple # pour les titres primaires, ## pour les titres secondaires et ### pour les titres tertiaires.</p>
<p>Vous trouverez ci-dessous deux versions d’un exemple de script. À gauche, l’original avec des en-têtes commentés. À droite, quatre tirets ont été écrits après chaque en-tête, les rendant ainsi repliables. Deux d’entre eux ont été réduits, et vous pouvez voir que la table des matières en bas de page affiche maintenant chaque section.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="../images/code_folding1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="../images/code_folding1.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="../images/code_folding2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="../images/code_folding2.png" class="img-fluid figure-img" style="width:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>D’autres zones de code qui sont automatiquement éligibles pour le pliage incluent les régions “accolées” avec des parenthèses <code>{ }</code> telles que les définitions de fonctions ou les blocs conditionnels (instructions “if else”). Vous pouvez en savoir plus sur le pliage du code sur le <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections">site RStudio</a>.</p>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section></section><section id="répertoire-de-travail" class="level2" data-number="3.8"><h2 data-number="3.8" class="anchored" data-anchor-id="répertoire-de-travail">
<span class="header-section-number">3.8</span> Répertoire de travail</h2>
<p>Le répertoire de travail est l’emplacement du dossier racine utilisé par R pour votre travail - où R recherche et enregistre les fichiers par défaut. Par défaut, il enregistrera de nouveaux fichiers et sorties à cet emplacement et recherchera ici des fichiers (par exemple, des ensembles de données).</p>
<p>Le répertoire de travail apparaît dans le texte gris en haut du volet de la console RStudio. Vous pouvez également imprimer le répertoire de travail actuel en exécutant <code>getwd()</code> (laissez les parenthèses vides).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/working_directory_1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="../images/working_directory_1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="approche-recommandée" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="approche-recommandée">Approche recommandée</h3>
<p><strong>Voir la page sur</strong> <a href="r_projects.fr.html">projets R</a> pour plus de détails sur notre approche recommandée pour gérer votre répertoire de travail.</p>
<p>Un moyen commun, efficace et sans problème de gérer votre répertoire de travail et vos chemins de fichier consiste à combiner ces trois éléments dans un flux de travail du <a href="r_projects.fr.html">projets R</a> orienté comme expliqué ci-dessous:</p>
<ol type="1">
<li>Un projet R pour stocker tous vos fichiers (voir page sur <a href="r_projects.fr.html">projets R</a>)</li>
<li>Le paquet <strong>here</strong> pour localiser les fichiers (voir page sur <a href="importing.fr.html">importer et exporter</a>)</li>
<li>Le paquet <strong>rio</strong> pour importer ou exporter des fichiers (voir page sur <a href="importing.fr.html">importer et exporter</a>)</li>
</ol>
<!-- ======================================================= --></section><section id="définir-le-répertoire-de-travail-par-commande" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="définir-le-répertoire-de-travail-par-commande">Définir le répertoire de travail par commande</h3>
<p>Jusqu’à récemment, de nombreuses personnes apprenant R ont appris à commencer leurs scripts avec une commande <code>setwd()</code>. Veuillez plutôt envisager d’utiliser un flux de travail orienté par <a href="r_projects.fr.html">projets R</a> et lire les <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">raisons de ne pas utiliser <code>setwd()</code></a>.</p>
<p>En bref, votre travail devient spécifique à votre ordinateur, les chemins de fichier utilisés pour importer et exporter des fichiers deviennent “cassants”, ce qui entrave gravement la collaboration et l’utilisation de votre code sur tout autre ordinateur. Heureusement il existe des alternatives faciles!</p>
<p>Comme indiqué ci-dessus, bien que nous ne recommandons pas cette approche dans la plupart des cas, vous pouvez utiliser la commande <code>setwd()</code> avec le chemin du fichier de dossier souhaité dans les citations, par exemple:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Documents/R Files/My analysis"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:red;"><strong><em>DANGER:</em></strong> Définition d’un répertoire de travail avec <code>setwd()</code> <em>peut</em> être “cassant” si le chemin de fichier est spécifique à un ordinateur. Au lieu de cela, utilisez des chemins de fichier par rapport à un répertoire racine du projet R (avec le paquet <strong>here</strong>).</span></p>
<!-- ======================================================= -->
</section><section id="définir-manuellement-le-répertoire-de-travail" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="définir-manuellement-le-répertoire-de-travail">Définir manuellement le répertoire de travail</h3>
<p>Pour définir le répertoire de travail manuellement (l’équivalent graphique du <code>setwd()</code>), cliquez sur le menu déroulant “Session” et accédez à “Set Working Directory”, puis “Choose Directory”. Cela définira le répertoire de travail pour cette scéance spécifique de R. Remarque: Si vous utilisez cette approche, vous devrez le faire manuellement chaque fois que vous ouvrez Rstudio.</p>
<!-- ======================================================= -->
</section><section id="définir-le-répertoire-de-travail-dans-un-projet-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="définir-le-répertoire-de-travail-dans-un-projet-r">Définir le répertoire de travail dans un projet R</h3>
<p>Si vous utilisez un projet R, le répertoire de travail sera par défaut dans le dossier racine du projet R qui contient le fichier <code>.rproj</code>. Cela s’appliquera si vous ouvrez RStudio en cliquant sur le projet R (le fichier avec l’extension <code>.rproj</code>).</p>
<!-- ======================================================= -->
</section><section id="répertoire-de-travail-dans-un-script-r-markdown" class="level3 Unnumbered" data-number="3.8.1"><h3 class="Unnumbered anchored" data-number="3.8.1" data-anchor-id="répertoire-de-travail-dans-un-script-r-markdown">
<span class="header-section-number">3.8.1</span> Répertoire de travail dans un script R Markdown</h3>
<p>Dans un script R Markdown, le répertoire de travail par défaut est le dossier ou le fichier RMarkdown (<code>.rmd</code>) est enregistré. Si vous utilisez un projet R et le paquet <strong>here</strong>, cela ne s’applique pas et le répertoire de travail sera <code>here()</code>, comme expliqué dans la page <a href="r_projects.fr.html">projets R</a>.</p>
<p>Si vous souhaitez modifier le répertoire de travail d’une dossier RMarkdown autonome (qui ne fait pas partie d’un projet R), et vous utilisez <code>setwd()</code>, cela ne s’appliquera qu’à ce morceau de code spécifique. Pour modifier tous les morceaux de code dans une dossier RMarkdown, modifiez le morceau de configuration pour ajouter le paramètre <code>root.dir =</code>, comme ci-dessous:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">'desired/directorypath'</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Il est beaucoup plus facile d’utiliser simplement le script RMarkdown dans un projet R et d’utiliser le paquet <strong>here</strong>.</p>
<!-- ======================================================= -->
</section><section id="fournir-des-chemins-de-fichier" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="fournir-des-chemins-de-fichier">Fournir des chemins de fichier</h3>
<p>La source de frustration la plus commune pour un débutant R (au moins sur un ordinateur avec Windows) est de saisir un chemin de fichier pour importer ou exporter des données. Il existe une explication approfondie sur la meilleure façon de saisir les chemins de fichier de saisie dans la page <a href="importing.fr.html">importer et exporter</a>, mais voici quelques points clés:</p>
<p><strong>Chemins cassés</strong></p>
<p>Vous trouverez ci-dessous un exemple de chemin de fichier “absolute” avec un “adresse complète”. Ceux-ci se casseront probablement s’ils sont utilisés par un autre ordinateur. Une exception est si vous utilisez un dossier sur un réseau partagé.</p>
<pre><code>C:/Utilisateurs/Nom/Document/Logiciels analytiques/R/Projets/Analyse2019/data/mars2019.csv</code></pre>
<p><strong>Direction de la barre oblique</strong></p>
<p><em>Si vous saisissez un chemin de fichier, soyez conscient de la direction des barres obliques.</em> Utilisez <em>des barres obliques vers l’avant</em> (<code>/</code>) pour séparer les composants, par exemple <code>Data/Provincial.csv</code>. Le défaut pour les ordinateurs avec Windows est de séparer les composants du chemin avec <em>des barres obliques en arrière</em> (<code>\\</code>). Vous devrez donc modifier la direction de chaque barre oblique. Si vous utilisez le paquet <strong>here</strong> comme décrit dans la page <a href="r_projects.fr.html">projets R</a>, la direction des barres obliques n’est pas un problème.</p>
<p><strong>Chemins de fichiers relatifs</strong></p>
<p>Nous recommandons généralement de utiliser des fichiers avec chemins “relatifs” - c’est-à-dire le chemin <em>par rapport à</em> la racine de votre projet R. Vous pouvez le faire en utilisant le paquet <strong>here</strong> comme expliqué dans la page <a href="r_projects.fr.html">projets R</a>. Un chemin de fichiers relatif peut ressembler à ceci:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importer csv Linelist à partir de données/listes linéare/propres/sous-dossiers d'un projet R</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"linelists"</span>, <span class="st">"marin_country.csv"</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Même si vous utilisez des chemins de fichiers relatifs dans un projet R, vous pouvez toujours utiliser des chemins absolus pour importer/exporter des données en dehors de votre projet R.</p>
<!-- ======================================================= -->
</section></section><section id="objets" class="level2" data-number="3.9"><h2 data-number="3.9" class="anchored" data-anchor-id="objets">
<span class="header-section-number">3.9</span> Objets</h2>
<p>Tout dans R est un objet, et R est une langue “orienté sur l’objet”. Les sections suivantes expliquent:</p>
<ul>
<li>Comment créer des objets (<code>&lt;-</code>)</li>
<li>Types d’objets (par exemple, trames de données, vecteurs ..)</li>
<li>Comment accéder à des sous-parties d’objets (par exemple, des variables dans un jeu de données)<br>
</li>
<li>Classes d’objets (ex. numérique, logique, nombres entieres, double, caractère, facteur)</li>
</ul>
<!-- ======================================================= --><section id="tout-est-un-objet" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="tout-est-un-objet">Tout est un objet</h3>
<p><em>Cette section est adaptée du <a href="https://r4epis.netlify.app/training/r_basics/objects/">projet R4Epis</a>.</em>Tout ce que vous stockez dans R - des ensembles de données, des variables, une liste de noms de villages, un nombre total de population, même des sorties telles que des graphiques - sont des <strong>objets</strong> qui sont <strong>attribués à un nom</strong> et <strong>peuvent être référencés</strong> dans les commandes ultérieures.</p>
<p>Un objet existe lorsque vous lui avez attribué une valeur (voir la section d’attribution ci-dessous). Lorsqu’une valeur lui est attribuée, l’objet apparaît dans l’environnement (voir le volet supérieur droit de RStudio). Il peut alors être exploité, manipulé, modifié et redéfini.</p>
<!-- ======================================================= -->
</section><section id="définir-des-objets--" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="définir-des-objets--">Définir des objets (<code>&lt;-</code>)</h3>
<p><strong>Créez des objets <em>en leur attribuant une valeur</em> avec l’opérateur <code>&lt;-</code>.</strong> Vous pouvez considérer l’opérateur d’affectation<code>&lt;-</code> comme les mots “est défini comme”. Les commandes d’affectation suivent généralement un ordre standard:</p>
<p><strong><code>nom_objet &lt;- valeur</code></strong> (ou processus/calcul qui produit une valeur)</p>
<p>Par exemple, vous souhaiterez peut-être enregistrer la semaine de rapport épidémiologique en cours en tant qu’objet de référence dans le code ultérieur. Dans cet exemple, l’objet <code>semaine_en_cours</code> est créé lorsqu’il reçoit la valeur <code>"2018-W10"</code> (les guillemets en font une valeur de caractère). L’objet <code>semaine_en_cours</code> apparaîtra alors dans le volet Environnement de RStudio (en haut à droite) et pourra être référencé dans les commandes ultérieures.</p>
<p>Voir les commandes R et leur sortie dans les cases ci-dessous.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer l'objet semaine_en_cours en lui attribuant une valeur:</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>semaine_en_cours <span class="ot">&lt;-</span> <span class="st">"2018-W10"</span>   </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprime la valeur actuelle de l'objet semaine_en_cours dans la console:</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>semaine_en_cours</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W10"</code></pre>
</div>
</div>
<p><span style="color: black;"><strong><em>NOTE:</em></strong> Notez que le <code>[1]</code> dans la sortie de la console R indique simplement que vous visualisez le premier élément de la sortie</span></p>
<p><span style="color: orange;"><strong><em>ATTENTION:</em></strong> <strong>La valeur d’un objet peut être écrasée</strong> à tout moment en exécutant une commande d’affectation pour redéfinir sa valeur. Ainsi, <strong>l’ordre d’exécution des commandes est très important</strong>.</span></p>
<p>La commande suivante redéfinira la valeur de <code>semaine_en_cours</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Attribuer une NOUVELLE valeur à l'objet semaine_en_cours:</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>semaine_en_cours <span class="ot">&lt;-</span> <span class="st">"2018-W51"</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher la valeur actuelle de semaine_en_cours dans la console:</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>semaine_en_cours</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2018-W51"</code></pre>
</div>
</div>
<p><strong>Signe égal <code>=</code></strong></p>
<p>Vous verrez également des signes égal dans le code R:</p>
<ul>
<li>Un double signe égal <code>==</code> entre deux objets ou valeurs pose une <em>question</em> logique: “est-ce égal à cela?”.</li>
<li>Vous verrez également des signes égal dans les fonctions utilisées pour spécifier les valeurs des arguments d’un fonction (lisez-les dans les sections ci-dessous), par exemple <code>max(age, na.rm = TRUE)</code>.</li>
<li>Vous <em>pouvez</em> utiliser un seul signe égal <code>=</code> à la place de <code>&lt;-</code> pour créer et définir des objets, mais cela est déconseillé. Vous pouvez lire pourquoi cela est déconseillé <a href="https://renkun.me/2014/01/28/difference-between-assignment-operators-in-r/">ici</a>.</li>
</ul>
<p><strong>Ensembles de données</strong></p>
<p>Les ensembles de données sont également des objets (généralement des «dataframes») et doivent recevoir des noms lors de leur importation. Dans le code ci-dessous, l’objet <code>linelist</code> est créé et reçoit la valeur d’un fichier CSV importé avec le paquet <strong>rio</strong> et sa fonction <code>import()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;&lt;linelist&gt;&gt; est créée et reçoit la valeur du fichier CSV importé:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"my_linelist.csv"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez en savoir plus sur l’importation et l’exportation d’ensembles de données dans la section sur <a href="importing.fr.html">importer et exporter</a>.</p>
<p><span style="color: orange;"><strong><em>ATTENTION:</em></strong> Une note rapide sur la dénomination des objets:</span></p>
<ul>
<li>Les noms d’objets ne doivent pas contenir d’espaces, mais vous devez utiliser un trait de soulignement (_) ou un point (.) au lieu d’un espace.</li>
<li>Les noms d’objets sont sensibles à la casse (lettres majuscules et minuscules; ce qui signifie que <strong>D</strong>ataset_A est différent de <strong>d</strong>ataset_A).</li>
<li>Les noms d’objets doivent commencer par une lettre (ne peuvent pas commencer par un chiffre comme 1, 2 ou 3).</li>
</ul>
<p><strong>Les sorties</strong></p>
<p>Les sorties telles que les tableaux et les tracés fournissent un exemple de la façon dont les sorties peuvent être enregistrées en tant qu’objets ou simplement imprimées sans être enregistrées. Un tableau croisé du sexe et du résultat à l’aide de la fonction R <strong>base</strong> <code>table()</code> peut être imprimé directement sur la console R (<em>sans</em> être enregistré).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimé sur la console R uniquement:</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p>La même table peut également être enregistrée en tant qu’objet nommé. Ensuite, éventuellement, il peut être imprimé.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enregistrer:</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>gen_out_table <span class="ot">&lt;-</span> <span class="fu">table</span>(linelist<span class="sc">$</span>gender, linelist<span class="sc">$</span>outcome)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimer:</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>gen_out_table</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Death Recover
  f  1227     953
  m  1228     950</code></pre>
</div>
</div>
<p><strong>Colonnes</strong></p>
<p>Les colonnes d’un ensemble de données sont également des objets et peuvent être définies, écrasées et créées comme décrit ci-dessous dansla section sur les colonnes.</p>
<p>Vous pouvez utiliser l’opérateur d’affectation de <strong>base</strong> R pour créer une nouvelle colonne. Ci-dessous, la nouvelle colonne <code>bmi</code> (indice de masse corporelle) est créée, et pour chaque ligne la nouvelle valeur est le résultat d’une opération mathématique sur la valeur de la ligne dans les colonnes <code>wt_kg</code> et <code>ht_cm</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer une nouvelle colonne "bmi" en utilisant la syntaxe de base R:</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>linelist<span class="sc">$</span>bmi <span class="ot">&lt;-</span> linelist<span class="sc">$</span>wt_kg <span class="sc">/</span> (linelist<span class="sc">$</span>ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Cependant, dans ce manuel, nous mettons l’accent sur une approche différente de la définition des colonnes, qui utilise la fonction <code>mutate()</code> du package <strong>dplyr</strong> et <em>piping</em> avec l’opérateur pipe (<code>%&gt;%</code>). La syntaxe est plus facile à lire et il y a d’autres avantages expliqués dans la page <a href="cleaning.fr.html">nettoyage de donnees et fonctions essentielles</a>.</p>
<p>Vous pouvez lire plus sur <em>piping</em> dans la section “Piping” ci-dessous.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer une nouvelle colonne "bmi" en utilisant la syntaxe dplyr:</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bmi =</span> wt_kg <span class="sc">/</span> (ht_cm<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section><section id="structure-dobjet" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="structure-dobjet">Structure d’objet</h3>
<p><strong>Les objets peuvent être une seule donnée (par exemple, “mon_numéro &lt;-24”), ou ils peuvent être constitués de données structurées.</strong></p>
<p>Le graphique ci-dessous est emprunté à <a href="http://venus.ifca.unican.es/Rintro/dataStruct.html">ce tutoriel R en ligne</a>. Il montre certaines structures de données courantes et leurs noms. Les données spatiales ne sont pas incluses dans cette image, qui sont abordées dans la page <a href="gis.fr.html">bases de GIS</a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/R_data_structures.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="../images/R_data_structures.png" class="quarto-figure quarto-figure-center figure-img" style="width:75.0%;height:50.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>En épidémiologie (et en particulier en épidémiologie de terrain), vous rencontrerez <em>le plus souvent</em> des trames de données et des vecteurs:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 36%">
<col style="width: 37%">
</colgroup>
<thead><tr class="header">
<th>Structure commune</th>
<th>Explication</th>
<th>Exemple</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Vecteurs</td>
<td>Un conteneur pour une séquence d’objets singuliers, tous de la même classe (par exemple numérique, caractère).</td>
<td>
<strong>Les “variables”</strong> (colonnes) dans les blocs de données sont des vecteurs (par exemple, la colonne <code>age_years</code>).</td>
</tr>
<tr class="even">
<td>Trames de données</td>
<td>Vecteurs (par exemple, des colonnes) qui sont liés ensemble et qui ont tous le même nombre de lignes.</td>
<td>
<code>linelist</code> est une trame de données.</td>
</tr>
</tbody>
</table>
<p>Notez que pour créer un vecteur “autonome” (ne faisant pas partie d’un bloc de données), la fonction <code>c()</code> est utilisée pour combiner les différents éléments. Par exemple, si vous créez un vecteur de couleurs à appliquer à l’échelle de couleurs d’un tracé:</p>
<p><code>vector_of_colors &lt;- c("blue", "red2", "orange", "grey")</code></p>
<!-- ======================================================= -->
</section><section id="classes-dobjets" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="classes-dobjets">Classes d’objets</h3>
<p>Tous les objets stockés dans R ont une <em>classe</em> qui indique à R comment gérer l’objet. Il existe de nombreuses classes possibles, mais les plus courantes incluent:</p>
<table class="caption-top table"><tbody>
<tr class="odd">
<td><strong>Classe</strong></td>
<td><strong>Explication</strong></td>
<td><strong>Exemples</strong></td>
</tr>
<tr class="even">
<td>Caractère</td>
<td>Ce sont des textes/mots/phrases <strong>“entre guillemets”</strong>. Les mathématiques ne peuvent pas être effectuées sur ces objets.</td>
<td>“Les objets caractères sont entre guillemets”</td>
</tr>
<tr class="odd">
<td>Entier</td>
<td>Nombres <strong>entiers uniquement</strong> (pas de décimales)</td>
<td>-5, 14 ou 2000</td>
</tr>
<tr class="even">
<td>Numérique</td>
<td>Ce sont des nombres et <strong>peuvent inclure des</strong> <strong>décimales</strong>. S’ils sont entre guillemets, ils seront considérés comme une classe de caractères.</td>
<td>23.1 ou 14</td>
</tr>
<tr class="odd">
<td>Facteur</td>
<td>Ce sont des vecteurs qui ont un <strong>ordre spécifié</strong> ou une hiérarchie de valeurs</td>
<td>Une variable de statut économique à valeurs ordonnées</td>
</tr>
<tr class="even">
<td>Des dates</td>
<td>
<strong>Une fois que R est</strong> <strong>informé que certaines</strong> <strong>données sont des dates</strong>, ces données peuvent être manipulées et affichées de manière spéciale. Voir la page sur manipuler les <a href="dates.fr.html">dates</a> pour plus d’informations.</td>
<td>2018-04-12 15/3/1954 mer, 4 janv, 1980</td>
</tr>
<tr class="odd">
<td>Logique</td>
<td>Les valeurs doivent être l’une des deux valeurs spéciales <code>TRUE</code> ou <code>FALSE</code> (notez qu’elles ne sont <strong>pas</strong> “TRUE” et “FALSE” entre guillemets)</td>
<td>TRUE ou FALSE</td>
</tr>
<tr class="even">
<td>data.frame a.frame</td>
<td>Une trame de données est la façon dont R stocke un <strong>ensemble de données</strong> typiques. Il se compose de vecteurs (colonnes) de données liés entre eux, qui ont tous le même nombre d’observations (lignes).</td>
<td>L’exemple de jeu de données AJS nommé linelist_raw contient 68 variables avec 300 observations (lignes) chaque.</td>
</tr>
<tr class="odd">
<td>tibble</td>
<td>Les tibbles sont une variante du cadre de données; la principale différence opérationnelle étant qu’ils s’impriment mieux sur la console (affichent les 10 premières lignes et uniquement les colonnes qui tiennent sur l’écran)</td>
<td>Tout cadre de données, liste ou matrice peut être converti en tibble avec <code>as_tibble()</code>
</td>
</tr>
<tr class="even">
<td>liste</td>
<td>Une liste est comme un vecteur, mais contient d’autres objets qui peuvent être d’autres classes différentes</td>
<td></td>
</tr>
</tbody></table>
<p><strong>Vous pouvez tester la classe d’un objet en fournissant son nom à la fonction <code>class()</code></strong>. Remarque : vous pouvez référencer une colonne spécifique dans un jeu de données en utilisant la notation «$» pour séparer le nom du jeu de données et le nom de la colonne.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La classe doit être une trame de données ou un tibble:</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist)         </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La classe doit être numérique:</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>age)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># La classe doit être caractère:</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(linelist<span class="sc">$</span>gender)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Parfois, une colonne sera automatiquement convertie dans une classe différente par R. Attention à cela ! Par exemple, si vous avez un vecteur ou une colonne de nombres, mais qu’une valeur de caractère est insérée; toute la colonne deviendra un caractère de classe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Définir le vecteur avec des numéros:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>num_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Le vecteur est de classe "numérique":</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir le troisième élément en caractère:</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>num_vector[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">"three"</span>   </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Le vecteur est maintenant de classe "caractère"</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vector)          </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Un exemple courant de ceci est lors de la manipulation d’un bloc de données afin d’imprimer un tableau. Si vous faites une ligne totale et essayez de coller/coller ensemble des pourcentages dans la même cellule que des nombres (par exemple <code>23 (40%)</code>), le toute la colonne numérique ci-dessus sera convertie en caractère et ne pourra plus être utilisée pour des calculs mathématiques. <strong>Parfois, vous devrez convertir des objets ou des colonnes dans une autre classe.</strong></p>
<table class="caption-top table"><tbody>
<tr class="odd">
<td><strong>Fonction</strong></td>
<td><strong>Action</strong></td>
</tr>
<tr class="even">
<td><code>as.character()</code></td>
<td>Convertit en classe “caractère”</td>
</tr>
<tr class="odd">
<td><code>as.numeric()</code></td>
<td>Convertit en classe “numérique”</td>
</tr>
<tr class="even">
<td><code>as.integer()</code></td>
<td>Convertit en classe “entière”</td>
</tr>
<tr class="odd">
<td><code>as.Date()</code></td>
<td>Convertit en classe “Date” <em>Remarque:</em> voir le chapitre sur les <a href="dates.fr.html">dates</a> pour plus de détails</td>
</tr>
<tr class="even">
<td><code>factor()</code></td>
<td>
<p>Convertit en classe “facteur”</p>
<p><em>Remarque:</em> la redéfinition de l’ordre des niveaux de valeur nécessite des arguments supplémentaires</p>
</td>
</tr>
</tbody></table>
<p>De même, il existe des fonctions <strong>base</strong> R pour vérifier si un objet EST d’une classe spécifique, comme <code>is.numeric()</code>, <code>is.character()</code>, <code>is.double()</code>, <code>is .facteur()</code>, <code>is.integer()</code></p>
<p>Voici <a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/">plus de matériel en ligne sur les classes et les structures de données dans R</a>.</p>
<!-- ======================================================= -->
</section><section id="colonnesvariables" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="colonnesvariables">Colonnes/Variables (<code>$</code>)</h3>
<p><strong>Une colonne dans un bloc de données est techniquement un “vecteur” (voir tableau ci-dessus)</strong> - une série de valeurs qui doivent toutes être de la même classe (caractère, numérique, logique, etc.).</p>
<p>Un vecteur peut exister indépendamment d’un bloc de données, par exemple un vecteur de noms de colonnes que vous souhaitez inclure en tant que variables explicatives dans un modèle. Pour créer un vecteur “autonome”, utilisez la fonction <code>c()</code> comme ci-dessous:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Définir le vecteur autonome des valeurs de classe caractère:</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>var_explicatives <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gender"</span>, <span class="st">"fever"</span>, <span class="st">"chills"</span>, <span class="st">"cough"</span>, <span class="st">"aches"</span>, <span class="st">"vomit"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Affiche les valeurs dans ce vecteur nommé:</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>var_explicatives</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "gender" "fever"  "chills" "cough"  "aches"  "vomit" </code></pre>
</div>
</div>
<p><strong>Les colonnes d’un bloc de données sont également des vecteurs et peuvent être appelées, référencées, extraites ou créées à l’aide du symbole <code>$</code>.</strong> Le symbole <code>$</code> relie le nom de la colonne au nom de son bloc de données. Dans ce manuel, nous essayons d’utiliser le mot “colonne” au lieu de “variable”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Récupérer la longueur du vecteur age:</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(linelist<span class="sc">$</span>age) <span class="co"># (l'âge est une colonne dans le bloc de données nomé "linelist")</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En tapant le nom de la trame de données suivi de <code>$</code>, vous verrez également un menu déroulant de toutes les colonnes de la trame de données. Vous pouvez les faire défiler à l’aide de votre touche fléchée, en sélectionner une avec votre touche Entrée et éviter les fautes d’orthographe !</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="../images/Calling_Names.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="../images/Calling_Names.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<p><span style="color: darkgreen;"><strong><em>CONSEIL AVANCÉ:</em></strong> Certains objets plus complexes (par exemple, une liste ou un objet <code>epicontacts</code>) peuvent avoir plusieurs niveaux accessibles via plusieurs signes dollar. Par exemple <code>epicontacts$linelist$date_onset</code></span></p>
<!-- ======================================================= -->
</section><section id="accèsindex-avec-crochets" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="accèsindex-avec-crochets">Accès/index avec crochets (<code>[ ]</code>)</h3>
<p>Vous devrez peut-être afficher des parties d’objets, également appelées “indexation”, ce qui se fait souvent à l’aide des crochets <code>[ ]</code>. L’utilisation de <code>$</code> sur une trame de données pour accéder à une colonne est également un type d’indexation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Définir le vecteur:</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>mon_vecteur <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimer le 5ème élément:</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>mon_vecteur[<span class="dv">5</span>]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "e"</code></pre>
</div>
</div>
<p>Les crochets fonctionnent également pour renvoyer des parties spécifiques d’une sortie renvoyée, comme la sortie d’une fonction <code>summary()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tout le résumé</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.00    6.00   13.00   16.07   23.00   84.00      86 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Juste le deuxième élément du résumé, avec le nom (en utilisant uniquement des crochets simples)</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[<span class="dv">2</span>]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1st Qu. 
      6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Juste le deuxième élément, sans nom (en utilisant des doubles crochets)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="dv">2</span>]]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire un élément par son nom, sans afficher le nom</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(linelist<span class="sc">$</span>age)[[<span class="st">"Median"</span>]]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<p>Les crochets fonctionnent également sur les blocs de données pour afficher des lignes et des colonnes spécifiques. Vous pouvez le faire en utilisant la syntaxe <code>dataframe[lignes, colonnes]</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher une ligne spécifique (2) du jeu de données, avec toutes les colonnes </span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (n'oubliez pas la virgule!)</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>,]</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher toutes les lignes, mais une seule colonne:</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>linelist[, <span class="st">"date_onset"</span>]</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les valeurs de la ligne 2 et des colonnes 5 à 10:</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les valeurs de la ligne 2 et des colonnes 5 à 10 et 18:</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">18</span>)]</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les lignes 2 à 20 et des colonnes spécifiques:</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les lignes et les colonnes en fonction de critères</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="co"># *** Notez que le dataframe doit toujours être nommé dans les critères!</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>linelist[linelist<span class="sc">$</span>age <span class="sc">&gt;</span> <span class="dv">25</span> , <span class="fu">c</span>(<span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span>)]</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisez View() pour voir les sorties dans le volet RStudio Viewer (plus facile à lire)</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="co"># *** Notez le "V" majuscule dans la fonction View()</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="st">"date_onset"</span>])</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Enregistrer en tant que nouvel objet:</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>new_table <span class="ot">&lt;-</span> linelist[<span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"date_onset"</span>)]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notez que vous pouvez également réaliser l’indexation des lignes/colonnes ci-dessus sur les blocs de données et les tibbles en utilisant la syntaxe <strong>dplyr</strong> (fonctions <code>filter()</code> pour les lignes et <code>select()</code> pour les colonnes). Pour en savoir plus sur ces fonctions principales, <a href="cleaning.fr.html">consultez la page sur le nettoyage de deonnees et fonctions essentielles</a>.</p>
<p>Pour filtrer en fonction du “numéro de ligne”, vous pouvez utiliser la fonction <strong>dplyr</strong> <code>row_number()</code> avec des parenthèses ouvertes dans le cadre d’une instruction de filtrage logique. Vous utiliserez souvent l’opérateur <code>%in%</code> et une plage de nombres dans le cadre de cette instruction logique, comme indiqué ci-dessous. Pour voir les <em>premières</em> N lignes, vous pouvez également utiliser la fonction spéciale <strong>dplyr</strong> <code>head()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les 100 premières lignes:</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">head</span>(<span class="dv">100</span>)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher la ligne 5 uniquement:</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les lignes 2 à 20 et trois colonnes spécifiques </span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="co"># (notez qu'aucun guillemet n'est nécessaire sur les noms de colonne)</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>     <span class="fu">select</span>(date_onset, issue, age)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lors de l’indexation d’un objet de classe <strong>list</strong>, les crochets simplesretournent toujours avec la classe list, même si un seul objet est retourné. Les crochets doubles, cependant, peuvent être utilisés pour accéder à un seul élément et renvoyer une classe différente de la liste.Les parenthèses peuvent également être écrites les unes après les autres, comme illustré ci-dessous.</p>
<p>Cette <a href="https://r4ds.had.co.nz/vectors.html#lists-of-condiments">explication visuelle de l’indexation des listes, avec des poivrières</a> est humoristique et utile.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># définir la liste des démos</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>ma_liste <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Le premier élément de la liste est un vecteur de caractères:</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">hopitaux =</span> <span class="fu">c</span>(<span class="st">"Central"</span>, <span class="st">"Empire"</span>, <span class="st">"Santa Anna"</span>),</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Le deuxième élément de la liste est une trame de données d'adresses:</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">adresses =</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">rue =</span> <span class="fu">c</span>(<span class="st">"145 Medical Way"</span>, <span class="st">"1048 Brown Ave"</span>, <span class="st">"999 El Camino"</span>),</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">ville =</span> <span class="fu">c</span>(<span class="st">"Andover"</span>, <span class="st">"Hamilton"</span>, <span class="st">"El Paso"</span>)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>   )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Voici à quoi ressemble la liste lorsqu’elle est imprimée sur la console. Voyez comment il y a deux éléments nommés:</p>
<ul>
<li>
<code>hôpitaux</code>, un vecteur de caractères</li>
<li>
<code>adresses</code>, une trame de données d’adresses</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>ma_liste</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hopitaux
[1] "Central"    "Empire"     "Santa Anna"

$adresses
              rue    ville
1 145 Medical Way  Andover
2  1048 Brown Ave Hamilton
3   999 El Camino  El Paso</code></pre>
</div>
</div>
<p>Maintenant, nous extrayons, en utilisant diverses méthodes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cela renvoie l'élément dans la classe "list" - le nom de l'élément est toujours affiché:</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>ma_liste[<span class="dv">1</span>] </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$hopitaux
[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cela ne renvoie que le vecteur de caractères (sans nom):</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>ma_liste[[<span class="dv">1</span>]]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vous pouvez également indexer par le nom de l'élément de la liste:</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>ma_liste[[<span class="st">"hopitaux"</span>]]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Central"    "Empire"     "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cela renvoie le troisième élément du vecteur de caractères "hôpitaux":</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>ma_liste[[<span class="dv">1</span>]][<span class="dv">3</span>] </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Santa Anna"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cela renvoie la première colonne ("rue") de la trame de données d'adresse:</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>ma_liste[[<span class="dv">2</span>]][<span class="dv">1</span>]</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              rue
1 145 Medical Way
2  1048 Brown Ave
3   999 El Camino</code></pre>
</div>
</div>
<!-- ======================================================= -->
</section><section id="supprimer-des-objets" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="supprimer-des-objets">Supprimer des objets</h3>
<p>Vous pouvez supprimer des objets individuels de votre environnement R en mettant le nom dans la fonction <code>rm()</code> (sans guillemets):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(nom_objet)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez supprimer tous les objets (vider votre espace de travail) en exécutant:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>(<span class="at">all =</span> <span class="cn">TRUE</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section></section><section id="tuyauterie-piping" class="level2" data-number="3.10"><h2 data-number="3.10" class="anchored" data-anchor-id="tuyauterie-piping">
<span class="header-section-number">3.10</span> Tuyauterie / “Piping” (<code>%&gt;%</code>)</h2>
<p><strong>Deux approches générales pour travailler avec des objets sont:</strong></p>
<ol type="1">
<li>
<strong>Pipes/tidyverse</strong> - les tuyaux envoient un objet d’une fonction à l’autre - l’accent est mis sur <em>l’action</em>, pas sur l’objet</li>
<li>
<strong>Définir les objets intermédiaires</strong> - un objet est redéfini encore et encore - l’accent est mis sur l’objet</li>
</ol>
<!-- ======================================================= --><section id="tuyaux-pipes" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="tuyaux-pipes"><strong>Tuyaux / Pipes</strong></h3>
<p><strong>Expliqué simplement, l’opérateur pipe (<code>%&gt;%</code>) passe une sortie intermédiaire d’une fonction à la suivante. </strong> Vous pouvez penser que cela signifie “alors”. De nombreuses fonctions peuvent être liées avec <code>%&gt;%</code>.</p>
<ul>
<li><strong>Le tuyau met l’accent sur une séquence d’actions, et non sur l’objet sur lequel les actions sont effectuées</strong></li>
<li>Les tuyaux sont plus efficaces lorsqu’une séquence d’actions doit être effectuée sur un objet</li>
<li>Les tuyaux proviennent du paquet <strong>magrittr</strong>, qui est automatiquement inclus dans les paquets <strong>dplyr</strong> et <strong>tidyverse</strong>
</li>
<li>Les tuyaux peuvent rendre le code plus propre et plus facile à lire, plus intuitif</li>
</ul>
<p>En savoir plus sur cette approche dans le tidyverse <a href="https://style.tidyverse.org/pipes.html">guide de style</a></p>
<p>Voici un faux exemple de comparaison, utilisant des fonctions fictives pour “faire un gâteau”. Tout d’abord, la méthode du tuyau:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un faux exemple de comment faire cuire un gâteau en utilisant la syntaxe de tuyauterie:</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>gateau <span class="ot">&lt;-</span> farine <span class="sc">%&gt;%</span> <span class="co"># pour définir le gâteau, commencez par la farine, puis...</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>     <span class="co"># ajouter des oeufs</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">add</span>(oeufs) <span class="sc">%&gt;%</span> </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>     <span class="co"># ajouter de l'huile</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">add</span>(huile) <span class="sc">%&gt;%</span> </span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>     <span class="co"># ajouter de l'eau</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>     <span class="fu">add</span>(eau) <span class="sc">%&gt;%</span> </span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>     <span class="co"># mélanger ensemble avec cuillère pour 2 minutes:</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mix_together</span>(</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">ustensil =</span> <span class="st">"spoon"</span>,</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">minutes =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>     <span class="co"># cuire à 200 degrés centigrade pour 35 minutes:</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>     <span class="fu">bake</span>(</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">degrees =</span> <span class="dv">200</span>, </span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">system =</span> <span class="st">"centigrade"</span>,</span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">minute =</span> <span class="dv">35</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>     <span class="co"># laissez-le refroidir</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>     <span class="fu">let_cool</span>() </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Voici un autre <a href="https://cfss.uchicago.edu/notes/pipes/#:~:text=Pipes%20are%20an%20extremely%20useful,code%20and%20combine%20multiple%20operations">lien</a> décrivant l’utilitaire de tuyaux.</p>
<p>La tuyauterie n’est pas une fonction de <strong>base</strong> en R. Pour utiliser la tuyauterie, le paquet <strong>magrittr</strong> doit être installé et chargé (cela se fait généralement en chargeant le paquet <strong>tidyverse</strong> ou <strong>dplyr</strong> qui l’inclut). Vous pouvez <a href="https://magrittr.tidyverse.org/">en savoir plus sur la tuyauterie dans la documentation de magrittr</a>.</p>
<p>Notez que, tout comme les autres commandes R, les tuyaux peuvent être utilisés pour afficher simplement le résultat ou pour enregistrer/réenregistrer un objet, selon que l’opérateur d’affectation <code>&lt;-</code> est impliqué ou non. Voir les deux exemplaires ci-dessous:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Créer ou écraser un objet, en le définissant sous </span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># forme de nombres agrégés par catégorie d'âge (non imprimé)</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>linelist_summary <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimez le tableau des comptes dans la console, mais ne l'enregistrez pas:</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_cat)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  age_cat    n
1     0-4 1095
2     5-9 1095
3   10-14  941
4   15-19  743
5   20-29 1073
6   30-49  754
7   50-69   95
8     70+    6
9    &lt;NA&gt;   86</code></pre>
</div>
</div>
<p><strong><code>%&lt;&gt;%</code></strong> Il s’agit d’un “tuyau d’affectation” du paquet <strong>magrittr</strong>, qui <em>transmet un objet en avant et redéfinit également l’objet</em>. Il doit être le premier opérateur pipe de la chaîne. C’est un raccourci. Les deux commandes ci-dessous sont équivalentes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisez l'opérateur d'affectation:</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilisez le tuyau d'affectation:</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>linelist <span class="sc">%&lt;&gt;%</span> <span class="fu">filter</span>(age <span class="sc">&gt;</span> <span class="dv">50</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section><section id="définir-les-objets-intermédiaires" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="définir-les-objets-intermédiaires">Définir les objets intermédiaires</h3>
<p>Cette approche de modification des objets ou trammes de données peut être meilleure si:</p>
<ul>
<li>Vous devez manipuler plusieurs objets</li>
<li>Il y a des étapes intermédiaires qui sont significatives et méritent des noms d’objets séparés</li>
</ul>
<p><strong>Des risques:</strong></p>
<ul>
<li>Créer de nouveaux objets pour chaque étape signifie créer beaucoup d’objets. Si vous utilisez le mauvais, vous ne vous en rendrez peut-être pas compte!</li>
<li>Nommer tous les objets peut prêter à confusion</li>
<li>Les erreurs peuvent ne pas être facilement détectables</li>
</ul>
<p>Soit nommer chaque objet intermédiaire, soit écraser l’original, soit combiner toutes les fonctions ensemble. Tous viennent avec leurs propres risques.</p>
<p>Vous trouverez ci-dessous le même exemple de faux “gâteau” que ci-dessus, mais en utilisant ce style:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># un faux exemple de comment faire un gâteau en utilisant cette méthode </span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (définissant des objets intermédiaires):</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajouter le farine et les oeufs:</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>pate_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(farine, oeufs)</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajouter l'huile:</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>pate_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span> (pate_1, huile)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajouter l'eau:</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>pate_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(pate_2, eau)</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Melange tous ensemble:</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>pate_4 <span class="ot">&lt;-</span> <span class="fu">mix_together</span>(<span class="at">object =</span> pate_3, </span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ustensil =</span> <span class="st">"spoon"</span>, </span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>                       <span class="at">minutes =</span> <span class="dv">2</span>)</span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Cuire le gâteau dans le four:</span></span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a>gateau <span class="ot">&lt;-</span><span class="fu">bake</span>(<span class="at">object =</span> pate_4, </span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">degrees =</span> <span class="dv">200</span>, </span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">system =</span> <span class="st">"centigrade"</span>, </span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">minutes =</span> <span class="dv">35</span>)</span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Laissez-le à refroidir:</span></span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a>gateau <span class="ot">&lt;-</span> <span class="fu">laisse_refroidir</span>(gateau)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Combinez toutes les fonctions ensemble - c’est difficile à lire :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Un exemple de combinaison/imbrication de plusieurs fonctions - difficile à lire:</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>gateau <span class="ot">&lt;-</span> <span class="fu">let_cool</span>(<span class="fu">bake</span>(<span class="fu">mix_together</span>(pate_3, </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">utensil =</span> <span class="st">"spoon"</span>, </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">minutes =</span> <span class="dv">2</span>), </span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">degrees =</span> <span class="dv">200</span>, </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">system =</span> <span class="st">"centigrade"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">minutes =</span> <span class="dv">35</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ======================================================= -->
</section></section><section id="operators" class="level2" data-number="3.11"><h2 data-number="3.11" class="anchored" data-anchor-id="operators">
<span class="header-section-number">3.11</span> Opérateurs clés et fonctions</h2>
<p>Cette section détaille les opérateurs dans R, tels que:</p>
<ul>
<li>Opérateurs définitionnels</li>
<li>Opérateurs relationnels (inférieur à, égal aussi..)</li>
<li>Opérateurs logiques (et, ou…)</li>
<li>Gestion des valeurs manquantes</li>
<li>Opérateurs et fonctions mathématiques (+/-, &gt;, sum(), median(), …)</li>
<li>L’opérateur <code>%in%</code>
</li>
</ul>
<!-- ======================================================= --><section id="opérateurs-daffectation" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="opérateurs-daffectation">Opérateurs d’affectation</h3>
<p><strong><code>&lt;-</code></strong></p>
<p>L’opérateur d’affectation de base dans R est <code>&lt;-</code>. Tel que <code>nom_objet &lt;- valeur</code>. Cet opérateur d’affectation peut également être écrit comme <code>=</code>. Nous vous conseillons d’utiliser <code>&lt;-</code> pour une utilisation générale de R.Nous conseillons également d’entourer ces opérateurs d’espaces, pour plus de lisibilité.</p>
<p><strong><code>&lt;&lt;-</code></strong></p>
<p>Si <a href="writing_functions.fr.html">Fonctions d’écriture</a>, ou si vous utilisez R de manière interactive avec des scripts sourcés, vous devrez peut-être utiliser cet opérateur d’affectation <code>&lt;&lt;-</code> (de <strong>base</strong> R). Cet opérateur est utilisé pour définir un objet dans un environnement R « parent » supérieur. Voir ceci <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">référence en ligne</a>.</p>
<p><strong><code>%&lt;&gt;%</code></strong></p>
<p>Il s’agit d’un “tuyau d’affectation” du paquet <strong>magrittr</strong>, qui dirige un objet vers l’avant et <em>redéfinit également l’objet</em>. Il doit être le premier opérateur pipe de la chaîne. Il s’agit d’un raccourci.</p>
<p><strong><code>%&lt;+%</code></strong></p>
<p>Ceci est utilisé pour ajouter des données aux arbres phylogénétiques avec le package <strong>ggtree</strong>. Voir la page sur les <a href="phylogenetic_trees.fr.html">arbres phylogénétiques</a> ou ce <a href="https://yulab-smu.top/treedata-book/">livre de ressources en ligne</a>.</p>
<!-- ======================================================= -->
</section><section id="opérateurs-relationnels-et-logiques" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="opérateurs-relationnels-et-logiques">Opérateurs relationnels et logiques</h3>
<p>Les opérateurs relationnels comparent les valeurs et sont souvent utilisés lors de la définition de nouvelles variables et de sous-ensembles des blocs de données. Voici les opérateurs relationnels courants dans R:</p>
<table class="caption-top table"><tbody>
<tr class="odd">
<td><strong>Sens</strong></td>
<td></td>
<td><strong>Opérateur</strong></td>
<td></td>
<td><strong>Exemple</strong></td>
<td><strong>Exemple de résultat</strong></td>
</tr>
<tr class="even">
<td>Égal à</td>
<td></td>
<td><code>==</code></td>
<td></td>
<td><code>" A" = =  "a"</code></td>
<td>
<p><code>FALSE</code> (parce que R est sensible à la casse)</p>
<p>Notez que <code>==</code> (double égal) est différent de <code>=</code> (simple égal), qui agit comme l’opérateur d’affectation <code>&lt;-</code></p>
</td>
</tr>
<tr class="odd">
<td>Non égal à</td>
<td></td>
<td><code>!=</code></td>
<td></td>
<td><code>2 != 0</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Supérieur a</td>
<td></td>
<td><code>&gt;</code></td>
<td></td>
<td><code>4 &gt; 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Moins de</td>
<td></td>
<td><code>&lt;</code></td>
<td></td>
<td><code>4 &lt; 2</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td>Supérieur ou égal à</td>
<td></td>
<td><code>&gt;=</code></td>
<td></td>
<td><code>6 &gt;= 4</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Inférieur ou égal à</td>
<td></td>
<td><code>&lt;=</code></td>
<td></td>
<td><code>6 &lt;= 4</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td>Valeur manquante</td>
<td></td>
<td><code>is.na()</code></td>
<td></td>
<td><code>is.na(7)</code></td>
<td>
<p><code>FALSE</code></p>
<p>voir page sur valeur <a href="missing_data.fr.html">manquante</a></p>
</td>
</tr>
<tr class="odd">
<td>Valeur ne | <code>!is.na()</code> manque pas |</td>
<td></td>
<td></td>
<td></td>
<td>
<code>!is.na(7)</code> | <code>TRUE</code> |</td>
<td></td>
</tr>
</tbody></table>
<p>Les opérateurs logiques, tels que ET et OU, sont souvent utilisés pour connecter des opérateurs relationnels et créer des critères plus complexes. Les instructions complexes peuvent nécessiter des parenthèses ( ) pour le regroupement et l’ordre d’application.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 75%">
</colgroup>
<thead><tr class="header">
<th>Sens</th>
<th>Opérateur</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>ET</td>
<td><code>&amp;</code></td>
</tr>
<tr class="even">
<td>OU</td>
<td>
<code>|</code> (barre verticale)</td>
</tr>
<tr class="odd">
<td>Parenthèses</td>
<td>
<code>( )</code> Utilisé pour regrouper les critères et clarifier l’ordre des opérations</td>
</tr>
</tbody>
</table>
<p>Par exemple, ci-dessous, nous avons une liste linéaire avec deux variables que nous voulons utiliser pour créer notre définition de cas, <code>resultat_tdr</code>, un résultat d’un test rapide, et <code>autres_cas_menage</code>, qui nous dira s’il y a d’autres cas dans le ménage. La commande ci-dessous utilise la fonction <code>case_when()</code> pour créer la nouvelle variable <code>case_def</code> telle que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>linelist_propre <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">case_def =</span> <span class="fu">case_when</span>(</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(resultat_tdr) <span class="sc">&amp;</span> <span class="fu">is.na</span>(autres_cas_menage)             <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    resultat_tdr <span class="sc">==</span> <span class="st">"Positive"</span>                                 <span class="sc">~</span> <span class="st">"Confirmé"</span>,</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    resultat_tdr <span class="sc">!=</span> <span class="st">"Positive"</span> <span class="sc">&amp;</span> other_cases_in_home <span class="sc">==</span> <span class="st">"Oui"</span>  <span class="sc">~</span> <span class="st">"Probable"</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                                       <span class="sc">~</span> <span class="st">"Suspect"</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 73%">
<col style="width: 23%">
</colgroup>
<thead><tr class="header">
<th>Critères dans l’exemple ci-dessus</th>
<th>Valeur dans “case_def”</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Si la valeur des variables <code>resultat_tdr</code> et <code>autres_cas_menage</code> est manquante</td>
<td>
<code>NA</code> (manquante)</td>
</tr>
<tr class="even">
<td>Si la valeur dans <code>resultat_tdr</code> est “Positive”</td>
<td>“Confirmé”</td>
</tr>
<tr class="odd">
<td>Si la valeur dans <code>resultat_tdr</code> n’est pas “Positive” <strong>ET</strong> la valeur dans <code>autres_cas_menage</code> est “Oui”</td>
<td>“Probable”</td>
</tr>
<tr class="even">
<td>Si l’un des critères ci-dessus n’est pas rempli</td>
<td>“Suspect”</td>
</tr>
</tbody>
</table>
<p><em>Notez que R est sensible à la casse, donc “Positif” est différent de “positif”…</em></p>
<!-- ======================================================= -->
</section><section id="valeurs-manquantes" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="valeurs-manquantes">Valeurs manquantes</h3>
<p>Dans R, les valeurs manquantes sont représentées par la valeur spéciale <code>NA</code> (une valeur “réservée”) (lettres majuscules N et A - pas entre guillemets). Si vous importez des données qui enregistrent des données manquantes d’une autre manière (par exemple, 99, “Missing” ou .), vous pouvez recoder ces valeurs en “NA”. La procédure à suivre est expliquée dans la page <a href="importing.fr.html">importer et exporter</a>.</p>
<p><strong>Pour tester si une valeur est <code>NA</code>, utilisez la fonction spéciale <code>is.na()</code></strong>, qui renvoie <code>TRUE</code> ou <code>FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 cas positives, un suspect et un inconnu:</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>resultat_tdr <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Positive"</span>, <span class="st">"Suspect"</span>, <span class="st">"Positive"</span>, <span class="cn">NA</span>)   </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Verifier si il y' a des valeurs manquantes:</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(resultat_tdr)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE</code></pre>
</div>
</div>
<p>En savoir plus sur les valeurs manquantes, infinies, <code>NULL</code> et impossibles dans la page sur <a href="missing_data.fr.html">les valeur manquantes</a>. Découvrez comment convertir les valeurs manquantes lors de l’importation de données dans la page sur <a href="importing.fr.html">importer et exporter</a>.</p>
<!-- ======================================================= -->
</section><section id="mathématiques-et-statistiques" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="mathématiques-et-statistiques">Mathématiques et statistiques</h3>
<p>Tous les opérateurs et fonctions de cette page sont automatiquement disponibles en utilisant <strong>base</strong> R.</p>
<section id="opérateurs-mathématiques" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="opérateurs-mathématiques">Opérateurs mathématiques</h4>
<p>Ceux-ci sont souvent utilisés pour effectuer des additions, des divisions, pour créer de nouvelles colonnes, etc. Vous trouverez ci-dessous des opérateurs mathématiques courants dans R. Que vous mettiez des espaces autour des opérateurs n’est pas important.</p>
<table class="caption-top table">
<thead><tr class="header">
<th>Objectif</th>
<th>Exemple en R</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>addition</td>
<td>2 + 3</td>
</tr>
<tr class="even">
<td>soustraction</td>
<td>2 - 3</td>
</tr>
<tr class="odd">
<td>multiplication</td>
<td>2 * 3</td>
</tr>
<tr class="even">
<td>division</td>
<td>30 / 5</td>
</tr>
<tr class="odd">
<td>exposant</td>
<td>2^3</td>
</tr>
<tr class="even">
<td>ordre des opérations</td>
<td>( )</td>
</tr>
</tbody>
</table></section><section id="fonctions-mathématiques" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="fonctions-mathématiques">Fonctions mathématiques</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 43%">
<col style="width: 52%">
</colgroup>
<thead><tr class="header">
<th>Objectif</th>
<th>Fonction</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>arrondir</td>
<td>round(x, digits = n)</td>
</tr>
<tr class="even">
<td>arrondir</td>
<td>janitor::round_half_up(x, digits = n)</td>
</tr>
<tr class="odd">
<td>plafond (arrondi)</td>
<td>ceiling(x)</td>
</tr>
<tr class="even">
<td>étage (arrondir à l’inférieur)</td>
<td>floor(x)</td>
</tr>
<tr class="odd">
<td>valeur absolue</td>
<td>abs(x)</td>
</tr>
<tr class="even">
<td>racine carrée</td>
<td>sqrt(x)</td>
</tr>
<tr class="odd">
<td>exposant</td>
<td>exponent(x)</td>
</tr>
<tr class="even">
<td>un algorithme naturel</td>
<td>log(x)</td>
</tr>
<tr class="odd">
<td>log à la base 10</td>
<td>log10(x)</td>
</tr>
<tr class="even">
<td>log à la base 2</td>
<td>log2(x)</td>
</tr>
</tbody>
</table>
<p>Remarque: pour <code>round()</code>, les <code>digits =</code> spécifient le nombre de décimales placées. Utilisez <code>signif()</code> pour arrondir à un nombre de chiffres significatifs.</p>
</section><section id="notation-scientifique" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="notation-scientifique">Notation scientifique</h4>
<p>La probabilité d’utilisation de la notation scientifique dépend de la valeur de l’option “scipen”.</p>
<p>D’après la documentation de <code>?options</code>: scipen est une pénalité à appliquer lors de la décision d’imprimer des valeurs numériques en notation fixe ou exponentielle. Les valeurs positives tendent vers la notation fixe et négatives vers la notation scientifique: la notation fixe sera préférée à moins qu’elle ne soit plus large de plus de ‘scipen’.</p>
<p>S’il est réglé sur un nombre faible (par exemple 0), il sera toujours “allumé”. Pour “désactiver” la notation scientifique dans votre session R, définissez-la sur un nombre très élevé, par exemple:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Désactiver la notation scientifique</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="arrondi" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="arrondi">Arrondi</h4>
<p><span style="color: rouge;"><strong><em>DANGER:</em></strong> <code>round()</code> utilise “l’arrondi du banquier” qui arrondit à partir de 0,5 uniquement si le nombre supérieur est pair. Utilisez <code>round_half_up()</code> de <strong>janitor</strong> pour arrondir systématiquement les moitiés au nombre entier le plus proche. Voir <a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html#explore-records-with-duplicated-values-for-specific-combinations-of-variables-%20with-get_dupes">cette explication</a></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fonction d'arrondi avec R de base:</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fonction d'arrondi du paquet "janitor":</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">round_half_up</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="fl">3.5</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</section><section id="fonctions-statistiques" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="fonctions-statistiques">Fonctions statistiques</h4>
<p><span style="color: orange;"><strong><em>ATTENTION:</em></strong> Les fonctions ci-dessous incluront par défaut les valeurs manquantes dans les calculs. Les valeurs manquantes entraîneront une sortie de <code>NA</code>, sauf si l’argument <code>na.rm = TRUE</code> est spécifié. Cela peut être écrit en raccourci comme <code>na.rm = T</code>.</span></p>
<table class="caption-top table">
<thead><tr class="header">
<th>Objective</th>
<th>Fonction</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>moyen</td>
<td>mean(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>médian</td>
<td>median(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>écart-type</td>
<td>sd(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>quantiles</td>
<td>quantile(x, probs)</td>
</tr>
<tr class="odd">
<td>somme</td>
<td>sum(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>valeur minimum</td>
<td>min(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>valeur maximum</td>
<td>max(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>plage de valeurs numériques</td>
<td>range(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>sommaire</td>
<td>summary(x)</td>
</tr>
</tbody>
</table>
<p>Remarques:</p>
<ul>
<li>
<code>*quantile()</code>: <code>x</code> est le vecteur numérique à examiner et <code>probs =</code> est un vecteur numérique avec des probabilités comprises entre 0 et 1,0, par exemple <code>c(0,5, 0,8, 0,85)</code>
</li>
<li>
<code>**summary()</code>: donne un résumé sur un vecteur numérique comprenant la moyenne, la médiane et les centiles communs</li>
</ul>
<p><span style="color: red;"><strong><em>DANGER:</em></strong> Si vous fournissez un vecteur de nombres à l’une des fonctions ci-dessus, assurez-vous d’envelopper les nombres dans <code>c()</code>.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si vous fournissez des nombres bruts à une fonction, </span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="co"># enveloppez-les dans c():</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co"># !!! ERREUR !!!</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)      </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># CORRECT</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">0</span>)) </span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.666667</code></pre>
</div>
</div>
</section><section id="autres-fonctions-utiles" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="autres-fonctions-utiles">Autres fonctions utiles</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 23%">
<col style="width: 43%">
</colgroup>
<thead><tr class="header">
<th>Objectif</th>
<th>Fonction</th>
<th>Exemple</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>créer une séquence</td>
<td>seq(from, to, by)</td>
<td><code>seq(1, 10, 2)</code></td>
</tr>
<tr class="even">
<td>répéter x, n fois</td>
<td>rep(x, ntimes)</td>
<td>
<code>rep(1:3, 2)</code> or <code>rep(c("a", "b", "c"), 3)</code>
</td>
</tr>
<tr class="odd">
<td>subdiviser un vecteur numérique</td>
<td>cut(x, n)</td>
<td><code>cut(linelist$age, 5)</code></td>
</tr>
<tr class="even">
<td>prendre un échantillon au hasard</td>
<td>sample(x, size)</td>
<td><code>sample(linelist$i d , size = 5, replace = TRUE)</code></td>
</tr>
</tbody>
</table>
<!-- ======================================================= --></section></section><section id="in" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="in"><code>%in%</code></h3>
<p>Un opérateur très utile pour faire correspondre les valeurs et pour évaluer rapidement si une valeur se trouve dans un vecteur ou une trame de données:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>mon_vecteur <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="st">"a"</span> <span class="sc">%in%</span> mon_vecteur</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="st">"h"</span> <span class="sc">%in%</span> mon_vecteur</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Pour demander si une valeur n’est <strong>pas</strong> <code>%in%</code> un vecteur, placez un point d’exclamation (!) <strong>devant</strong> l’instruction logique:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour nier, mettre une exclamation devant:</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"a"</span> <span class="sc">%in%</span> mon_vecteur</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="st">"h"</span> <span class="sc">%in%</span> mon_vecteur</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p><code>%in%</code> est très utile lors de l’utilisation de la fonction <strong>dplyr</strong> <code>case_when()</code>. Vous pouvez définir un vecteur précédemment, puis le référencer ultérieurement. Par exemple:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist <span class="sc">%&gt;%</span> </span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">enfant_hospitalise =</span> <span class="fu">case_when</span>(</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>    hospitalise <span class="sc">%in%</span> affirmative <span class="sc">&amp;</span> age <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Hospitalized Child"</span>,</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                                    <span class="sc">~</span> <span class="st">"Not"</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Remarque: Si vous souhaitez détecter une chaîne partielle, en utilisant peut-être <code>str_detect()</code> de <strong>stringr</strong>, il n’acceptera pas un vecteur de caractères tel que <code>c("1", "Oui", "oui", "y ")</code>. Au lieu de cela, il doit recevoir une <em>expression régulière</em> - une chaîne condensée avec des barres OU, telle que “1|Oui|oui|y”. Par exemple, <code>str_detect(hospitalisé, "1|Oui|oui|y")</code>. Voir la page sur <a href="characters_strings.fr.html">les caractères et les chaîne de caractères</a> pour plus d’informations.</p>
<p>Vous pouvez convertir un vecteur de caractères en une expression régulière nommée avec cette commande:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>affirmative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>affirmative</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"   "Yes" "YES" "yes" "y"   "Y"   "oui" "Oui" "Si" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Condenser à: </span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">paste0</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)  <span class="co"># option avec R de base</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>affirmative_str_search <span class="ot">&lt;-</span> <span class="fu">str_c</span>(affirmative, <span class="at">collapse =</span> <span class="st">"|"</span>)   <span class="co"># option avec le paquet stringr</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>affirmative_str_search</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1|Yes|YES|yes|y|Y|oui|Oui|Si"</code></pre>
</div>
</div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</section></section><section id="erreurs-et-avertissements" class="level2" data-number="3.12"><h2 data-number="3.12" class="anchored" data-anchor-id="erreurs-et-avertissements">
<span class="header-section-number">3.12</span> Erreurs et avertissements</h2>
<p>Cette section explique :</p>
<ul>
<li>La différence entre les erreurs et les avertissements<br>
</li>
<li>Conseils généraux de syntaxe pour l’écriture de code R<br>
</li>
<li>Aides au code</li>
</ul>
<p>Les erreurs et avertissements courants ainsi que des conseils de dépannage sont disponibles sur la page <a href="#errors">erreurs frequentes</a>.</p>
<!-- ======================================================= -->
<section id="erreur-contre-avertissement" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="erreur-contre-avertissement">Erreur contre avertissement</h3>
<p>Lorsqu’une commande est exécutée, la console R peut afficher des messages d’avertissement ou d’erreur en texte rouge.</p>
<ul>
<li><p>Un <strong>avertissement</strong> signifie que R a terminé votre commande, mais a dû prendre des mesures supplémentaires ou a produit une sortie inhabituelle dont vous devez être conscient.</p></li>
<li><p>Une <strong>erreur</strong> signifie que R n’a pas pu terminer votre commande.</p></li>
</ul>
<p>Cherchez des indices:</p>
<ul>
<li><p>Le message d’erreur/d’avertissement inclura souvent un numéro de ligne pour le problème.</p></li>
<li><p>Si un objet “est inconnu” ou “introuvable”, vous l’avez peut-être mal orthographié, vous avez oublié d’appeler un package avec library() ou vous avez oublié de relancer votre script après avoir apporté des modifications.</p></li>
</ul>
<p>Si tout le reste échoue, copiez le message d’erreur dans Google avec quelques termes clés - il y a de fortes chances que quelqu’un d’autre ait déjà travaillé dessus!</p>
<!-- ======================================================= -->
</section><section id="conseils-généraux-sur-la-syntaxe" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="conseils-généraux-sur-la-syntaxe">Conseils généraux sur la syntaxe</h3>
<p>Quelques points à retenir lors de l’écriture de commandes dans R, pour éviter les erreurs et les avertissements:</p>
<ul>
<li>Fermez toujours les parenthèses - astuce: comptez le nombre de “(” et de parenthèses fermantes “)” pour chaque bloc de code</li>
<li>Évitez les espaces dans les noms de colonnes et d’objets. Utilisez le trait de soulignement ( _ ) ou les points ( . ) à la place</li>
<li>Gardez une trace et n’oubliez pas de séparer les arguments d’une fonction par des virgules</li>
<li>R est sensible à la casse, ce qui signifie que <code>Variable_A</code> est <em>différent</em> de <code>Variable_a</code>
</li>
</ul>
<!-- ======================================================= --></section><section id="aides-au-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="aides-au-code">Aides au code</h3>
<p>N’importe quel script (RMarkdown ou autre) donnera des indices lorsque vous avez fait une erreur. Par exemple, si vous avez oublié d’écrire une virgule là où c’est nécessaire, ou de fermer une parenthèse, RStudio lèvera un drapeau sur cette ligne, sur le côté droit du script, pour vous avertir.</p>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../new_pages/data_used.fr.html" class="pagination-link" aria-label="Télécharger le manuel et les données">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>  <span class="chapter-title">Télécharger le manuel et les données</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../new_pages/transition_to_R.fr.html" class="pagination-link" aria-label="Transition vers R">
        <span class="nav-page-text"><span class="chapter-number">4</span>  <span class="chapter-title">Transition vers R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
       
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div>
</div>
    <div class="nav-footer-right">
       
    </div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","descPosition":"bottom","loop":false,"openEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>
</body>
</html>
