# Рекомендованные пакеты

Ниже представлен длинный список рекомендованных пакетов для частых видов эпидемиологических работ в R. Вы можете скопировать этот код, выполнить его, и все эти пакеты будут установлены из CRAN и загружены для использования в текущей сессии R. Если пакет уже установлен, он просто будет загружен для использования.  

Вы можете изменить код с помощью символов `#`, чтобы исключить те пакеты, которые вам не нужны.  

Важно отметить:  

* Прежде чем выполнить, указанный ниже код, установите пакет **pacman**. Вы можете это сделать с помощью `install.packages("pacman")`. В данном руководстве мы подчеркиваем использование `p_load()` из пакета **pacman**, которая устанавливает пакет, если необходимо, *и* загружает его для использования в текущей сессии R. Вы можете также загрузить пакеты, которые уже установлены, с помощью `library()` из **базового** R.  
* В коде ниже те пакеты, которые включены при установке/загрузке другого пакета, отмечены с помощью отступа и решетки. Например, посмотрите, что **ggplot2** указан под **tidyverse**.  
* Если в нескольких пакетах есть функции с одинаковым названием, может произойти *маскирование*, когда функция из последнего загруженного пакета будет иметь приоритет. Более детально вы можете прочитать об этом на странице [Основы R](basics.ru.qmd). Подумайте над тем, чтобы использовать пакет **conflicted** для решения таких конфликтов.  
* См. раздел [Основы R](basics.ru.qmd) по пакетам, чтобы получить дополнительную информацию о пакете **pacman** и маскировании.  

Чтобы увидеть версии R, RStudio и пакетов R, использованных при подготовке данного руководства, см. страницу [Редакционные и технические замечания](editorial_style.ru.qmd).  

## Пакеты из CRAN  

```{r, eval=F}

##########################################
# Список полезных пакетов R для эпидемиологии #
##########################################

# Данный скрипт использует функцию p_load() из пакета R pacman, 
# которая устанавливает пакет, если он отсутствует, и загружает его, если он уже установлен


# Проверяет, что пакет "pacman" установлен
if (!require("pacman")) install.packages("pacman")


# Пакеты доступные на CRAN
##############################
pacman::p_load(
     
     # изучение R
     ############
     learnr,   # интерактивные самоучители на панели RStudio Tutorial (обучение)
     swirl,    # интерактивные самоучители в консоли R
        
     # управление проектом и файлами
     #############################
     here,     # пути к файлам, относительные для корневой папки проекта R
     rio,      # импорт/экспорт многих типов данных
     openxlsx, # импорт/экспорт рабочих книг Excel с несколькими листами 
     
     # установка и управление пакетами
     ################################
     pacman,   # установка/загрузка пакетов
     renv,     # управление версиями пакетов при совместной работе в группах
     remotes,  # установка с github
     
     # Общие вопросы управления данными
     #########################
     tidyverse,    # включает множество пакетов для работы и презентации аккуратных данных
          #dplyr,      # управление данными
          #tidyr,      # управление данными
          #ggplot2,    # визуализация данных
          #stringr,    # работа с последовательностями и текстом
          #forcats,    # работа с факторами 
          #lubridate,  # работа с датами
          #purrr       # повторения и работа со списками
     linelist,     # вычистка построчных списков
     naniar,       # оценка отсутствующих данных
     
     # статистика  
     ############
     janitor,      # таблицы и вычистка данных
     gtsummary,    # создание описательных и статистических таблиц
     rstatix,      # быстрое проведение статистических тестов и кратких сводок
     broom,        # вычистка результатов регрессий
     lmtest,       # тесты на отношение правдоподобия
     easystats,
          # parameters, # альтернатива для вычистки результатов регрессий
          # see,        # альтернатива для визуализации форест-диаграмм 
     
     # моделирование эпидемий
     ###################
     epicontacts,  # анализ сетей распространения инфекции
     EpiNow2,      # оценка Rt
     EpiEstim,     # оценка Rt
     projections,  # прогнозирование заболеваемости
     incidence2,   # создание эпидкривых и работа с данными по заболеваемости
     i2extras,     # дополнительные функции из пакета incidence2
     epitrix,      # полезные эпидемиологические функции
     distcrete,    # дискретные распределения времени задержки
     
     
     # графики - общие моменты
     #################
     #ggplot2,         # включен в tidyverse
     cowplot,          # объединение графиков  
     # patchwork,      # объединение графиков (альтернатива)     
     RColorBrewer,     # цветовые шкалы
     ggnewscale,       # для добавления дополнительных слоев цветовых схем

     
     # графики - специфические типы
     ########################
     DiagrammeR,       # диаграммы с использованием языка DOT
     incidence2,       # эпидемические кривые
     gghighlight,      # выделяет подмножество
     ggrepel,          # смарт подписи
     plotly,           # интерактивные графики
     gganimate,        # анимированные графики 

     
     # ГИС
     ######
     sf,               # для управления пространственными данными с использованием формата простого пространственного объекта
     tmap,             # для создания простых кар, работает как с интерактивными, так и со статичными картами
     OpenStreetMap,    # для добавления базовой карты OSM на карту ggplot
     spdep,            # пространственная статистика 
     
     # рутинные отчеты
     #################
     rmarkdown,        # создание файлов PDF, Word, Powerpoint и HTML
     reportfactory,    # авто-организация выходных данных R Markdown
     officer,          # презентации powerpoint
     
     # информационные панели
     ############
     flexdashboard,    # конвертация скрипта R Markdown в информационную панель
     shiny,            # интерактивные веб-приложения
     
     # таблицы для презентации
     #########################
     knitr,            # генерирование отчета R Markdown и html таблиц
     flextable,        # таблицы HTML
     #DT,              # таблицы HTML (альтернатива)
     #gt,              # таблицы HTML (альтернатива)
     #huxtable,        # таблицы HTML (альтернатива)
     
     # филогенетика
     ###############
     ggtree,           # визуализация и аннотация деревьев
     ape,              # анализ филогенетики и эволюции
     treeio            # визуализация филогенетических файлов
 
)

```

## Пакеты с Github  


Ниже представлены команды для установки пакетов напрямую из репозиториев Github.  

* Версия разработчиков для пакета **epicontacts** содержит возможность создания деревьев распространения с временной осью x  
* Пакет **epirhandbook** содержит все примеры данных для данного руководства и может быть использован для скачивания оффлайн версии руководства.  


```{r, eval=F}
# Пакеты, которые можно скачать с Github (не доступные на CRAN)
##########################################################

# Версия разработчиков пакета epicontacts (для цепочек передачи с временем на оси x)
pacman::p_install_gh("reconhub/epicontacts@timeline")

# Пакет для данного руководства, который включает все примеры данных  
pacman::p_install_gh("appliedepi/epirhandbook")



```

